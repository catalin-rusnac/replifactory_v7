import{q as qt,v as fh,x as Qc,g as Lt,y as dh,z as hh,A as ph,_ as tf,c as ge,B as gh,r as Ge,o as nt,a as xt,j as Yt,m as vh,u as us,b as et,k as en,p as ls,l as Jt,e as cs,F as nn,f as ef,i as mh}from"./index-f729a81f.js";/* empty css              */import{V as _h}from"./VialPlot-130ebaf4.js";const yh="revo-grid",re={hydratedSelectorName:"hydrated",lazyLoad:!0,shadowDom:!1,slotRelocation:!0,updatable:!0};var bh=Object.defineProperty,$h=(t,e)=>{for(var r in e)bh(t,r,{get:e[r],enumerable:!0})},M$={isDev:!1},Sh="http://www.w3.org/2000/svg",wh="http://www.w3.org/1999/xhtml",nf=(t=>(t.Undefined="undefined",t.Null="null",t.String="string",t.Number="number",t.SpecialNumber="number",t.Boolean="boolean",t.BigInt="bigint",t))(nf||{}),rf=(t=>(t.Array="array",t.Date="date",t.Map="map",t.Object="object",t.RegularExpression="regexp",t.Set="set",t.Channel="channel",t.Symbol="symbol",t))(rf||{}),kn="type",Fn="value",Ri="serialized:",K=t=>{if(t.__stencil__getHostRef)return t.__stencil__getHostRef()},j$=(t,e)=>{t.__stencil__getHostRef=()=>e,e.$lazyInstance$=t},Eh=(t,e)=>{const r={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};r.$onInstancePromise$=new Promise(o=>r.$onInstanceResolve$=o),r.$onReadyPromise$=new Promise(o=>r.$onReadyResolve$=o),t["s-p"]=[],t["s-rc"]=[];const n=r;return t.__stencil__getHostRef=()=>n,n},Xs=(t,e)=>e in t,Q=(t,e)=>(0,console.error)(t,e),Nn=new Map,xh=(t,e,r)=>{const n=t.$tagName$.replace(/-/g,"_"),o=t.$lazyBundleId$;if(!o)return;const s=Nn.get(o);if(s)return s[n];if(!r||!re.hotModuleReplacement){const l=c=>(Nn.set(o,c),c[n]);switch(o){case"revo-grid":return qt(()=>import("./revo-grid.entry-791296ab.js"),["assets/revo-grid.entry-791296ab.js","assets/viewport.helpers-B3EYGhqf-209ef02f.js","assets/events-BvSmBueA-09314f63.js","assets/index-f729a81f.js","assets/index-64b79996.css","assets/VialPlot-130ebaf4.js","assets/VialPlot-99ae24f6.css","assets/index-680fb22b.css"]).then(l,Q);case"revogr-filter-panel":return qt(()=>import("./revogr-filter-panel.entry-66348d96.js"),["assets/revogr-filter-panel.entry-66348d96.js","assets/index-f729a81f.js","assets/index-64b79996.css","assets/VialPlot-130ebaf4.js","assets/VialPlot-99ae24f6.css","assets/index-680fb22b.css"]).then(l,Q);case"revogr-attribution_7":return qt(()=>import("./revogr-attribution_7.entry-d9f6f323.js"),["assets/revogr-attribution_7.entry-d9f6f323.js","assets/events-BvSmBueA-09314f63.js","assets/edit.utils-Jiu7iP-o-c8fc10f5.js","assets/viewport.helpers-B3EYGhqf-209ef02f.js","assets/throttle-BIDp67oD-08085174.js","assets/index-f729a81f.js","assets/index-64b79996.css","assets/VialPlot-130ebaf4.js","assets/VialPlot-99ae24f6.css","assets/index-680fb22b.css"]).then(l,Q);case"revogr-clipboard_3":return qt(()=>import("./revogr-clipboard_3.entry-d431dc3e.js"),["assets/revogr-clipboard_3.entry-d431dc3e.js","assets/edit.utils-Jiu7iP-o-c8fc10f5.js","assets/index-f729a81f.js","assets/index-64b79996.css","assets/VialPlot-130ebaf4.js","assets/VialPlot-99ae24f6.css","assets/index-680fb22b.css"]).then(l,Q);case"revogr-data_4":return qt(()=>import("./revogr-data_4.entry-0f5ee763.js"),["assets/revogr-data_4.entry-0f5ee763.js","assets/throttle-BIDp67oD-08085174.js","assets/viewport.helpers-B3EYGhqf-209ef02f.js","assets/index-f729a81f.js","assets/index-64b79996.css","assets/VialPlot-130ebaf4.js","assets/VialPlot-99ae24f6.css","assets/index-680fb22b.css"]).then(l,Q)}}return qt(()=>import(`./${o}.entry.js`),[]).then(l=>(Nn.set(o,l),l[n]),l=>{Q(l,e.$hostElement$)})},rn=new Map,Th="r",Oh="o",Ch="s",Ih="t",Ah="c",ve="s-id",Ks="sty-id",Vs="c-id",of="slot-fb{display:contents}slot-fb[hidden]{display:none}",Zs="http://www.w3.org/1999/xlink",k=typeof window<"u"?window:{},M={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,r,n)=>t.addEventListener(e,r,n),rel:(t,e,r,n)=>t.removeEventListener(e,r,n),ce:(t,e)=>new CustomEvent(t,e)},Dh=re.shadowDom,Rh=(()=>{var t;let e=!1;try{(t=k.document)==null||t.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),Ph=t=>Promise.resolve(t),sf=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Pi=!1,Js=[],af=[],Lh=(t,e)=>r=>{t.push(r),Pi||(Pi=!0,e&&M.$flags$&4?mn(Li):M.raf(Li))},Qs=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(r){Q(r)}t.length=0},Li=()=>{Qs(Js),Qs(af),(Pi=Js.length>0)&&M.raf(Li)},mn=t=>Ph().then(t),Mh=Lh(af,!0),fs=t=>(t=typeof t,t==="object"||t==="function");function uf(t){var e,r,n;return(n=(r=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:r.getAttribute("content"))!=null?n:void 0}var jh=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),zh=class Rt{static fromLocalValue(e){const r=e[kn],n=Fn in e?e[Fn]:void 0;switch(r){case"string":return n;case"boolean":return n;case"bigint":return BigInt(n);case"undefined":return;case"null":return null;case"number":return n==="NaN"?NaN:n==="-0"?-0:n==="Infinity"?1/0:n==="-Infinity"?-1/0:n;case"array":return n.map(i=>Rt.fromLocalValue(i));case"date":return new Date(n);case"map":const o=new Map;for(const[i,a]of n){const u=typeof i=="object"&&i!==null?Rt.fromLocalValue(i):i,d=Rt.fromLocalValue(a);o.set(u,d)}return o;case"object":const s={};for(const[i,a]of n)s[i]=Rt.fromLocalValue(a);return s;case"regexp":const{pattern:l,flags:c}=n;return new RegExp(l,c);case"set":const f=new Set;for(const i of n)f.add(Rt.fromLocalValue(i));return f;case"symbol":return Symbol(n);default:throw new Error(`Unsupported type: ${r}`)}}static fromLocalValueArray(e){return e.map(r=>Rt.fromLocalValue(r))}static isLocalValueObject(e){if(typeof e!="object"||e===null||!e.hasOwnProperty(kn))return!1;const r=e[kn];return Object.values({...nf,...rf}).includes(r)?r!=="null"&&r!=="undefined"?e.hasOwnProperty(Fn):!0:!1}},kh={};$h(kh,{err:()=>lf,map:()=>Fh,ok:()=>Mi,unwrap:()=>Nh,unwrapErr:()=>Hh});var Mi=t=>({isOk:!0,isErr:!1,value:t}),lf=t=>({isOk:!1,isErr:!0,value:t});function Fh(t,e){if(t.isOk){const r=e(t.value);return r instanceof Promise?r.then(n=>Mi(n)):Mi(r)}if(t.isErr){const r=t.value;return lf(r)}throw"should never get here"}var Nh=t=>{if(t.isOk)return t.value;throw t.value},Hh=t=>{if(t.isErr)return t.value;throw t.value};function Bh(t){return typeof t!="string"||!t.startsWith(Ri)?t:zh.fromLocalValue(JSON.parse(atob(t.slice(Ri.length))))}var cf=t=>{const e=on(t,"childNodes");t.tagName&&t.tagName.includes("-")&&t["s-cr"]&&t.tagName!=="SLOT-FB"&&ff(e,t.tagName).forEach(n=>{n.nodeType===1&&n.tagName==="SLOT-FB"&&(qh(n,ds(n),!1).length?n.hidden=!0:n.hidden=!1)});let r=0;for(r=0;r<e.length;r++){const n=e[r];n.nodeType===1&&on(n,"childNodes").length&&cf(n)}},Uh=t=>{const e=[];for(let r=0;r<t.length;r++){const n=t[r]["s-nr"]||void 0;n&&n.isConnected&&e.push(n)}return e};function ff(t,e,r){let n=0,o=[],s;for(;n<t.length;n++)s=t[n],s["s-sr"]&&(!e||s["s-hn"]===e)&&r===void 0&&o.push(s),o=[...o,...ff(s.childNodes,e,r)];return o}var qh=(t,e,r=!0)=>{const n=[];(r&&t["s-sr"]||!t["s-sr"])&&n.push(t);let o=t;for(;o=o.nextSibling;)ds(o)===e&&(r||!o["s-sr"])&&n.push(o);return n},ta=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",Gh=(t,e,r,n)=>{if(t["s-ol"]&&t["s-ol"].isConnected)return;const o=document.createTextNode("");if(o["s-nr"]=t,!e["s-cr"]||!e["s-cr"].parentNode)return;const s=e["s-cr"].parentNode,l=on(s,"appendChild");if(typeof n<"u"){o["s-oo"]=n;const c=on(s,"childNodes"),f=[o];c.forEach(i=>{i["s-nr"]&&f.push(i)}),f.sort((i,a)=>!i["s-oo"]||i["s-oo"]<(a["s-oo"]||0)?-1:!a["s-oo"]||a["s-oo"]<i["s-oo"]?1:0),f.forEach(i=>l.call(s,i))}else l.call(s,o);t["s-ol"]=o,t["s-sh"]=e["s-hn"]},ds=t=>typeof t["s-sn"]=="string"?t["s-sn"]:t.nodeType===1&&t.getAttribute("slot")||void 0;function df(t){if(t.assignedElements||t.assignedNodes||!t["s-sr"])return;const e=r=>(function(n){const o=[],s=this["s-sn"];n!=null&&n.flatten&&console.error(`
          Flattening is not supported for Stencil non-shadow slots. 
          You can use \`.childNodes\` to nested slot fallback content.
          If you have a particular use case, please open an issue on the Stencil repo.
        `);const l=this["s-cr"].parentElement;return(l.__childNodes?l.childNodes:Uh(l.childNodes)).forEach(f=>{s===ds(f)&&o.push(f)}),r?o.filter(f=>f.nodeType===1):o}).bind(t);t.assignedElements=e(!0),t.assignedNodes=e(!1)}function on(t,e){if("__"+e in t){const r=t["__"+e];return typeof r!="function"?r:r.bind(t)}else return typeof t[e]!="function"?t[e]:t[e].bind(t)}var lt=(t,e="")=>()=>{},Wh=(t,e)=>()=>{},U=(t,e,...r)=>{let n=null,o=null,s=null,l=!1,c=!1;const f=[],i=u=>{for(let d=0;d<u.length;d++)n=u[d],Array.isArray(n)?i(n):n!=null&&typeof n!="boolean"&&((l=typeof t!="function"&&!fs(n))&&(n=String(n)),l&&c?f[f.length-1].$text$+=n:f.push(l?te(null,n):n),c=l)};if(i(r),e){e.key&&(o=e.key),e.name&&(s=e.name);{const u=e.className||e.class;u&&(e.class=typeof u!="object"?u:Object.keys(u).filter(d=>u[d]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,f,Kh);const a=te(t,null);return a.$attrs$=e,f.length>0&&(a.$children$=f),a.$key$=o,a.$name$=s,a},te=(t,e)=>{const r={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return r.$attrs$=null,r.$key$=null,r.$name$=null,r},Yh={},Xh=t=>t&&t.$tag$===Yh,Kh={forEach:(t,e)=>t.map(ea).forEach(e),map:(t,e)=>t.map(ea).map(e).map(Vh)},ea=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),Vh=t=>{if(typeof t.vtag=="function"){const r={...t.vattrs};return t.vkey&&(r.key=t.vkey),t.vname&&(r.name=t.vname),U(t.vtag,r,...t.vchildren||[])}const e=te(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},Zh=(t,e,r,n)=>{var o;const s=lt("hydrateClient",e),l=t.shadowRoot,c=[],f=[],i=[],a=null,u=te(e,null);u.$elm$=t,Object.entries(((o=n.$cmpMeta$)==null?void 0:o.$members$)||{}).forEach(([w,[E,x]])=>{var O;if(!(E&31))return;const C=x||w,R=t.getAttribute(C);if(R!==null){const I=sn(R,E);(O=n==null?void 0:n.$instanceValues$)==null||O.set(w,I)}}),k.document&&(!M.$orgLocNodes$||!M.$orgLocNodes$.size)&&zi(k.document.body,M.$orgLocNodes$=new Map),t[ve]=r,t.removeAttribute(ve),n.$vnode$=ji(u,c,f,a,t,t,r,i);let h=0;const p=c.length;let g;for(h;h<p;h++){g=c[h];const w=g.$hostId$+"."+g.$nodeId$,E=M.$orgLocNodes$.get(w),x=g.$elm$;l||(x["s-hn"]=e.toUpperCase(),g.$tag$==="slot"&&(x["s-cr"]=t["s-cr"])),g.$tag$==="slot"&&(g.$name$=g.$elm$["s-sn"]||g.$elm$.name||null,g.$children$?(g.$flags$|=2,g.$elm$.childNodes.length||g.$children$.forEach(O=>{g.$elm$.appendChild(O.$elm$)})):g.$flags$|=1),E&&E.isConnected&&(l&&E["s-en"]===""&&E.parentNode.insertBefore(x,E.nextSibling),E.parentNode.removeChild(E),l||(x["s-oo"]=parseInt(g.$nodeId$))),M.$orgLocNodes$.delete(w)}const v=[],_=i.length;let m=0,y,b,$,S;for(m;m<_;m++)if(y=i[m],!(!y||!y.length))for($=y.length,b=0,b;b<$;b++){if(S=y[b],v[S.hostId]||(v[S.hostId]=M.$orgLocNodes$.get(S.hostId)),!v[S.hostId])continue;const w=v[S.hostId];(!w.shadowRoot||!l)&&(S.slot["s-cr"]=w["s-cr"],!S.slot["s-cr"]&&w.shadowRoot?S.slot["s-cr"]=w:S.slot["s-cr"]=(w.__childNodes||w.childNodes)[0],Gh(S.node,S.slot,!1,S.node["s-oo"])),w.shadowRoot&&S.node.parentElement!==w&&w.appendChild(S.node)}M.$orgLocNodes$.delete(t["s-id"]),n.$hostElement$=t,s()},ji=(t,e,r,n,o,s,l,c=[])=>{let f,i,a,u;if(s.nodeType===1){if(f=s.getAttribute(Vs),f&&(i=f.split("."),i[0]===l||i[0]==="0")){a=na({$flags$:0,$hostId$:i[0],$nodeId$:i[1],$depth$:i[2],$index$:i[3],$tag$:s.tagName.toLowerCase(),$elm$:s,$attrs$:{class:s.className||""}}),e.push(a),s.removeAttribute(Vs),t.$children$||(t.$children$=[]);const h=a.$elm$.getAttribute("s-sn");typeof h=="string"&&(a.$tag$==="slot-fb"&&ra(h,i[2],a,s,t,e,r,n,c),a.$elm$["s-sn"]=h,a.$elm$.removeAttribute("s-sn")),a.$index$!==void 0&&(t.$children$[a.$index$]=a),t=a}if(s.shadowRoot)for(u=s.shadowRoot.childNodes.length-1;u>=0;u--)ji(t,e,r,n,o,s.shadowRoot.childNodes[u],l,c);const d=s.__childNodes||s.childNodes;for(u=d.length-1;u>=0;u--)ji(t,e,r,n,o,d[u],l,c)}else if(s.nodeType===8){if(i=s.nodeValue.split("."),i[1]===l||i[1]==="0"){if(f=i[0],a=na({$hostId$:i[1],$nodeId$:i[2],$depth$:i[3],$index$:i[4]||"0",$elm$:s,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),f===Ih)a.$elm$=oa(s,3),a.$elm$&&a.$elm$.nodeType===3&&(a.$text$=a.$elm$.textContent,e.push(a),s.remove(),l===a.$hostId$&&(t.$children$||(t.$children$=[]),t.$children$[a.$index$]=a));else if(f===Ah)a.$elm$=oa(s,8),a.$elm$&&a.$elm$.nodeType===8&&(e.push(a),s.remove());else if(a.$hostId$===l)if(f===Ch){const d=s["s-sn"]=i[5]||"";ra(d,i[2],a,s,t,e,r,n,c)}else f===Th&&(o["s-cr"]=s,s["s-cn"]=!0)}}else if(t&&t.$tag$==="style"){const d=te(null,s.textContent);d.$elm$=s,d.$index$="0",t.$children$=[d]}else s.nodeType===3&&!s.wholeText.trim()&&s.remove();return t},zi=(t,e)=>{if(t.nodeType===1){const r=t[ve]||t.getAttribute(ve);r&&e.set(r,t);let n=0;if(t.shadowRoot)for(;n<t.shadowRoot.childNodes.length;n++)zi(t.shadowRoot.childNodes[n],e);const o=t.__childNodes||t.childNodes;for(n=0;n<o.length;n++)zi(o[n],e)}else if(t.nodeType===8){const r=t.nodeValue.split(".");r[0]===Oh&&(e.set(r[1]+"."+r[2],t),t.nodeValue="",t["s-en"]=r[3])}},na=t=>({...{$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},...t});function ra(t,e,r,n,o,s,l,c,f){n["s-sr"]=!0,r.$name$=t||null,r.$tag$="slot";const i=o!=null&&o.$elm$?o.$elm$["s-id"]||o.$elm$.getAttribute("s-id"):"";{const a=r.$elm$,u=i&&i!==r.$hostId$&&o.$elm$.shadowRoot;Jh(f,e,t,n,u?i:r.$hostId$),df(n),u&&o.$elm$.insertBefore(a,o.$elm$.children[0]),s.push(r)}l.push(r),o.$children$||(o.$children$=[]),o.$children$[r.$index$]=r}var Jh=(t,e,r,n,o)=>{let s=n.nextSibling;for(t[e]=t[e]||[];s&&((s.getAttribute&&s.getAttribute("slot")||s["s-sn"])===r||r===""&&!s["s-sn"]&&(s.nodeType===8&&s.nodeValue.indexOf(".")!==1||s.nodeType===3));)s["s-sn"]=r,t[e].push({slot:n,node:s,hostId:o}),s=s.nextSibling},oa=(t,e)=>{let r=t;do r=r.nextSibling;while(r&&(r.nodeType!==e||!r.nodeValue));return r},hs=t=>{const e=jh(t);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${e}))(${e}\\b)`,"g")};hs("::slotted");hs(":host");hs(":host-context");var sn=(t,e)=>{if(typeof t=="string"&&(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")))try{return t=JSON.parse(t),t}catch{}return typeof t=="string"&&t.startsWith(Ri)?(t=Bh(t),t):t!=null&&!fs(t)?e&4?t==="false"?!1:t===""||!!t:e&2?typeof t=="string"?parseFloat(t):typeof t=="number"?t:NaN:e&1?String(t):t:t},Qh=t=>K(t).$hostElement$,z$=(t,e,r)=>{const n=Qh(t);return{emit:o=>hf(n,e,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:o})}},hf=(t,e,r)=>{const n=M.ce(e,r);return t.dispatchEvent(n),n},Vt=new WeakMap,tp=(t,e,r)=>{let n=rn.get(t);sf&&r?(n=n||new CSSStyleSheet,typeof n=="string"?n=e:n.replaceSync(e)):n=e,rn.set(t,n)},ep=(t,e,r)=>{var n;const o=pf(e),s=rn.get(o);if(!k.document)return o;if(t=t.nodeType===11?t:k.document,s)if(typeof s=="string"){t=t.head||t;let l=Vt.get(t),c;if(l||Vt.set(t,l=new Set),!l.has(o)){if(t.host&&(c=t.querySelector(`[${Ks}="${o}"]`)))c.innerHTML=s;else{c=document.querySelector(`[${Ks}="${o}"]`)||k.document.createElement("style"),c.innerHTML=s;const f=(n=M.$nonce$)!=null?n:uf(k.document);if(f!=null&&c.setAttribute("nonce",f),!(e.$flags$&1))if(t.nodeName==="HEAD"){const i=t.querySelectorAll("link[rel=preconnect]"),a=i.length>0?i[i.length-1].nextSibling:t.querySelector("style");t.insertBefore(c,(a==null?void 0:a.parentNode)===t?a:null)}else if("host"in t)if(sf){const i=new CSSStyleSheet;i.replaceSync(s),t.adoptedStyleSheets=[i,...t.adoptedStyleSheets]}else{const i=t.querySelector("style");i?i.innerHTML=s+i.innerHTML:t.prepend(c)}else t.append(c);e.$flags$&1&&t.insertBefore(c,null)}e.$flags$&4&&(c.innerHTML+=of),l&&l.add(o)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return o},np=t=>{const e=t.$cmpMeta$,r=t.$hostElement$,n=lt("attachStyles",e.$tagName$);ep(r.getRootNode(),e),n()},pf=(t,e)=>"sc-"+t.$tagName$,ia=(t,e,r,n,o,s,l)=>{if(r===n)return;let c=Xs(t,e),f=e.toLowerCase();if(e==="class"){const i=t.classList,a=sa(r);let u=sa(n);t["s-si"]&&l?(u.push(t["s-si"]),a.forEach(d=>{d.startsWith(t["s-si"])&&u.push(d)}),u=[...new Set(u)],i.add(...u)):(i.remove(...a.filter(d=>d&&!u.includes(d))),i.add(...u.filter(d=>d&&!a.includes(d))))}else if(e==="style"){for(const i in r)(!n||n[i]==null)&&(i.includes("-")?t.style.removeProperty(i):t.style[i]="");for(const i in n)(!r||n[i]!==r[i])&&(i.includes("-")?t.style.setProperty(i,n[i]):t.style[i]=n[i])}else if(e!=="key")if(e==="ref")n&&n(t);else if(!c&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):Xs(k,f)?e=f.slice(2):e=f[2]+e.slice(3),r||n){const i=e.endsWith(gf);e=e.replace(op,""),r&&M.rel(t,e,r,i),n&&M.ael(t,e,n,i)}}else{const i=fs(n);if((c||i&&n!==null)&&!o)try{if(t.tagName.includes("-"))t[e]!==n&&(t[e]=n);else{const u=n??"";e==="list"?c=!1:(r==null||t[e]!=u)&&(typeof t.__lookupSetter__(e)=="function"?t[e]=u:t.setAttribute(e,u))}}catch{}let a=!1;f!==(f=f.replace(/^xlink\:?/,""))&&(e=f,a=!0),n==null||n===!1?(n!==!1||t.getAttribute(e)==="")&&(a?t.removeAttributeNS(Zs,e):t.removeAttribute(e)):(!c||s&4||o)&&!i&&t.nodeType===1&&(n=n===!0?"":n,a?t.setAttributeNS(Zs,e,n):t.setAttribute(e,n))}},rp=/\s/,sa=t=>(typeof t=="object"&&t&&"baseVal"in t&&(t=t.baseVal),!t||typeof t!="string"?[]:t.split(rp)),gf="Capture",op=new RegExp(gf+"$"),ki=(t,e,r,n)=>{const o=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=t&&t.$attrs$||{},l=e.$attrs$||{};for(const c of aa(Object.keys(s)))c in l||ia(o,c,s[c],void 0,r,e.$flags$,n);for(const c of aa(Object.keys(l)))ia(o,c,s[c],l[c],r,e.$flags$,n)};function aa(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Fi,ps,Ni=!1,an=!1,gs=!1,Y=!1,un=(t,e,r)=>{var n;const o=e.$children$[r];let s=0,l,c,f;if(Ni||(gs=!0,o.$tag$==="slot"&&(o.$flags$|=o.$children$?2:1)),o.$text$!==null)l=o.$elm$=k.document.createTextNode(o.$text$);else if(o.$flags$&1)l=o.$elm$=k.document.createTextNode(""),ki(null,o,Y);else{if(Y||(Y=o.$tag$==="svg"),!k.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(l=o.$elm$=k.document.createElementNS(Y?Sh:wh,!Ni&&re.slotRelocation&&o.$flags$&2?"slot-fb":o.$tag$),Y&&o.$tag$==="foreignObject"&&(Y=!1),ki(null,o,Y),o.$children$)for(s=0;s<o.$children$.length;++s)c=un(t,o,s),c&&l.appendChild(c);o.$tag$==="svg"?Y=!1:l.tagName==="foreignObject"&&(Y=!0)}return l["s-hn"]=ps,o.$flags$&3&&(l["s-sr"]=!0,l["s-cr"]=Fi,l["s-sn"]=o.$name$||"",l["s-rf"]=(n=o.$attrs$)==null?void 0:n.ref,df(l),f=t&&t.$children$&&t.$children$[r],f&&f.$tag$===o.$tag$&&t.$elm$&&me(t.$elm$,!1)),l},me=(t,e)=>{M.$flags$|=1;const r=Array.from(t.__childNodes||t.childNodes);for(let n=r.length-1;n>=0;n--){const o=r[n];o["s-hn"]!==ps&&o["s-ol"]&&(Tt(_e(o).parentNode,o,_e(o)),o["s-ol"].remove(),o["s-ol"]=void 0,o["s-sh"]=void 0,gs=!0),e&&me(o,e)}M.$flags$&=-2},vf=(t,e,r,n,o,s)=>{let l=t["s-cr"]&&t["s-cr"].parentNode||t,c;for(;o<=s;++o)n[o]&&(c=un(null,r,o),c&&(n[o].$elm$=c,Tt(l,c,_e(e))))},mf=(t,e,r)=>{for(let n=e;n<=r;++n){const o=t[n];if(o){const s=o.$elm$;yf(o),s&&(an=!0,s["s-ol"]?s["s-ol"].remove():me(s,!0),s.remove())}}},ip=(t,e,r,n,o=!1)=>{let s=0,l=0,c=0,f=0,i=e.length-1,a=e[0],u=e[i],d=n.length-1,h=n[0],p=n[d],g,v;for(;s<=i&&l<=d;)if(a==null)a=e[++s];else if(u==null)u=e[--i];else if(h==null)h=n[++l];else if(p==null)p=n[--d];else if(ke(a,h,o))Xt(a,h,o),a=e[++s],h=n[++l];else if(ke(u,p,o))Xt(u,p,o),u=e[--i],p=n[--d];else if(ke(a,p,o))(a.$tag$==="slot"||p.$tag$==="slot")&&me(a.$elm$.parentNode,!1),Xt(a,p,o),Tt(t,a.$elm$,u.$elm$.nextSibling),a=e[++s],p=n[--d];else if(ke(u,h,o))(a.$tag$==="slot"||p.$tag$==="slot")&&me(u.$elm$.parentNode,!1),Xt(u,h,o),Tt(t,u.$elm$,a.$elm$),u=e[--i],h=n[++l];else{for(c=-1,f=s;f<=i;++f)if(e[f]&&e[f].$key$!==null&&e[f].$key$===h.$key$){c=f;break}c>=0?(v=e[c],v.$tag$!==h.$tag$?g=un(e&&e[l],r,c):(Xt(v,h,o),e[c]=void 0,g=v.$elm$),h=n[++l]):(g=un(e&&e[l],r,l),h=n[++l]),g&&Tt(_e(a.$elm$).parentNode,g,_e(a.$elm$))}s>i?vf(t,n[d+1]==null?null:n[d+1].$elm$,r,n,l,d):l>d&&mf(e,s,i)},ke=(t,e,r=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:r?(r&&!t.$key$&&e.$key$&&(t.$key$=e.$key$),!0):t.$key$===e.$key$:!1,_e=t=>t&&t["s-ol"]||t,Xt=(t,e,r=!1)=>{const n=e.$elm$=t.$elm$,o=t.$children$,s=e.$children$,l=e.$tag$,c=e.$text$;let f;c===null?(Y=l==="svg"?!0:l==="foreignObject"?!1:Y,ki(t,e,Y,r),o!==null&&s!==null?ip(n,o,e,s,r):s!==null?(t.$text$!==null&&(n.textContent=""),vf(n,null,e,s,0,s.length-1)):!r&&re.updatable&&o!==null&&mf(o,0,o.length-1),Y&&l==="svg"&&(Y=!1)):(f=n["s-cr"])?f.parentNode.textContent=c:t.$text$!==c&&(n.data=c)},mt=[],_f=t=>{let e,r,n;const o=t.__childNodes||t.childNodes;for(const s of o){if(s["s-sr"]&&(e=s["s-cr"])&&e.parentNode){r=e.parentNode.__childNodes||e.parentNode.childNodes;const l=s["s-sn"];for(n=r.length-1;n>=0;n--)if(e=r[n],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==s["s-hn"])if(ta(e,l)){let c=mt.find(f=>f.$nodeToRelocate$===e);an=!0,e["s-sn"]=e["s-sn"]||l,c?(c.$nodeToRelocate$["s-sh"]=s["s-hn"],c.$slotRefNode$=s):(e["s-sh"]=s["s-hn"],mt.push({$slotRefNode$:s,$nodeToRelocate$:e})),e["s-sr"]&&mt.map(f=>{ta(f.$nodeToRelocate$,e["s-sn"])&&(c=mt.find(i=>i.$nodeToRelocate$===e),c&&!f.$slotRefNode$&&(f.$slotRefNode$=c.$slotRefNode$))})}else mt.some(c=>c.$nodeToRelocate$===e)||mt.push({$nodeToRelocate$:e})}s.nodeType===1&&_f(s)}},yf=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(yf)},Tt=(t,e,r)=>t==null?void 0:t.insertBefore(e,r),sp=(t,e,r=!1)=>{var n,o,s,l;const c=t.$hostElement$,f=t.$cmpMeta$,i=t.$vnode$||te(null,null),u=Xh(e)?e:U(null,null,e);if(ps=c.tagName,f.$attrsToReflect$&&(u.$attrs$=u.$attrs$||{},f.$attrsToReflect$.map(([d,h])=>u.$attrs$[h]=c[d])),r&&u.$attrs$)for(const d of Object.keys(u.$attrs$))c.hasAttribute(d)&&!["key","ref","style","class"].includes(d)&&(u.$attrs$[d]=c[d]);u.$tag$=null,u.$flags$|=4,t.$vnode$=u,u.$elm$=i.$elm$=c,Ni=Dh,Fi=c["s-cr"],an=!1,Xt(i,u,r);{if(M.$flags$|=1,gs){_f(u.$elm$);for(const d of mt){const h=d.$nodeToRelocate$;if(!h["s-ol"]&&k.document){const p=k.document.createTextNode("");p["s-nr"]=h,Tt(h.parentNode,h["s-ol"]=p,h)}}for(const d of mt){const h=d.$nodeToRelocate$,p=d.$slotRefNode$;if(p){const g=p.parentNode;let v=p.nextSibling;{let y=(n=h["s-ol"])==null?void 0:n.previousSibling;for(;y;){let b=(o=y["s-nr"])!=null?o:null;if(b&&b["s-sn"]===h["s-sn"]&&g===(b.__parentNode||b.parentNode)){for(b=b.nextSibling;b===h||b!=null&&b["s-sr"];)b=b==null?void 0:b.nextSibling;if(!b||!b["s-nr"]){v=b;break}}y=y.previousSibling}}const _=h.__parentNode||h.parentNode,m=h.__nextSibling||h.nextSibling;(!v&&g!==_||m!==v)&&h!==v&&(!h["s-hn"]&&h["s-ol"]&&(h["s-hn"]=h["s-ol"].parentNode.nodeName),Tt(g,h,v),h.nodeType===1&&h.tagName!=="SLOT-FB"&&(h.hidden=(s=h["s-ih"])!=null?s:!1)),h&&typeof p["s-rf"]=="function"&&p["s-rf"](p)}else h.nodeType===1&&(r&&(h["s-ih"]=(l=h.hidden)!=null?l:!1),h.hidden=!0)}}an&&cf(u.$elm$),M.$flags$&=-2,mt.length=0}Fi=void 0},bf=(t,e)=>{if(e&&!t.$onRenderResolve$&&e["s-p"]){const r=e["s-p"].push(new Promise(n=>t.$onRenderResolve$=()=>{e["s-p"].splice(r-1,1),n()}))}},_n=(t,e)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}return bf(t,t.$ancestorComponent$),Mh(()=>ap(t,e))},ap=(t,e)=>{const r=t.$hostElement$,n=lt("scheduleUpdate",t.$cmpMeta$.$tagName$),o=t.$lazyInstance$;if(!o)throw new Error(`Can't render component <${r.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return e?(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.map(([l,c])=>yt(o,l,c,r)),t.$queuedListeners$=void 0),s=yt(o,"componentWillLoad",void 0,r)):s=yt(o,"componentWillUpdate",void 0,r),s=ua(s,()=>yt(o,"componentWillRender",void 0,r)),n(),ua(s,()=>lp(t,o,e))},ua=(t,e)=>up(t)?t.then(e).catch(r=>{console.error(r),e()}):e(),up=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",lp=async(t,e,r)=>{var n;const o=t.$hostElement$,s=lt("update",t.$cmpMeta$.$tagName$),l=o["s-rc"];r&&np(t);const c=lt("render",t.$cmpMeta$.$tagName$);cp(t,e,o,r),l&&(l.map(f=>f()),o["s-rc"]=void 0),c(),s();{const f=(n=o["s-p"])!=null?n:[],i=()=>fp(t);f.length===0?i():(Promise.all(f).then(i),t.$flags$|=4,f.length=0)}},Hi=null,cp=(t,e,r,n)=>{try{Hi=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,sp(t,e,n)}catch(o){Q(o,t.$hostElement$)}return Hi=null,null},la=()=>Hi,fp=t=>{const e=t.$cmpMeta$.$tagName$,r=t.$hostElement$,n=lt("postUpdate",e),o=t.$lazyInstance$,s=t.$ancestorComponent$;yt(o,"componentDidRender",void 0,r),t.$flags$&64?(yt(o,"componentDidUpdate",void 0,r),n()):(t.$flags$|=64,dp(r),yt(o,"componentDidLoad",void 0,r),n(),t.$onReadyResolve$(r),s||$f()),t.$onInstanceResolve$(r),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&mn(()=>_n(t,!1)),t.$flags$&=-517},ca=t=>{{const e=K(t),r=e.$hostElement$.isConnected;return r&&(e.$flags$&18)===2&&_n(e,!1),r}},$f=t=>{mn(()=>hf(k,"appload",{detail:{namespace:yh}}))},yt=(t,e,r,n)=>{if(t&&t[e])try{return t[e](r)}catch(o){Q(o,n)}},dp=t=>{var e;return t.classList.add((e=re.hydratedSelectorName)!=null?e:"hydrated")},hp=(t,e)=>K(t).$instanceValues$.get(e),Hn=(t,e,r,n)=>{const o=K(t);if(!o)throw new Error(`Couldn't find host element for "${n.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const s=o.$hostElement$,l=o.$instanceValues$.get(e),c=o.$flags$,f=o.$lazyInstance$;r=sn(r,n.$members$[e][0]);const i=Number.isNaN(l)&&Number.isNaN(r),a=r!==l&&!i;if((!(c&8)||l===void 0)&&a&&(o.$instanceValues$.set(e,r),f)){if(n.$watchers$&&c&128){const u=n.$watchers$[e];u&&u.map(d=>{try{f[d](r,l,e)}catch(h){Q(h,s)}})}if((c&18)===2){if(f.componentShouldUpdate&&f.componentShouldUpdate(r,l,e)===!1)return;_n(o,!1)}}},Sf=(t,e,r)=>{var n,o;const s=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const l=Object.entries((n=e.$members$)!=null?n:{});if(l.map(([c,[f]])=>{if(f&31||r&2&&f&32){const{get:i,set:a}=Object.getOwnPropertyDescriptor(s,c)||{};i&&(e.$members$[c][0]|=2048),a&&(e.$members$[c][0]|=4096),(r&1||!i)&&Object.defineProperty(s,c,{get(){{if(!(e.$members$[c][0]&2048))return hp(this,c);const u=K(this),d=u?u.$lazyInstance$:s;return d?d[c]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(s,c,{set(u){const d=K(this);if(a){const h=f&32?this[c]:d.$hostElement$[c];typeof h>"u"&&d.$instanceValues$.get(c)?u=d.$instanceValues$.get(c):!d.$instanceValues$.get(c)&&h&&d.$instanceValues$.set(c,h),a.apply(this,[sn(u,f)]),u=f&32?this[c]:d.$hostElement$[c],Hn(this,c,u,e);return}{if(!(r&1)||!(e.$members$[c][0]&4096)){Hn(this,c,u,e),r&1&&!d.$lazyInstance$&&d.$onReadyPromise$.then(()=>{e.$members$[c][0]&4096&&d.$lazyInstance$[c]!==d.$instanceValues$.get(c)&&(d.$lazyInstance$[c]=u)});return}const h=()=>{const p=d.$lazyInstance$[c];!d.$instanceValues$.get(c)&&p&&d.$instanceValues$.set(c,p),d.$lazyInstance$[c]=sn(u,f),Hn(this,c,d.$lazyInstance$[c],e)};d.$lazyInstance$?h():d.$onReadyPromise$.then(()=>h())}}})}else r&1&&f&64&&Object.defineProperty(s,c,{value(...i){var a;const u=K(this);return(a=u==null?void 0:u.$onInstancePromise$)==null?void 0:a.then(()=>{var d;return(d=u.$lazyInstance$)==null?void 0:d[c](...i)})}})}),r&1){const c=new Map;s.attributeChangedCallback=function(f,i,a){M.jmp(()=>{var u;const d=c.get(f);if(this.hasOwnProperty(d)&&re.lazyLoad)a=this[d],delete this[d];else{if(s.hasOwnProperty(d)&&typeof this[d]=="number"&&this[d]==a)return;if(d==null){const p=K(this),g=p==null?void 0:p.$flags$;if(g&&!(g&8)&&g&128&&a!==i){const v=p.$lazyInstance$,_=(u=e.$watchers$)==null?void 0:u[f];_==null||_.forEach(m=>{v[m]!=null&&v[m].call(v,a,i,f)})}return}}const h=Object.getOwnPropertyDescriptor(s,d);a=a===null&&typeof this[d]=="boolean"?!1:a,a!==this[d]&&(!h.get||h.set)&&(this[d]=a)})},t.observedAttributes=Array.from(new Set([...Object.keys((o=e.$watchers$)!=null?o:{}),...l.filter(([f,i])=>i[0]&15).map(([f,i])=>{var a;const u=i[1]||f;return c.set(u,f),i[0]&512&&((a=e.$attrsToReflect$)==null||a.push([f,u])),u})]))}}return t},pp=async(t,e,r,n)=>{let o;if(!(e.$flags$&32)){if(e.$flags$|=32,r.$lazyBundleId$){const f=xh(r,e);if(f&&"then"in f){const a=Wh();o=await f,a()}else o=f;if(!o)throw new Error(`Constructor for "${r.$tagName$}#${e.$modeName$}" was not found`);o.isProxied||(r.$watchers$=o.watchers,Sf(o,r,2),o.isProxied=!0);const i=lt("createInstance",r.$tagName$);e.$flags$|=8;try{new o(e)}catch(a){Q(a,t)}e.$flags$&=-9,e.$flags$|=128,i(),Bi(e.$lazyInstance$,t)}else{o=t.constructor;const f=t.localName;customElements.whenDefined(f).then(()=>e.$flags$|=128)}if(o&&o.style){let f;typeof o.style=="string"&&(f=o.style);const i=pf(r);if(!rn.has(i)){const a=lt("registerStyles",r.$tagName$);tp(i,f,!!(r.$flags$&1)),a()}}}const s=e.$ancestorComponent$,l=()=>_n(e,!0);s&&s["s-rc"]?s["s-rc"].push(l):l()},Bi=(t,e)=>{yt(t,"connectedCallback",void 0,e)},gp=t=>{if(!(M.$flags$&1)){const e=K(t),r=e.$cmpMeta$,n=lt("connectedCallback",r.$tagName$);if(e.$flags$&1)wf(t,e,r.$listeners$),e!=null&&e.$lazyInstance$?Bi(e.$lazyInstance$,t):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>Bi(e.$lazyInstance$,t));else{e.$flags$|=1;let o;o=t.getAttribute(ve),o&&Zh(t,r.$tagName$,o,e),o||r.$flags$&12&&vp(t);{let s=t;for(;s=s.parentNode||s.host;)if(s.nodeType===1&&s.hasAttribute("s-id")&&s["s-p"]||s["s-p"]){bf(e,e.$ancestorComponent$=s);break}}r.$members$&&Object.entries(r.$members$).map(([s,[l]])=>{if(l&31&&t.hasOwnProperty(s)){const c=t[s];delete t[s],t[s]=c}}),mn(()=>pp(t,e,r))}n()}},vp=t=>{if(!k.document)return;const e=t["s-cr"]=k.document.createComment("");e["s-cn"]=!0,Tt(t,e,t.firstChild)},fa=(t,e)=>{yt(t,"disconnectedCallback",void 0,e||t)},mp=async t=>{if(!(M.$flags$&1)){const e=K(t);e.$rmListeners$&&(e.$rmListeners$.map(r=>r()),e.$rmListeners$=void 0),e!=null&&e.$lazyInstance$?fa(e.$lazyInstance$,t):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>fa(e.$lazyInstance$,t))}Vt.has(t)&&Vt.delete(t),t.shadowRoot&&Vt.has(t.shadowRoot)&&Vt.delete(t.shadowRoot)},_p=(t,e={})=>{var r;if(!k.document){console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");return}const n=lt(),o=[],s=e.exclude||[],l=k.customElements,c=k.document.head,f=c.querySelector("meta[charset]"),i=k.document.createElement("style"),a=[];let u,d=!0;Object.assign(M,e),M.$resourcesUrl$=new URL(e.resourcesUrl||"./",k.document.baseURI).href,M.$flags$|=2;let h=!1;if(t.map(p=>{p[1].map(g=>{var v;const _={$flags$:g[0],$tagName$:g[1],$members$:g[2],$listeners$:g[3]};_.$flags$&4&&(h=!0),_.$members$=g[2],_.$listeners$=g[3],_.$attrsToReflect$=[],_.$watchers$=(v=g[4])!=null?v:{};const m=_.$tagName$,y=class extends HTMLElement{constructor(b){super(b),this.hasRegisteredEventListeners=!1,b=this,Eh(b,_)}connectedCallback(){const b=K(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,wf(this,b,_.$listeners$)),u&&(clearTimeout(u),u=null),d?a.push(this):M.jmp(()=>gp(this))}disconnectedCallback(){M.jmp(()=>mp(this)),M.raf(()=>{var b;const $=K(this),S=a.findIndex(w=>w===this);S>-1&&a.splice(S,1),((b=$==null?void 0:$.$vnode$)==null?void 0:b.$elm$)instanceof Node&&!$.$vnode$.$elm$.isConnected&&delete $.$vnode$.$elm$})}componentOnReady(){return K(this).$onReadyPromise$}};_.$lazyBundleId$=p[0],!s.includes(m)&&!l.get(m)&&(o.push(m),l.define(m,Sf(y,_,1)))})}),o.length>0&&(h&&(i.textContent+=of),i.innerHTML.length)){i.setAttribute("data-styles","");const p=(r=M.$nonce$)!=null?r:uf(k.document);p!=null&&i.setAttribute("nonce",p),c.insertBefore(i,f?f.nextSibling:c.firstChild)}d=!1,a.length?a.map(p=>p.connectedCallback()):M.jmp(()=>u=setTimeout($f,30)),n()},wf=(t,e,r,n)=>{r&&k.document&&r.map(([o,s,l])=>{const c=bp(k.document,t,o),f=yp(e,l),i=$p(o);M.ael(c,s,f,i),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>M.rel(c,s,f,i))})},yp=(t,e)=>r=>{var n;try{t.$flags$&256?(n=t.$lazyInstance$)==null||n[e](r):(t.$queuedListeners$=t.$queuedListeners$||[]).push([e,r])}catch(o){Q(o,t.$hostElement$)}},bp=(t,e,r)=>r&4?t:e,$p=t=>Rh?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * Built by Revolist OU ❤️
 */const Sp=()=>{},wp=Sp;/*!
 * Built by Revolist OU ❤️
 */const Ep=async(t,e)=>{if(!(typeof window>"u"))return await wp(),_p([["revo-grid",[[4,"revo-grid",{rowHeaders:[4,"row-headers"],frameSize:[2,"frame-size"],rowSize:[2,"row-size"],colSize:[2,"col-size"],range:[4],readonly:[4],resize:[4],canFocus:[4,"can-focus"],useClipboard:[4,"use-clipboard"],columns:[16],source:[16],pinnedTopSource:[16,"pinned-top-source"],pinnedBottomSource:[16,"pinned-bottom-source"],rowDefinitions:[16,"row-definitions"],editors:[16],applyOnClose:[4,"apply-on-close"],plugins:[16],columnTypes:[16,"column-types"],theme:[1537],rowClass:[513,"row-class"],autoSizeColumn:[4,"auto-size-column"],filter:[4],sorting:[16],focusTemplate:[16,"focus-template"],canMoveColumns:[4,"can-move-columns"],trimmedRows:[16,"trimmed-rows"],exporting:[4],grouping:[16],stretch:[8],additionalData:[16,"additional-data"],disableVirtualX:[4,"disable-virtual-x"],disableVirtualY:[4,"disable-virtual-y"],hideAttribution:[4,"hide-attribution"],jobsBeforeRender:[16,"jobs-before-render"],registerVNode:[16,"register-v-node"],accessible:[4],canDrag:[4,"can-drag"],refresh:[64],setDataAt:[64],scrollToRow:[64],scrollToColumnIndex:[64],scrollToColumnProp:[64],updateColumns:[64],addTrimmed:[64],scrollToCoordinate:[64],setCellEdit:[64],setCellsFocus:[64],getSource:[64],getVisibleSource:[64],getSourceStore:[64],getColumnStore:[64],updateColumnSorting:[64],clearSorting:[64],getColumns:[64],clearFocus:[64],getPlugins:[64],getFocused:[64],getContentSize:[64],getSelectedRange:[64],refreshExtraElements:[64],getProviders:[64]},[[5,"touchstart","mousedownHandle"],[5,"mousedown","mousedownHandle"],[5,"touchend","mouseupHandle"],[5,"mouseup","mouseupHandle"],[0,"rowdragstartinit","onRowDragStarted"],[0,"rowdragendinit","onRowDragEnd"],[0,"roworderchange","onRowOrderChange"],[0,"rowdragmoveinit","onRowDrag"],[0,"rowdragmousemove","onRowMouseMove"],[0,"celleditapply","onCellEdit"],[0,"rangeeditapply","onRangeEdit"],[0,"selectionchangeinit","onRangeChanged"],[0,"rowdropinit","onRowDropped"],[0,"beforeheaderclick","onHeaderClick"],[0,"beforecellfocusinit","onCellFocus"]],{columnTypes:["columnTypesChanged"],columns:["columnChanged"],disableVirtualX:["disableVirtualXChanged"],rowSize:["rowSizeChanged"],theme:["themeChanged"],source:["dataSourceChanged"],pinnedBottomSource:["dataSourceChanged"],pinnedTopSource:["dataSourceChanged"],disableVirtualY:["disableVirtualYChanged"],rowDefinitions:["rowDefChanged"],trimmedRows:["trimmedRowsChanged"],grouping:["groupingChanged"],stretch:["applyStretch"],filter:["applyFilter"],sorting:["applySorting"],rowHeaders:["rowHeadersChange"],registerVNode:["registerOutsideVNodes"],additionalData:["additionalDataChanged"],plugins:["pluginsChanged"]}]]],["revogr-filter-panel",[[4,"revogr-filter-panel",{filterNames:[16,"filter-names"],filterEntities:[16,"filter-entities"],filterCaptions:[16,"filter-captions"],disableDynamicFiltering:[4,"disable-dynamic-filtering"],closeOnOutsideClick:[4,"close-on-outside-click"],isFilterIdSet:[32],filterId:[32],currentFilterId:[32],currentFilterType:[32],changes:[32],filterItems:[32],show:[64],getChanges:[64]},[[5,"mousedown","onMouseDown"]]]]],["revogr-clipboard_3",[[0,"revogr-clipboard",{readonly:[4],doCopy:[64]},[[4,"paste","onPaste"],[4,"copy","copyStarted"],[4,"cut","cutStarted"]]],[0,"revogr-edit",{editCell:[16,"edit-cell"],column:[16],editor:[16],saveOnClose:[4,"save-on-close"],additionalData:[8,"additional-data"],cancelChanges:[64],beforeDisconnect:[64]}],[0,"revogr-order-editor",{parent:[16],dimensionRow:[16,"dimension-row"],dimensionCol:[16,"dimension-col"],dataStore:[16,"data-store"],rowType:[1,"row-type"],dragStart:[64],endOrder:[64],clearOrder:[64]}]]],["revogr-data_4",[[4,"revogr-data",{readonly:[4],range:[4],rowClass:[1,"row-class"],additionalData:[8,"additional-data"],rowSelectionStore:[16,"row-selection-store"],viewportRow:[16,"viewport-row"],viewportCol:[16,"viewport-col"],dimensionRow:[16,"dimension-row"],colData:[16,"col-data"],dataStore:[16,"data-store"],type:[513],colType:[513,"col-type"],jobsBeforeRender:[16,"jobs-before-render"],providers:[32],updateCell:[64]},null,{dataStore:["onDataStoreChange"],colData:["onColDataChange"]}],[0,"revogr-header",{viewportCol:[16,"viewport-col"],dimensionCol:[16,"dimension-col"],selectionStore:[16,"selection-store"],groups:[16],groupingDepth:[2,"grouping-depth"],readonly:[4],canResize:[4,"can-resize"],resizeHandler:[16,"resize-handler"],colData:[16,"col-data"],columnFilter:[4,"column-filter"],type:[1],additionalData:[8,"additional-data"]}],[4,"revogr-viewport-scroll",{rowHeader:[4,"row-header"],contentWidth:[2,"content-width"],contentHeight:[2,"content-height"],colType:[1,"col-type"],setScroll:[64],changeScroll:[64],applyScroll:[64]},[[0,"mousewheel-vertical","mousewheelVertical"],[0,"mousewheel-horizontal","mousewheelHorizontal"],[0,"scroll-coordinate","scrollApply"]]],[0,"vnode-html",{redraw:[16]}]]],["revogr-attribution_7",[[0,"revogr-row-headers",{height:[2],dataPorts:[16,"data-ports"],headerProp:[16,"header-prop"],rowClass:[1,"row-class"],resize:[4],rowHeaderColumn:[16,"row-header-column"],additionalData:[8,"additional-data"],jobsBeforeRender:[16,"jobs-before-render"]}],[4,"revogr-overlay-selection",{readonly:[4],range:[4],canDrag:[4,"can-drag"],useClipboard:[4,"use-clipboard"],selectionStore:[16,"selection-store"],dimensionRow:[16,"dimension-row"],dimensionCol:[16,"dimension-col"],dataStore:[16,"data-store"],colData:[16,"col-data"],lastCell:[16,"last-cell"],editors:[16],applyChangesOnClose:[4,"apply-changes-on-close"],additionalData:[8,"additional-data"],isMobileDevice:[4,"is-mobile-device"]},[[5,"touchmove","onMouseMove"],[5,"mousemove","onMouseMove"],[5,"touchend","onMouseUp"],[5,"mouseup","onMouseUp"],[5,"mouseleave","onMouseUp"],[0,"dragstartcell","onCellDrag"],[4,"keyup","onKeyUp"],[4,"keydown","onKeyDown"]],{selectionStore:["selectionServiceSet"],dimensionRow:["createAutoFillService"],dimensionCol:["createAutoFillService"],dataStore:["columnServiceSet"],colData:["columnServiceSet"]}],[0,"revogr-attribution"],[4,"revogr-focus",{colType:[1,"col-type"],rowType:[1,"row-type"],selectionStore:[16,"selection-store"],dimensionRow:[16,"dimension-row"],dimensionCol:[16,"dimension-col"],dataStore:[16,"data-store"],colData:[16,"col-data"],focusTemplate:[16,"focus-template"]}],[0,"revogr-scroll-virtual",{dimension:[1],realSize:[2,"real-size"],virtualSize:[2,"virtual-size"],clientSize:[2,"client-size"],setScroll:[64],changeScroll:[64]}],[0,"revogr-temp-range",{selectionStore:[16,"selection-store"],dimensionRow:[16,"dimension-row"],dimensionCol:[16,"dimension-col"]}],[0,"revogr-extra",{nodes:[16],update:[32],refresh:[64]}]]]],e)};/*!
 * Built by Revolist OU ❤️
 */(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();/*!
 * Built by Revolist OU ❤️
 */var Ef=typeof global=="object"&&global&&global.Object===Object&&global,xp=typeof self=="object"&&self&&self.Object===Object&&self,ct=Ef||xp||Function("return this")(),Ot=ct.Symbol,xf=Object.prototype,Tp=xf.hasOwnProperty,Op=xf.toString,ue=Ot?Ot.toStringTag:void 0;function Cp(t){var e=Tp.call(t,ue),r=t[ue];try{t[ue]=void 0;var n=!0}catch{}var o=Op.call(t);return n&&(e?t[ue]=r:delete t[ue]),o}var Ip=Object.prototype,Ap=Ip.toString;function Dp(t){return Ap.call(t)}var Rp="[object Null]",Pp="[object Undefined]",da=Ot?Ot.toStringTag:void 0;function Nt(t){return t==null?t===void 0?Pp:Rp:da&&da in Object(t)?Cp(t):Dp(t)}function jt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function zt(t){return t!=null&&typeof t=="object"}var Lp="[object Symbol]";function kt(t){return typeof t=="symbol"||zt(t)&&Nt(t)==Lp}var Mp=/\s/;function jp(t){for(var e=t.length;e--&&Mp.test(t.charAt(e)););return e}var zp=/^\s+/;function kp(t){return t&&t.slice(0,jp(t)+1).replace(zp,"")}var ha=0/0,Fp=/^[-+]0x[0-9a-f]+$/i,Np=/^0b[01]+$/i,Hp=/^0o[0-7]+$/i,Bp=parseInt;function Ui(t){if(typeof t=="number")return t;if(kt(t))return ha;if(jt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kp(t);var r=Np.test(t);return r||Hp.test(t)?Bp(t.slice(2),r?2:8):Fp.test(t)?ha:+t}var Bn=function(){return ct.Date.now()},Up="Expected a function",qp=Math.max,Gp=Math.min;function Tf(t,e,r){var n,o,s,l,c,f,i=0,a=!1,u=!1,d=!0;if(typeof t!="function")throw new TypeError(Up);e=Ui(e)||0,jt(r)&&(a=!!r.leading,u="maxWait"in r,s=u?qp(Ui(r.maxWait)||0,e):s,d="trailing"in r?!!r.trailing:d);function h(S){var w=n,E=o;return n=o=void 0,i=S,l=t.apply(E,w),l}function p(S){return i=S,c=setTimeout(_,e),a?h(S):l}function g(S){var w=S-f,E=S-i,x=e-w;return u?Gp(x,s-E):x}function v(S){var w=S-f,E=S-i;return f===void 0||w>=e||w<0||u&&E>=s}function _(){var S=Bn();if(v(S))return m(S);c=setTimeout(_,g(S))}function m(S){return c=void 0,d&&n?h(S):(n=o=void 0,l)}function y(){c!==void 0&&clearTimeout(c),i=0,n=f=o=c=void 0}function b(){return c===void 0?l:m(Bn())}function $(){var S=Bn(),w=v(S);if(n=arguments,o=this,f=S,w){if(c===void 0)return p(f);if(u)return clearTimeout(c),c=setTimeout(_,e),h(f)}return c===void 0&&(c=setTimeout(_,e)),l}return $.cancel=y,$.flush=b,$}/*!
 * Built by Revolist OU ❤️
 */const Wp=t=>({set(e,r){if(e!=="proxyItems")return;const n=t.get("items").reduce((s,l)=>(s.add(l),s),new Set),o=r.reduce((s,l)=>(n.has(l)&&s.push(l),s),[]);t.set("items",o)}});function Yp(t,e,r,n){for(var o=t.length,s=r+-1;++s<o;)if(e(t[s],s,t))return s;return-1}function Xp(){this.__data__=[],this.size=0}function vs(t,e){return t===e||t!==t&&e!==e}function yn(t,e){for(var r=t.length;r--;)if(vs(t[r][0],e))return r;return-1}var Kp=Array.prototype,Vp=Kp.splice;function Zp(t){var e=this.__data__,r=yn(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Vp.call(e,r,1),--this.size,!0}function Jp(t){var e=this.__data__,r=yn(e,t);return r<0?void 0:e[r][1]}function Qp(t){return yn(this.__data__,t)>-1}function tg(t,e){var r=this.__data__,n=yn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function wt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wt.prototype.clear=Xp;wt.prototype.delete=Zp;wt.prototype.get=Jp;wt.prototype.has=Qp;wt.prototype.set=tg;function eg(){this.__data__=new wt,this.size=0}function ng(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function rg(t){return this.__data__.get(t)}function og(t){return this.__data__.has(t)}var ig="[object AsyncFunction]",sg="[object Function]",ag="[object GeneratorFunction]",ug="[object Proxy]";function Of(t){if(!jt(t))return!1;var e=Nt(t);return e==sg||e==ag||e==ig||e==ug}var Un=ct["__core-js_shared__"],pa=function(){var t=/[^.]+$/.exec(Un&&Un.keys&&Un.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function lg(t){return!!pa&&pa in t}var cg=Function.prototype,fg=cg.toString;function Ht(t){if(t!=null){try{return fg.call(t)}catch{}try{return t+""}catch{}}return""}var dg=/[\\^$.*+?()[\]{}|]/g,hg=/^\[object .+?Constructor\]$/,pg=Function.prototype,gg=Object.prototype,vg=pg.toString,mg=gg.hasOwnProperty,_g=RegExp("^"+vg.call(mg).replace(dg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yg(t){if(!jt(t)||lg(t))return!1;var e=Of(t)?_g:hg;return e.test(Ht(t))}function bg(t,e){return t==null?void 0:t[e]}function oe(t,e){var r=bg(t,e);return yg(r)?r:void 0}var ye=oe(ct,"Map"),be=oe(Object,"create");function $g(){this.__data__=be?be(null):{},this.size=0}function Sg(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wg="__lodash_hash_undefined__",Eg=Object.prototype,xg=Eg.hasOwnProperty;function Tg(t){var e=this.__data__;if(be){var r=e[t];return r===wg?void 0:r}return xg.call(e,t)?e[t]:void 0}var Og=Object.prototype,Cg=Og.hasOwnProperty;function Ig(t){var e=this.__data__;return be?e[t]!==void 0:Cg.call(e,t)}var Ag="__lodash_hash_undefined__";function Dg(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=be&&e===void 0?Ag:e,this}function Ft(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ft.prototype.clear=$g;Ft.prototype.delete=Sg;Ft.prototype.get=Tg;Ft.prototype.has=Ig;Ft.prototype.set=Dg;function Rg(){this.size=0,this.__data__={hash:new Ft,map:new(ye||wt),string:new Ft}}function Pg(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function bn(t,e){var r=t.__data__;return Pg(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Lg(t){var e=bn(this,t).delete(t);return this.size-=e?1:0,e}function Mg(t){return bn(this,t).get(t)}function jg(t){return bn(this,t).has(t)}function zg(t,e){var r=bn(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Et(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Et.prototype.clear=Rg;Et.prototype.delete=Lg;Et.prototype.get=Mg;Et.prototype.has=jg;Et.prototype.set=zg;var kg=200;function Fg(t,e){var r=this.__data__;if(r instanceof wt){var n=r.__data__;if(!ye||n.length<kg-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Et(n)}return r.set(t,e),this.size=r.size,this}function $t(t){var e=this.__data__=new wt(t);this.size=e.size}$t.prototype.clear=eg;$t.prototype.delete=ng;$t.prototype.get=rg;$t.prototype.has=og;$t.prototype.set=Fg;var Ng="__lodash_hash_undefined__";function Hg(t){return this.__data__.set(t,Ng),this}function Bg(t){return this.__data__.has(t)}function ln(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Et;++e<r;)this.add(t[e])}ln.prototype.add=ln.prototype.push=Hg;ln.prototype.has=Bg;function Ug(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function qg(t,e){return t.has(e)}var Gg=1,Wg=2;function Cf(t,e,r,n,o,s){var l=r&Gg,c=t.length,f=e.length;if(c!=f&&!(l&&f>c))return!1;var i=s.get(t),a=s.get(e);if(i&&a)return i==e&&a==t;var u=-1,d=!0,h=r&Wg?new ln:void 0;for(s.set(t,e),s.set(e,t);++u<c;){var p=t[u],g=e[u];if(n)var v=l?n(g,p,u,e,t,s):n(p,g,u,t,e,s);if(v!==void 0){if(v)continue;d=!1;break}if(h){if(!Ug(e,function(_,m){if(!qg(h,m)&&(p===_||o(p,_,r,n,s)))return h.push(m)})){d=!1;break}}else if(!(p===g||o(p,g,r,n,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var ga=ct.Uint8Array;function Yg(t){var e=-1,r=Array(t.size);return t.forEach(function(n,o){r[++e]=[o,n]}),r}function Xg(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Kg=1,Vg=2,Zg="[object Boolean]",Jg="[object Date]",Qg="[object Error]",t0="[object Map]",e0="[object Number]",n0="[object RegExp]",r0="[object Set]",o0="[object String]",i0="[object Symbol]",s0="[object ArrayBuffer]",a0="[object DataView]",va=Ot?Ot.prototype:void 0,qn=va?va.valueOf:void 0;function u0(t,e,r,n,o,s,l){switch(r){case a0:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case s0:return!(t.byteLength!=e.byteLength||!s(new ga(t),new ga(e)));case Zg:case Jg:case e0:return vs(+t,+e);case Qg:return t.name==e.name&&t.message==e.message;case n0:case o0:return t==e+"";case t0:var c=Yg;case r0:var f=n&Kg;if(c||(c=Xg),t.size!=e.size&&!f)return!1;var i=l.get(t);if(i)return i==e;n|=Vg,l.set(t,e);var a=Cf(c(t),c(e),n,o,s,l);return l.delete(t),a;case i0:if(qn)return qn.call(t)==qn.call(e)}return!1}function l0(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var X=Array.isArray;function c0(t,e,r){var n=e(t);return X(t)?n:l0(n,r(t))}function f0(t,e){for(var r=-1,n=t==null?0:t.length,o=0,s=[];++r<n;){var l=t[r];e(l,r,t)&&(s[o++]=l)}return s}function d0(){return[]}var h0=Object.prototype,p0=h0.propertyIsEnumerable,ma=Object.getOwnPropertySymbols,g0=ma?function(t){return t==null?[]:(t=Object(t),f0(ma(t),function(e){return p0.call(t,e)}))}:d0;function v0(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var m0="[object Arguments]";function _a(t){return zt(t)&&Nt(t)==m0}var If=Object.prototype,_0=If.hasOwnProperty,y0=If.propertyIsEnumerable,Af=_a(function(){return arguments}())?_a:function(t){return zt(t)&&_0.call(t,"callee")&&!y0.call(t,"callee")};function b0(){return!1}var Df=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ya=Df&&typeof module=="object"&&module&&!module.nodeType&&module,$0=ya&&ya.exports===Df,ba=$0?ct.Buffer:void 0,S0=ba?ba.isBuffer:void 0,qi=S0||b0,w0=9007199254740991,E0=/^(?:0|[1-9]\d*)$/;function ms(t,e){var r=typeof t;return e=e??w0,!!e&&(r=="number"||r!="symbol"&&E0.test(t))&&t>-1&&t%1==0&&t<e}var x0=9007199254740991;function _s(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=x0}var T0="[object Arguments]",O0="[object Array]",C0="[object Boolean]",I0="[object Date]",A0="[object Error]",D0="[object Function]",R0="[object Map]",P0="[object Number]",L0="[object Object]",M0="[object RegExp]",j0="[object Set]",z0="[object String]",k0="[object WeakMap]",F0="[object ArrayBuffer]",N0="[object DataView]",H0="[object Float32Array]",B0="[object Float64Array]",U0="[object Int8Array]",q0="[object Int16Array]",G0="[object Int32Array]",W0="[object Uint8Array]",Y0="[object Uint8ClampedArray]",X0="[object Uint16Array]",K0="[object Uint32Array]",z={};z[H0]=z[B0]=z[U0]=z[q0]=z[G0]=z[W0]=z[Y0]=z[X0]=z[K0]=!0;z[T0]=z[O0]=z[F0]=z[C0]=z[N0]=z[I0]=z[A0]=z[D0]=z[R0]=z[P0]=z[L0]=z[M0]=z[j0]=z[z0]=z[k0]=!1;function V0(t){return zt(t)&&_s(t.length)&&!!z[Nt(t)]}function Z0(t){return function(e){return t(e)}}var Rf=typeof exports=="object"&&exports&&!exports.nodeType&&exports,de=Rf&&typeof module=="object"&&module&&!module.nodeType&&module,J0=de&&de.exports===Rf,Gn=J0&&Ef.process,$a=function(){try{var t=de&&de.require&&de.require("util").types;return t||Gn&&Gn.binding&&Gn.binding("util")}catch{}}(),Sa=$a&&$a.isTypedArray,Pf=Sa?Z0(Sa):V0,Q0=Object.prototype,tv=Q0.hasOwnProperty;function ev(t,e){var r=X(t),n=!r&&Af(t),o=!r&&!n&&qi(t),s=!r&&!n&&!o&&Pf(t),l=r||n||o||s,c=l?v0(t.length,String):[],f=c.length;for(var i in t)tv.call(t,i)&&!(l&&(i=="length"||o&&(i=="offset"||i=="parent")||s&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||ms(i,f)))&&c.push(i);return c}var nv=Object.prototype;function rv(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||nv;return t===r}function ov(t,e){return function(r){return t(e(r))}}var iv=ov(Object.keys,Object),sv=Object.prototype,av=sv.hasOwnProperty;function Lf(t){if(!rv(t))return iv(t);var e=[];for(var r in Object(t))av.call(t,r)&&r!="constructor"&&e.push(r);return e}function $n(t){return t!=null&&_s(t.length)&&!Of(t)}function ys(t){return $n(t)?ev(t):Lf(t)}function wa(t){return c0(t,ys,g0)}var uv=1,lv=Object.prototype,cv=lv.hasOwnProperty;function fv(t,e,r,n,o,s){var l=r&uv,c=wa(t),f=c.length,i=wa(e),a=i.length;if(f!=a&&!l)return!1;for(var u=f;u--;){var d=c[u];if(!(l?d in e:cv.call(e,d)))return!1}var h=s.get(t),p=s.get(e);if(h&&p)return h==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=l;++u<f;){d=c[u];var _=t[d],m=e[d];if(n)var y=l?n(m,_,d,e,t,s):n(_,m,d,t,e,s);if(!(y===void 0?_===m||o(_,m,r,n,s):y)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var b=t.constructor,$=e.constructor;b!=$&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof $=="function"&&$ instanceof $)&&(g=!1)}return s.delete(t),s.delete(e),g}var Gi=oe(ct,"DataView"),Wi=oe(ct,"Promise"),Yi=oe(ct,"Set"),Xi=oe(ct,"WeakMap"),Ea="[object Map]",dv="[object Object]",xa="[object Promise]",Ta="[object Set]",Oa="[object WeakMap]",Ca="[object DataView]",hv=Ht(Gi),pv=Ht(ye),gv=Ht(Wi),vv=Ht(Yi),mv=Ht(Xi),_t=Nt;(Gi&&_t(new Gi(new ArrayBuffer(1)))!=Ca||ye&&_t(new ye)!=Ea||Wi&&_t(Wi.resolve())!=xa||Yi&&_t(new Yi)!=Ta||Xi&&_t(new Xi)!=Oa)&&(_t=function(t){var e=Nt(t),r=e==dv?t.constructor:void 0,n=r?Ht(r):"";if(n)switch(n){case hv:return Ca;case pv:return Ea;case gv:return xa;case vv:return Ta;case mv:return Oa}return e});var _v=1,Ia="[object Arguments]",Aa="[object Array]",Fe="[object Object]",yv=Object.prototype,Da=yv.hasOwnProperty;function bv(t,e,r,n,o,s){var l=X(t),c=X(e),f=l?Aa:_t(t),i=c?Aa:_t(e);f=f==Ia?Fe:f,i=i==Ia?Fe:i;var a=f==Fe,u=i==Fe,d=f==i;if(d&&qi(t)){if(!qi(e))return!1;l=!0,a=!1}if(d&&!a)return s||(s=new $t),l||Pf(t)?Cf(t,e,r,n,o,s):u0(t,e,f,r,n,o,s);if(!(r&_v)){var h=a&&Da.call(t,"__wrapped__"),p=u&&Da.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,v=p?e.value():e;return s||(s=new $t),o(g,v,r,n,s)}}return d?(s||(s=new $t),fv(t,e,r,n,o,s)):!1}function bs(t,e,r,n,o){return t===e?!0:t==null||e==null||!zt(t)&&!zt(e)?t!==t&&e!==e:bv(t,e,r,n,bs,o)}var $v=1,Sv=2;function wv(t,e,r,n){var o=r.length,s=o;if(t==null)return!s;for(t=Object(t);o--;){var l=r[o];if(l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){l=r[o];var c=l[0],f=t[c],i=l[1];if(l[2]){if(f===void 0&&!(c in t))return!1}else{var a=new $t,u;if(!(u===void 0?bs(i,f,$v|Sv,n,a):u))return!1}}return!0}function Mf(t){return t===t&&!jt(t)}function Ev(t){for(var e=ys(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Mf(o)]}return e}function jf(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function xv(t){var e=Ev(t);return e.length==1&&e[0][2]?jf(e[0][0],e[0][1]):function(r){return r===t||wv(r,t,e)}}var Tv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ov=/^\w*$/;function $s(t,e){if(X(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||kt(t)?!0:Ov.test(t)||!Tv.test(t)||e!=null&&t in Object(e)}var Cv="Expected a function";function Ss(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Cv);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],s=r.cache;if(s.has(o))return s.get(o);var l=t.apply(this,n);return r.cache=s.set(o,l)||s,l};return r.cache=new(Ss.Cache||Et),r}Ss.Cache=Et;var Iv=500;function Av(t){var e=Ss(t,function(n){return r.size===Iv&&r.clear(),n}),r=e.cache;return e}var Dv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rv=/\\(\\)?/g,Pv=Av(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Dv,function(r,n,o,s){e.push(o?s.replace(Rv,"$1"):n||r)}),e});function Lv(t,e){for(var r=-1,n=t==null?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var Ra=Ot?Ot.prototype:void 0,Pa=Ra?Ra.toString:void 0;function zf(t){if(typeof t=="string")return t;if(X(t))return Lv(t,zf)+"";if(kt(t))return Pa?Pa.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Mv(t){return t==null?"":zf(t)}function kf(t,e){return X(t)?t:$s(t,e)?[t]:Pv(Mv(t))}function Sn(t){if(typeof t=="string"||kt(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ff(t,e){e=kf(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Sn(e[r++])];return r&&r==n?t:void 0}function jv(t,e,r){var n=t==null?void 0:Ff(t,e);return n===void 0?r:n}function zv(t,e){return t!=null&&e in Object(t)}function kv(t,e,r){e=kf(e,t);for(var n=-1,o=e.length,s=!1;++n<o;){var l=Sn(e[n]);if(!(s=t!=null&&r(t,l)))break;t=t[l]}return s||++n!=o?s:(o=t==null?0:t.length,!!o&&_s(o)&&ms(l,o)&&(X(t)||Af(t)))}function Fv(t,e){return t!=null&&kv(t,e,zv)}var Nv=1,Hv=2;function Bv(t,e){return $s(t)&&Mf(e)?jf(Sn(t),e):function(r){var n=jv(r,t);return n===void 0&&n===e?Fv(r,t):bs(e,n,Nv|Hv)}}function ws(t){return t}function Nf(t){return function(e){return e==null?void 0:e[t]}}function Uv(t){return function(e){return Ff(e,t)}}function qv(t){return $s(t)?Nf(Sn(t)):Uv(t)}function Hf(t){return typeof t=="function"?t:t==null?ws:typeof t=="object"?X(t)?Bv(t[0],t[1]):xv(t):qv(t)}var Gv=1/0,Wv=17976931348623157e292;function We(t){if(!t)return t===0?t:0;if(t=Ui(t),t===Gv||t===-1/0){var e=t<0?-1:1;return e*Wv}return t===t?t:0}function Yv(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var o=0;return Yp(t,Hf(e),o)}var Xv=Math.ceil,Kv=Math.max;function Vv(t,e,r,n){for(var o=-1,s=Kv(Xv((e-t)/(r||1)),0),l=Array(s);s--;)l[++o]=t,t+=r;return l}function Bf(t,e,r){if(!jt(r))return!1;var n=typeof e;return(n=="number"?$n(r)&&ms(e,r.length):n=="string"&&e in r)?vs(r[e],t):!1}function Zv(t){return function(e,r,n){return n&&typeof n!="number"&&Bf(e,r,n)&&(r=n=void 0),e=We(e),r===void 0?(r=e,e=0):r=We(r),n=n===void 0?e<r?1:-1:We(n),Vv(e,r,n)}}var Jv=Zv();const Qv=(t,e,r)=>{const n=t.get(e);n?n.includes(r)||n.push(r):t.set(e,[r])},t1=(t,e)=>{let r;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>{r=0,t(...n)},e)}},e1=t=>!("isConnected"in t)||t.isConnected,La=t1(t=>{for(let e of t.keys())t.set(e,t.get(e).filter(e1))},2e3),n1=()=>{if(typeof la!="function")return{};const t=new Map;return{dispose:()=>t.clear(),get:e=>{const r=la();r&&Qv(t,e,r)},set:e=>{const r=t.get(e);r&&t.set(e,r.filter(ca)),La(t)},reset:()=>{t.forEach(e=>e.forEach(ca)),La(t)}}},Wn=t=>typeof t=="function"?t():t,r1=(t,e=(r,n)=>r!==n)=>{const r=Wn(t);let n=new Map(Object.entries(r??{}));const o={dispose:[],get:[],set:[],reset:[]},s=()=>{n=new Map(Object.entries(Wn(t)??{})),o.reset.forEach(p=>p())},l=()=>{o.dispose.forEach(p=>p()),s()},c=p=>(o.get.forEach(g=>g(p)),n.get(p)),f=(p,g)=>{const v=n.get(p);e(g,v,p)&&(n.set(p,g),o.set.forEach(_=>_(p,g,v)))},i=typeof Proxy>"u"?{}:new Proxy(r,{get(p,g){return c(g)},ownKeys(p){return Array.from(n.keys())},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has(p,g){return n.has(g)},set(p,g,v){return f(g,v),!0}}),a=(p,g)=>(o[p].push(g),()=>{o1(o[p],g)});return{state:i,get:c,set:f,on:a,onChange:(p,g)=>{const v=a("set",(m,y)=>{m===p&&g(y)}),_=a("reset",()=>g(Wn(t)[p]));return()=>{v(),_()}},use:(...p)=>{const g=p.reduce((v,_)=>(_.set&&v.push(a("set",_.set)),_.get&&v.push(a("get",_.get)),_.reset&&v.push(a("reset",_.reset)),_.dispose&&v.push(a("dispose",_.dispose)),v),[]);return()=>g.forEach(v=>v())},dispose:l,reset:s,forceUpdate:p=>{const g=n.get(p);o.set.forEach(v=>v(p,g,g))}}},o1=(t,e)=>{const r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.length--)},wn=(t,e)=>{const r=r1(t,e);return r.use(n1()),r},i1=t=>({set(e,r){switch(e){case"trimmed":{const n=t.get("proxyItems"),o=s1(r),s=n.filter(l=>!o[l]);t.set("items",s);break}}}});function s1(t){const e={};for(let r in t)for(let n in t[r])e[n]=e[n]||t[r][n];return e}function B(t,e){Object.entries(e).forEach(([r,n])=>{t.set(r,n)})}const k$=30,F$=40,N$="data-rgCol",H$="data-rgRow",a1="disabled",u1="rgCell",B$="rowHeaders",U$="rgHeaderCell",q$="sortable",G$="header-rgRow",W$="actual-rgRow",Y$="revo-drag-icon",X$="revo-draggable",K$="focused-cell",V$="selection-border-range",Z$="mobile-handler",J$="temp-bg-range",Q$="autofill-handle",tS="edit-input-wrapper",eS="Draggable item",Ct="__rvgr",nS="focused-rgRow";var Ma;(function(t){t[t.MOUSE_LEFT=1]="MOUSE_LEFT",t[t.MOUSE_RIGHT=3]="MOUSE_RIGHT",t[t.MOUSE_MIDDLE=2]="MOUSE_MIDDLE",t[t.BACKSPACE=8]="BACKSPACE",t[t.COMMA=188]="COMMA",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.END=35]="END",t[t.ENTER=13]="ENTER",t[t.ESCAPE=27]="ESCAPE",t[t.CONTROL=17]="CONTROL",t[t.COMMAND_LEFT=91]="COMMAND_LEFT",t[t.COMMAND_RIGHT=93]="COMMAND_RIGHT",t[t.COMMAND_FIREFOX=224]="COMMAND_FIREFOX",t[t.ALT=18]="ALT",t[t.HOME=36]="HOME",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.PAGE_UP=33]="PAGE_UP",t[t.PERIOD=190]="PERIOD",t[t.SPACE=32]="SPACE",t[t.SHIFT=16]="SHIFT",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.TAB=9]="TAB",t[t.ARROW_RIGHT=39]="ARROW_RIGHT",t[t.ARROW_LEFT=37]="ARROW_LEFT",t[t.ARROW_UP=38]="ARROW_UP",t[t.ARROW_DOWN=40]="ARROW_DOWN",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.A=65]="A",t[t.C=67]="C",t[t.D=68]="D",t[t.F=70]="F",t[t.L=76]="L",t[t.O=79]="O",t[t.P=80]="P",t[t.S=83]="S",t[t.V=86]="V",t[t.X=88]="X"})(Ma||(Ma={}));var ja;(function(t){t.ENTER="Enter",t.ENTER_NUM="NumpadEnter",t.A="KeyA",t.C="KeyC",t.X="KeyX",t.V="KeyV",t.ESCAPE="Escape",t.TAB="Tab",t.BACKSPACE="Backspace",t.DELETE="Delete",t.ARROW_RIGHT="ArrowRight",t.ARROW_LEFT="ArrowLeft",t.ARROW_UP="ArrowUp",t.ARROW_DOWN="ArrowDown",t.SHIFT="Shift"})(ja||(ja={}));var za;(function(t){t.ENTER="Enter",t.TAB="Tab"})(za||(za={}));var ka;(function(t){t.mac="Mac"})(ka||(ka={}));function l1(t){const e=t.createElement("div");e.style.overflow="scroll",e.style.visibility="hidden",e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",t.body.appendChild(e);const r=e.offsetWidth-e.clientWidth;return t.body.removeChild(e),r}function rS(t,e,r){return(r[1]-r[0])*(t-e[0])/(e[1]-e[0])+r[0]}async function c1(t=0){await new Promise(e=>{setTimeout(()=>e(),t)})}class oS{get store(){return this.dataStore}constructor(e,r){const n=this.dataStore=wn(Object.assign({items:[],proxyItems:[],source:[],groupingDepth:0,groups:{},type:e,trimmed:{},groupingCustomRenderer:void 0},r));n.use(Wp(n)),n.use(i1(n))}updateData(e,r,n=!1){n||this.store.set("trimmed",{}),this.store.set("items",[]);const o=Jv(0,(e==null?void 0:e.length)||0);B(this.store,{source:e,proxyItems:[...o]}),this.store.set("items",o),r&&B(this.store,{groupingDepth:r.depth,groups:r.groups,groupingCustomRenderer:r.customRenderer})}addTrimmed(e){let r=this.store.get("trimmed");r=Object.assign(Object.assign({},r),e),B(this.store,{trimmed:r})}setSourceData(e,r=!0){h1(this.store,e,r)}setData(e){const r=Object.assign({},e);B(this.store,r)}refresh(){const e=this.store.get("source");this.store.set("source",[...e])}}function f1(t,e){return t.get("items")[e]}function Uf(t){const e=t.get("source");return t.get("items").map(r=>e[r])}const Kt=(t,e)=>t.get("source")[d1(t,e)],d1=(t,e)=>t.get("items")[e];function h1(t,e,r=!0){const n=t.get("items"),o=t.get("source");for(let s in e){const l=n[s],c=e[s];o[l]=c}r&&t.set("source",[...o])}function iS(t,e,r=!0){const n=t.get("source");for(let o in e)n[o]=e[o];r&&t.set("source",[...n])}function p1(t,e){t.set("items",e)}function sS(t,e){const r=t.get("items"),n=t.get("source"),o=Yv(n,{prop:e});return r.indexOf(o)}var g1=4294967295,v1=g1-1,m1=Math.floor,_1=Math.min;function y1(t,e,r,n){var o=0,s=t==null?0:t.length;if(s===0)return 0;e=r(e);for(var l=e!==e,c=e===null,f=kt(e),i=e===void 0;o<s;){var a=m1((o+s)/2),u=r(t[a]),d=u!==void 0,h=u===null,p=u===u,g=kt(u);if(l)var v=p;else i?v=p&&d:c?v=p&&d&&!h:f?v=p&&d&&!h&&!g:h||g?v=!1:v=u<e;v?o=a+1:s=a}return _1(s,v1)}var b1=4294967295,$1=b1>>>1;function S1(t,e,r){var n=0,o=t==null?n:t.length;if(typeof e=="number"&&e===e&&o<=$1){for(;n<o;){var s=n+o>>>1,l=t[s];l!==null&&!kt(l)&&l<e?n=s+1:o=s}return o}return y1(t,e,ws)}function qf(t,e){return S1(t,e)}function w1(t,e={}){const r=[],n={},o={},s=Object.keys(e).map(Number).sort((c,f)=>c-f);let l;for(let c=0;c<s.length;c++){const f=s[c],i={itemIndex:f,start:0,end:0};if(l){const a=(f-l.itemIndex-1)*t;i.start=a+l.end}else i.start=f*t;i.end=i.start+e[f],r.push(i.start),o[f]=n[c]=i,l=i}return{indexes:s,positionIndexes:[...r],positionIndexToItem:Object.assign({},n),indexToItem:o}}const Ye=({indexes:t,positionIndexes:e,originItemSize:r,positionIndexToItem:n},o)=>{const s={itemIndex:0,start:0,end:0},l=t.length?qf(e,o):0;if(!l)return s.itemIndex=Math.floor(o/r),s.start=s.itemIndex*r,s.end=s.start+r,s;const c=n[l-1];if(c.end>o)return c;const f=o-c.end,i=Math.floor(f/r);return s.itemIndex=c.itemIndex+1+i,s.start=c.end+i*r,s.end=s.start+r,s};function aS(t,e){let r={itemIndex:e,start:0,end:0};if(t.indexToItem[e])return t.indexToItem[e];const n=t.indexes.length?qf(t.indexes,e):0;if(!n)return r.start=r.itemIndex*t.originItemSize,r.end=r.start+t.originItemSize,r;const o=t.indexToItem[t.indexes[n-1]];return r.start=o.end+(e-o.itemIndex-1)*t.originItemSize,r.end=r.start+t.originItemSize,r}/*!
 * Built by Revolist OU ❤️
 */function $e(t){var e=We(t),r=e%1;return e===e?r?e-r:e:0}function E1(t,e,r,n){var o=-1,s=t==null?0:t.length;for(n&&s&&(r=t[++o]);++o<s;)r=e(r,t[o],o,t);return r}function x1(t){return function(e,r,n){for(var o=-1,s=Object(e),l=n(e),c=l.length;c--;){var f=l[++o];if(r(s[f],f,s)===!1)break}return e}}var T1=x1();function O1(t,e){return t&&T1(t,e,ys)}function C1(t,e){return function(r,n){if(r==null)return r;if(!$n(r))return t(r,n);for(var o=r.length,s=-1,l=Object(r);++s<o&&n(l[s],s,l)!==!1;);return r}}var Gf=C1(O1);function I1(t,e,r,n,o){return o(t,function(s,l,c){r=n?(n=!1,s):e(r,s,l,c)}),r}function he(t,e,r){var n=X(t)?E1:I1,o=arguments.length<3;return n(t,Hf(e),r,o,Gf)}function Wf(t){return typeof t>"u"||t===null?"":t}function cn(t={},e){if(e)return e.cellParser?e.cellParser(t,e):t[e.prop]}function A1(t,e){return Wf(cn(t,e))}function D1(t){return t.pin?t.pin:"rgCol"}function uS(t){const e={};for(const[r,n]of t.entries())n.size&&(e[r]=n.size);return e}function Es(t){return!!t.children}function R1(t,e=0,r){return he(t,(o,s)=>{if(Es(s))return o=P1(o,s,R1(s.children,e+1,r),e),o;const l=s.columnType&&(r==null?void 0:r[s.columnType]),c=Object.assign(Object.assign({},l),s);return c.pin?o.columns[c.pin].push(c):o.columns.rgCol.push(c),c.order&&(o.sort[c.prop]=c),o.columnByProp[c.prop]||(o.columnByProp[c.prop]=[]),o.columnByProp[c.prop].push(c),c.beforeSetup&&c.beforeSetup(c),o},{columns:{rgCol:[],colPinStart:[],colPinEnd:[]},columnByProp:{},columnGrouping:{rgCol:[],colPinStart:[],colPinEnd:[]},maxLevel:e,sort:{}})}function P1(t,e,r,n=0){const o=Object.assign(Object.assign({},e),{level:n,indexes:[]});Mt.forEach(s=>{const l=t.columns[s],c=r.columns[s];if(X(l)&&X(c)){const f=c.length;if(f){const i=l.length;l.push(...c),t.columnGrouping[s].push(Object.assign(Object.assign({},o),{indexes:Array(f).fill(i).map((a,u)=>a+u)}))}}});for(let s in r.columnGrouping){const l=s,c=r.columnGrouping[l];t.columnGrouping[l].push(...c)}return t.maxLevel=Math.max(t.maxLevel,r.maxLevel),t.sort=Object.assign(Object.assign({},t.sort),r.sort),t.columnByProp=Object.assign(Object.assign({},t.columnByProp),r.columnByProp),t}function Yf(t,e){for(const r of t)if(Es(r)){const n=Yf(r.children,e);if(n)return n}else if(r.prop===e)return r}function L1(t,e){return Yf(t,e)}function M1(){return{range:null,tempRange:null,tempRangeType:null,focus:null,edit:null,lastCell:null,nextFocus:null}}class Gt{constructor(){this.unsubscribe=[],this.store=wn(M1()),this.store.on("set",(e,r)=>{e==="tempRange"&&!r&&this.store.set("tempRangeType",null)})}onChange(e,r){this.unsubscribe.push(this.store.onChange(e,r))}clearFocus(){B(this.store,{focus:null,range:null,edit:null,tempRange:null})}setFocus(e,r){r?B(this.store,{focus:e,range:Ki(e,r),edit:null,tempRange:null}):B(this.store,{focus:e})}setNextFocus(e){B(this.store,{nextFocus:e})}setTempArea(e){B(this.store,{tempRange:e==null?void 0:e.area,tempRangeType:e==null?void 0:e.type,edit:null})}clearTemp(){B(this.store,{tempRange:null})}setRangeArea(e){B(this.store,{range:e,edit:null,tempRange:null})}setRange(e,r){const n=Ki(e,r);this.setRangeArea(n)}setLastCell(e){B(this.store,{lastCell:e})}setEdit(e){const r=this.store.get("focus");if(r&&typeof e=="string"){B(this.store,{edit:{x:r.x,y:r.y,val:e}});return}B(this.store,{edit:null})}dispose(){this.unsubscribe.forEach(e=>e()),this.store.dispose()}}const j1=-1;class lS{constructor(){this.dirty=!1,this.stores={},this.columnStores={},this.rowStores={},this.storesByType={},this.storesXToType={},this.storesYToType={},this.sections=[]}get focusedStore(){var e;for(let r in this.stores)for(let n in this.stores[r]){const o=(e=this.stores[r][n])===null||e===void 0?void 0:e.store.get("focus");if(o)return{entity:this.stores[r][n],cell:o,position:{x:parseInt(n,10),y:parseInt(r,10)}}}return null}get edit(){var e;return(e=this.focusedStore)===null||e===void 0?void 0:e.entity.store.get("edit")}get focused(){var e;return(e=this.focusedStore)===null||e===void 0?void 0:e.entity.store.get("focus")}get selectedRange(){var e;return(e=this.focusedStore)===null||e===void 0?void 0:e.entity.store.get("range")}registerSection(e){if(!e){this.sections.length=0,this.dirty=!0;return}this.sections.indexOf(e)===-1&&this.sections.push(e)}beforeUpdate(){if(this.dirty){for(let e in this.stores)for(let r in this.stores[e])this.stores[e][r].dispose();this.dirty=!1}}registerColumn(e,r){return Ne(e)?new Gt:this.columnStores[e]?this.columnStores[e]:(this.columnStores[e]=new Gt,this.storesByType[r]=e,this.storesXToType[e]=r,this.columnStores[e])}registerRow(e,r){return Ne(e)?new Gt:this.rowStores[e]?this.rowStores[e]:(this.rowStores[e]=new Gt,this.storesByType[r]=e,this.storesYToType[e]=r,this.rowStores[e])}register({x:e,y:r}){var n,o;return Ne(e)||Ne(r)?new Gt:(this.stores[r]||(this.stores[r]={}),this.stores[r][e]?this.stores[r][e]:(this.stores[r][e]=new Gt,(n=this.stores[r][e])===null||n===void 0||n.onChange("range",s=>{this.columnStores[e].setRangeArea(s),this.rowStores[r].setRangeArea(s)}),(o=this.stores[r][e])===null||o===void 0||o.store.on("dispose",()=>this.destroy(e,r)),this.stores[r][e]))}destroy(e,r){var n,o;if((n=this.columnStores[e])===null||n===void 0||n.dispose(),(o=this.rowStores[r])===null||o===void 0||o.dispose(),delete this.rowStores[r],delete this.columnStores[e],this.storesXToType[e]){const s=this.storesXToType[e];delete this.storesXToType[e],delete this.storesByType[s]}if(this.storesYToType[r]){const s=this.storesYToType[r];delete this.storesYToType[r],delete this.storesByType[s]}this.stores[r]&&delete this.stores[r][e],Object.keys(this.stores[r]||{}).length||delete this.stores[r]}setEditByCell(e,r){this.focusByCell(e,r,r),this.setEdit("")}beforeNextFocusCell(e){var r;if(!this.focusedStore)return;const n=this.focusedStore.entity.store.get("lastCell"),o=n&&this.getNextStore(e,this.focusedStore.position,n);(r=o==null?void 0:o.store)===null||r===void 0||r.setNextFocus(Object.assign(Object.assign({},e),o.item))}focusByCell(e,r,n){const o=this.stores[e.y][e.x];this.focus(o,{focus:r,end:n})}focus(e,{focus:r,end:n}){const o=this.getCurrentStorePointer(e);if(!o)return null;const s=e.store.get("lastCell"),l=s&&this.getNextStore(r,o,s);if(l!=null&&l.store){const c=Object.assign(Object.assign({},r),l.item);return this.focus(l.store,{focus:c,end:c}),null}return s&&(r=Fa(r,s),n=Fa(n,s)),e.setFocus(r,n),r}getCurrentStorePointer(e){let r;for(let n in this.stores)for(let o in this.stores[n]){const s=this.stores[n][o];s!==e?s.clearFocus():r={x:parseInt(o,10),y:parseInt(n,10)}}return r}getNextStore(e,r,n){const o=z1(e,n);let s;return o&&Object.entries(o).forEach(([l,c])=>{let f;switch(l){case"x":f=this.getXStores(r.y);break;case"y":f=this.getYStores(r.x);break}if(c>=0)s=f[++r[l]];else{s=f[--r[l]];const i=s==null?void 0:s.store.get("lastCell");i&&(o[l]=i[l]+c)}}),{store:s,item:o}}clearAll(){var e;for(let r in this.stores)for(let n in this.stores[r])(e=this.stores[r][n])===null||e===void 0||e.clearFocus()}setEdit(e){this.focusedStore&&this.focusedStore.entity.setEdit(e)}selectAll(){for(let e in this.stores)for(let r in this.stores[e]){const n=this.stores[e][r];if(!n)continue;const o=n.store.get("lastCell");o&&n.setRange({x:0,y:0},{x:o.x-1,y:o.y-1})}}getXStores(e){return this.stores[e]}getYStores(e){const r={};for(let n in this.stores)r[n]=this.stores[n][e];return r}}function Ne(t){return t===j1}function z1(t,e){const r={};let n=["x","y"];for(let o of n)if(t[o]<0)return r[o]=t[o],r;for(let o of n)if(t[o]>=e[o])return r[o]=t[o]-e[o],r;return null}function Fa(t,e){const r=Object.assign({},t),n=["x","y"];for(const o of n)t[o]<0?r[o]=0:t[o]>=e[o]&&(r[o]=e[o]-1);return r}function Ki(t,e){return t&&e?{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x1:Math.max(t.x,e.x),y1:Math.max(t.y,e.y)}:null}function cS(t){return t.x===t.x1&&t.y===t.y1}const xs=["rowPinStart","rgRow","rowPinEnd"],Mt=["colPinStart","rgCol","colPinEnd"];function fS(t){return xs.indexOf(t)>-1}const fn=`${Ct}-depth`,Ts=`${Ct}-name`,Os=`${Ct}-id`,dn=`${Ct}-value`,Vi=`${Ct}-column`,Se=`${Ct}-expanded`,k1=`${Ct}-prop`,Xf=`${Ct}-original-index`,dS="group-expand",F1="groupexpandclick",Yn="rgRow";function N1(t,e){return t[e]||null}function Wt(t,e,r=!1){let n=0;const o={source:[],prevExpanded:{},oldNewIndexes:{}};return e.forEach(s=>{const l=t[s];if(!r){o.source.push(l);return}at(l)?Kf(l)&&(o.prevExpanded[l[dn]]=!0):(o.source.push(l),o.oldNewIndexes[s]=n,n++)}),o}function Kf(t={}){return t[Se]}function Vf({groupedValues:t,parentIds:e,isExpanded:r,itemIndex:n,expandedAll:o,prevExpanded:s,columnProps:l}){const c=e.length,f=[];let i={},a={};return t.forEach((u,d)=>{const h=[...e,d],p=h.join(","),g=r&&(!!o||!!s[p]);if(f.push({[Ts]:d,[fn]:c,[Os]:JSON.stringify(h),[dn]:p,[Se]:g,[k1]:l[c],[l[c]]:d}),n+=1,!r&&c&&(i[n]=!0),Array.isArray(u))u.forEach(v=>{n+=1,g||(i[n]=!0),a[v[Xf]]=n}),f.push(...u);else{const v=Vf({groupedValues:u,parentIds:h,isExpanded:g,itemIndex:n,expandedAll:o,prevExpanded:s,columnProps:l});f.push(...v.source),i=Object.assign(Object.assign({},v.trimmed),i),a=Object.assign(Object.assign({},v.oldNewIndexMap),a),n=v.itemIndex}}),{source:f,oldNewIndexMap:a,trimmed:i,itemIndex:n}}function Na(t,e,{prevExpanded:r={},expandedAll:n=!1,getGroupValue:o=N1}){const s=new Map;t.forEach((a,u)=>{const d=e.map(v=>o(a,v)),h=d.pop();let p=s;if(d.forEach(v=>{p.has(v)||p.set(v,new Map),p=p.get(v)}),!p.has(h)){const v=[];p.set(h,v)}p.get(h).push(Object.assign(Object.assign({},a),{[Xf]:u}))});const l=e.length,{source:c,trimmed:f,oldNewIndexMap:i}=Vf({groupedValues:s,parentIds:[],isExpanded:!0,itemIndex:-1,expandedAll:n,prevExpanded:r,columnProps:e});return{sourceWithGroups:c,depth:l,trimmed:f,oldNewIndexMap:i}}function H1(t){return t==null?void 0:t[Ts]}function at(t){return typeof(t==null?void 0:t[Ts])<"u"}function Zf(t){return typeof(t==null?void 0:t[Vi])<"u"}function B1(t,e){const r=t.length;let n=0;for(;n<r;n++)if(t[n]!==e[n])return n;return n}function Jf(t){const e=JSON.parse(t);return Array.isArray(e)?e:null}function U1(t,e,r){const n=Jf(r[Os]);if(!n)return!1;const o=B1(t,n);return e[fn]<o}function q1(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),r=r>o?o:r,r<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(o);++n<o;)s[n]=t[n+e];return s}function G1(t,e,r){var n=t==null?0:t.length;return n?(r&&typeof r!="number"&&Bf(t,e,r)?(e=0,r=n):(e=e==null?0:$e(e),r=r===void 0?n:$e(r)),q1(t,e,r)):[]}function hS(t,e={}){const r=t==null?void 0:t.editor;if(r)return typeof r=="string"?e[r]:r}class pS{get columns(){return Uf(this.source)}constructor(e,r){this.dataStore=e,this.source=r,this.unsubscribe=[],this.hasGrouping=!1,this.unsubscribe.push(r.onChange("source",n=>this.checkGrouping(n))),this.checkGrouping(r.get("source")),this.type=r.get("type")}checkGrouping(e){for(let r of e){if(Zf(r)){this.hasGrouping=!0;return}this.hasGrouping=!1}}isReadOnly(e,r){var n;const o=(n=this.columns[r])===null||n===void 0?void 0:n.readonly;if(typeof o=="function"){const s=this.rowDataModel(e,r);return o(s)}return!!o}mergeProperties(e,r,n,o){var s,l;const c=Object.assign({},n);c.class=Object.assign(Object.assign({},typeof c.class=="string"?{[c.class]:!0}:c.class),{[u1]:!0,[a1]:this.isReadOnly(e,r)});const f=(l=(s=o.column)===null||s===void 0?void 0:s.cellProperties)===null||l===void 0?void 0:l.call(s,o);return f?Qf(c,f):c}getRowClass(e,r){return(Kt(this.dataStore,e)||{})[r]||""}getSaveData(e,r,n){const o=this.rowDataModel(e,r);return typeof n>"u"&&(n=Wf(o.value)),Object.assign(Object.assign({},o),{val:n})}rowDataModel(e,r){const n=this.columns[r],o=n==null?void 0:n.prop,s=Kt(this.dataStore,e)||{},l=this.dataStore.get("type");return{prop:o,model:s,data:this.dataStore.get("source"),column:n,rowIndex:e,colIndex:r,colType:this.type,type:l,value:cn(s,n)}}getRangeData(e,r){var n;const o={},s=e.oldRange.x1-e.oldRange.x+1,l=e.oldRange.y1-e.oldRange.y+1,c={};for(let f=e.newRange.y,i=0;f<e.newRange.y1+1;f++,i++){const a=e.oldRange.y+i%l,u=Kt(this.dataStore,a)||{};for(let d=e.newRange.x,h=0;d<e.newRange.x1+1;d++,h++){if(f>=e.oldRange.y&&f<=e.oldRange.y1&&d>=e.oldRange.x&&d<=e.oldRange.x1||!this.columns[d])continue;const p=(n=this.columns[d])===null||n===void 0?void 0:n.prop,g=e.oldRange.x+h%s,v=r[g].prop;this.isReadOnly(f,d)||(o[f]||(o[f]={}),o[f][p]=u[v],c[f]||(c[f]={}),c[f][p]={colIndex:g,colProp:v,rowIndex:a})}}return{changed:o,mapping:c}}getTransformedDataToApply(e,r){const n={},o=r.length,s=this.columns.length,l=this.dataStore.get("items").length;let c=e.y,f=0;for(let a=0;c<l&&a<o;c++,a++){const u=r[a%o],d=(u==null?void 0:u.length)||0;let h=e.x;for(let p=0;h<s&&p<d;h++,p++){const g=this.columns[h].prop,v=p%s;this.isReadOnly(c,h)||(n[c]||(n[c]={}),n[c][g]=u[v])}f=Math.max(f,h-1)}const i=Ki(e,{y:c-1,x:f});return{changed:n,range:i}}getRangeStaticData(e,r){const n={};for(let o=e.y,s=0;o<e.y1+1;o++,s++)for(let l=e.x,c=0;l<e.x1+1;l++,c++){if(!this.columns[l])continue;const f=this.columns[l].prop;this.isReadOnly(o,l)||(n[o]||(n[o]={}),n[o][f]=r)}return n}getRangeTransformedToProps(e,r){var n;const o=[],s=this.dataStore.get("type");for(let l=e.y,c=0;l<e.y1+1;l++,c++)for(let f=e.x,i=0;f<e.x1+1;f++,i++){const a=(n=this.columns[f])===null||n===void 0?void 0:n.prop;o.push({prop:a,rowIndex:l,colIndex:f,model:Kt(r,l),type:s,colType:this.type})}return o}copyRangeArray(e,r){const n=[...this.columns],o=G1(n,e.x,e.x1+1).map(c=>c.prop),s=[],l={};for(let c=e.y;c<=e.y1;c++){const f=[];l[c]={};for(let i of o){const a=Kt(r,c);if(!a)continue;const u=a[i];f.push(u),l[c][i]=u}s.push(f)}return{data:s,mapping:l}}destroy(){this.unsubscribe.forEach(e=>e())}}function gS(t,e){return typeof t=="function"?t(e):!!t}function Ha(t={},e={}){return typeof t=="string"&&(t={[t]:!0}),typeof e=="string"&&(e={[e]:!0}),Object.assign(Object.assign({},t),e)}function Qf(t,e){e.className&&(e.class=Ha(e.class,e.className),delete e.className);let r=Object.assign(Object.assign({},e),t);return e.class&&(r.class=Ha(r.class,e.class)),e.style&&(r.style=Object.assign(Object.assign({},e.style),r.style)),r}/*!
 * Built by Revolist OU ❤️
 */const W1=10,Y1=(t,e,r=50)=>(e==null?void 0:e.size)||Math.max((t.toString().length+1)*W1,r);function X1(t,e,r,n,o){const s=Ye(o,t),l=Cs(e);let c;if(l){let i=s.itemIndex-(l.itemIndex||0);i&&(c=V1(Math.abs(i),Object.assign(Object.assign({positiveDirection:i>-1},o),e)))}const f=K1(n,o.realSize,s);if(c){const i=ed(s,r,f,c,o);i.length&&td(c.items,i,c)}if(!c){const i=nd({firstItemStart:s.start,firstItemIndex:s.itemIndex,origSize:o.originItemSize,maxSize:f,maxCount:r,sizes:o.sizes});c={items:i,start:0,end:i.length-1}}return c}function K1(t,e,r){return Math.min(t+(r.end-r.start),e)}function td(t,e,r){t.splice(r.end+1,0,...e),r.start>=r.end&&!(r.start===r.end&&r.start===0)&&(r.start+=e.length),r.end+=e.length}function ed(t,e,r,n,o){const s=Is(n);return nd({sizes:o.sizes,firstItemStart:s.end,firstItemIndex:s.itemIndex+1,origSize:o.originItemSize,maxSize:r-(s.end-t.start),maxCount:e})}function nd(t,e=0){const r=[];let n=t.firstItemIndex,o=e;for(;o<=t.maxSize&&n<t.maxCount;){const s=Zi(n,t.sizes,t.origSize);r.push({start:t.firstItemStart+o,end:t.firstItemStart+o+s,itemIndex:n,size:s}),o+=s,n++}return r}function V1(t,e){var r,n;const o=[...e.items],s=o.length;let l={start:e.start,end:e.end};if(t>s)return;if(e.positiveDirection){let f=Is(e),i=l.start;const a=i+t;for(;i<a;i++){const u=f.itemIndex+1,d=Zi(u,e.sizes,e.originItemSize);if(f.end+d>e.realSize)break;let h=i%s;if(!o[h])throw new Error("incorrect index");o[h]=f={start:f.end,end:f.end+d,itemIndex:u,size:d},l.start++,l.end=h}}else{let f=Cs(e);const i=l.end;for(let a=0;a<t;a++){const u=((r=f==null?void 0:f.itemIndex)!==null&&r!==void 0?r:0)-1,d=Zi(u,e.sizes,e.originItemSize);let h=i-a;if(h=(h<0?s+h:h)%s,!o[h]){console.error("incorrect index");break}const p=(n=f==null?void 0:f.start)!==null&&n!==void 0?n:0;o[h]=f={start:p-d,end:p,itemIndex:u,size:d},l.start=h,l.end--}}const c={start:(l.start<0?s+l.start:l.start)%s,end:(l.end<0?s+l.end:l.end)%s};return Object.assign({items:o},c)}function Zi(t,e,r=0){return e&&e[t]?e[t]:r}function Z1(t,e,r,n){return!r||!n?!1:t>=r.start&&t<=r.end||t>r.end&&n.end===e}function J1(t,e,r,n){var o;return r?e+t>((o=n==null?void 0:n.end)!==null&&o!==void 0?o:0):!1}function Cs(t){return t.items[t.start]}function Is(t){return t.items[t.end]}function Q1(t,e,r,n){const o=[...t],s=o.length;let l=n,c=0,f=e;if(!s)return[];for(;c<s;){const i=o[f];i.start=l,i.size=r,i.end=i.start+r,l=i.end,f++,c++,f===s&&(f=0)}return o}function tm(){return{items:[],start:0,end:0,virtualSize:0,realCount:0,clientSize:0}}class vS{get lastCoordinate(){return this.lastKnownScroll}set lastCoordinate(e){this.lastKnownScroll=e}constructor(e){this.type=e,this.lastKnownScroll=0,this.store=wn(tm())}setViewPortCoordinate(e,r,n=!1){const o=this.store.get("virtualSize");if(!o)return;const s=1,l=r.originItemSize*s,c=l*2,f=o+c;let i=0;r.realSize>o&&(i=r.realSize-o-l);let a=e;a<0?a=0:a>i&&(a=i),this.lastCoordinate=a,a-=l,a=a<0?0:a<i?a:i;let u;n?u={items:[],start:0,end:0}:u=this.getItems();const d=Cs(u),h=Is(u);let p={};if(!Z1(a,r.realSize,d,h))p=Object.assign(Object.assign({},p),X1(a,u,this.store.get("realCount"),f,r)),this.setViewport(Object.assign({},p));else if(J1(a,f,d,h)){const g=[...u.items],v=ed(d,this.store.get("realCount"),f+a-d.start,u,{sizes:r.sizes,originItemSize:r.originItemSize});if(v.length){const _={start:this.store.get("start"),end:this.store.get("end")};td(g,v,_),p=Object.assign(Object.assign(Object.assign({},p),{items:[...g]}),_),this.setViewport(Object.assign({},p))}}}setOriginalSizes(e){const r=this.store.get("items");r.length&&B(this.store,{items:Q1(r,this.store.get("start"),e,this.lastCoordinate)})}getItems(){return{items:this.store.get("items"),start:this.store.get("start"),end:this.store.get("end")}}setViewport(e){(typeof e.realCount=="number"||typeof e.virtualSize=="number")&&(e=Object.assign(Object.assign({},e),{items:e.items||[]})),B(this.store,e)}}/*!
 * Built by Revolist OU ❤️
 */const Ji="rv-filter",em="active",rd="hasFilter",nm="and-or-button",rm="trash-button",mS=({column:t})=>U("span",null,U("button",{class:{[Ji]:!0,[em]:t&&!!t[rd]}},U("svg",{class:"filter-img",viewBox:"0 0 64 64"},U("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},U("path",{d:"M43,48 L43,56 L21,56 L21,48 L43,48 Z M53,28 L53,36 L12,36 L12,28 L53,28 Z M64,8 L64,16 L0,16 L0,8 L64,8 Z",fill:"currentColor"}))))),_S=()=>U("div",{class:{[rm]:!0}},U("svg",{class:"trash-img",viewBox:"0 0 24 24"},U("path",{fill:"currentColor",d:"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z"}))),yS=({text:t})=>U("button",{class:{[nm]:!0,"light revo-button":!0}},t);function om(t){return t.classList.contains(Ji)?!0:t==null?void 0:t.closest(`.${Ji}`)}/*!
 * Built by Revolist OU ❤️
 */function le(t,e,r){const n=new CustomEvent(e,{detail:r,cancelable:!0,bubbles:!0});return t==null||t.dispatchEvent(n),n}var Qt;(function(t){t.start="resize:start",t.move="resize:move",t.end="resize:end"})(Qt||(Qt={}));const Dt={"resizable-r":{bit:1,cursor:"ew-resize"},"resizable-rb":{bit:3,cursor:"se-resize"},"resizable-b":{bit:2,cursor:"s-resize"},"resizable-lb":{bit:6,cursor:"sw-resize"},"resizable-l":{bit:4,cursor:"w-resize"},"resizable-lt":{bit:12,cursor:"nw-resize"},"resizable-t":{bit:8,cursor:"n-resize"},"resizable-rt":{bit:9,cursor:"ne-resize"}},He={w:4,h:8},im=t=>Object.assign(Object.assign({},t),{fitParent:t.fitParent||!1,active:t.active||[],disableAttributes:t.disableAttributes||[],minWidth:t.minWidth||0,minHeight:t.minHeight||0});class hn{constructor(e,r){var n,o;this.initialProps=e,this.$event=r,this.mouseX=0,this.mouseY=0,this.width=0,this.height=0,this.changeX=0,this.changeY=0,this.disableCalcMap=15,this.props=im(e),this.mouseMoveFunc=this.handleMove.bind(this),this.mouseUpFunc=this.handleUp.bind(this),this.minW=this.props.minWidth,this.minH=this.props.minHeight,this.maxW=(n=this.props.maxWidth)!==null&&n!==void 0?n:0,this.maxH=(o=this.props.maxHeight)!==null&&o!==void 0?o:0,this.parent={width:0,height:0},this.resizeState=0}set(e){this.$el=e,this.props.disableAttributes.forEach(r=>{switch(r){case"l":this.disableCalcMap&=-2;break;case"t":this.disableCalcMap&=-3;break;case"w":this.disableCalcMap&=-5;break;case"h":this.disableCalcMap&=-9}})}emitEvent(e,r){var n;if(!this.$event)return;const o=(n=this.activeResizer)===null||n===void 0?void 0:n.classList.contains("resizable-l");this.$event(Object.assign({eventName:e,width:this.width+this.changeX*(o?-1:1),height:this.height+this.changeY,changedX:this.changeX,changedY:this.changeY},r))}static isTouchEvent(e){var r;return((r=e.touches)===null||r===void 0?void 0:r.length)>=0}handleMove(e){var r;if(!this.resizeState)return;let n,o;hn.isTouchEvent(e)?(n=e.touches[0].clientY,o=e.touches[0].clientX):(n=e.clientY,o=e.clientX);let s=this.resizeState&Dt["resizable-r"].bit||this.resizeState&Dt["resizable-l"].bit;if((this.resizeState&Dt["resizable-t"].bit||this.resizeState&Dt["resizable-b"].bit)&&this.disableCalcMap&He.h){let c=n-this.mouseY,f=this.changeY+c;const i=this.height+f;i<this.minH&&(f=-(this.height-this.minH)),this.maxH&&i>this.maxH&&(f=this.maxH-this.height),this.changeY=f,this.mouseY=n,this.activeResizer&&(this.activeResizer.style.bottom=`${-this.changeY}px`)}if(s&&this.disableCalcMap&He.w){const c=(r=this.activeResizer)===null||r===void 0?void 0:r.classList.contains("resizable-l");let f=o-this.mouseX,i=this.changeX+f;const a=this.width+i*(c?-1:1);a<this.minW&&(i=-(this.width-this.minW)),this.maxW&&a>this.maxW&&(i=this.maxW-this.width),this.changeX=i,this.mouseX=o,this.activeResizer&&(c?this.activeResizer.style.left=`${this.changeX}px`:this.activeResizer.style.right=`${-this.changeX}px`)}this.emitEvent(Qt.move)}handleDown(e){if(!e.defaultPrevented){e.preventDefault(),this.dropInitial();for(let r in Dt){const n=e.target;if(this.$el.contains(n)&&(n!=null&&n.classList.contains(r))){document.body.style.cursor=Dt[r].cursor,hn.isTouchEvent(e)?this.setInitials(e.touches[0],n):(e.preventDefault&&e.preventDefault(),this.setInitials(e,n)),this.resizeState=Dt[r].bit;const o=Qt.start;this.emitEvent(o);break}}this.bindMove()}}handleUp(e){if(e.preventDefault(),this.resizeState!==0){this.resizeState=0,document.body.style.cursor="";const r=Qt.end;this.emitEvent(r)}this.dropInitial(),this.unbindMove()}setInitials({clientX:e,clientY:r},n){var o,s,l,c;const f=getComputedStyle(this.$el);if(this.$el.classList.add("active"),this.activeResizer=n,this.disableCalcMap&He.w){this.mouseX=e,this.width=this.$el.clientWidth,this.parent.width=(s=(o=this.$el.parentElement)===null||o===void 0?void 0:o.clientWidth)!==null&&s!==void 0?s:0;const i=parseFloat(f.paddingLeft)+parseFloat(f.paddingRight);this.minW=Math.max(i,this.initialProps.minWidth||0),this.initialProps.maxWidth&&(this.maxW=Math.max(this.width,this.initialProps.maxWidth))}if(this.disableCalcMap&He.h){this.mouseY=r,this.height=this.$el.clientHeight,this.parent.height=(c=(l=this.$el.parentElement)===null||l===void 0?void 0:l.clientHeight)!==null&&c!==void 0?c:0;const i=parseFloat(f.paddingTop)+parseFloat(f.paddingBottom);this.minH=Math.max(i,this.initialProps.minHeight||0),this.initialProps.maxHeight&&(this.maxH=Math.max(this.height,this.initialProps.maxHeight))}}dropInitial(){this.changeX=this.changeY=this.minW=this.minH,this.width=this.height=0,this.activeResizer&&this.activeResizer.removeAttribute("style"),this.$el.classList.remove("active"),this.activeResizer=void 0}bindMove(){document.documentElement.addEventListener("mouseup",this.mouseUpFunc,!0),document.documentElement.addEventListener("touchend",this.mouseUpFunc,!0),document.documentElement.addEventListener("mousemove",this.mouseMoveFunc,!0),document.documentElement.addEventListener("touchmove",this.mouseMoveFunc,!0),document.documentElement.addEventListener("mouseleave",this.mouseUpFunc)}unbindMove(){document.documentElement.removeEventListener("mouseup",this.mouseUpFunc,!0),document.documentElement.removeEventListener("touchend",this.mouseUpFunc,!0),document.documentElement.removeEventListener("mousemove",this.mouseMoveFunc,!0),document.documentElement.removeEventListener("touchmove",this.mouseMoveFunc,!0),document.documentElement.removeEventListener("mouseleave",this.mouseUpFunc)}}const sm=(t,e)=>{const r=[],n=t.canResize&&new hn(t,o=>{var s;o.eventName===Qt.end&&((s=t.onResize)===null||s===void 0||s.call(t,o))})||null;if(t.active)if(t.canResize)for(let o in t.active)r.push(U("div",{onClick:s=>s.preventDefault(),onDblClick:s=>{var l;s.preventDefault(),(l=t.onDblClick)===null||l===void 0||l.call(t,s)},onMouseDown:s=>n==null?void 0:n.handleDown(s),onTouchStart:s=>n==null?void 0:n.handleDown(s),class:`resizable resizable-${t.active[o]}`}));else for(let o in t.active)r.push(U("div",{onClick:s=>s.preventDefault(),onTouchStart:s=>s.preventDefault(),onDblClick:s=>{var l;s.preventDefault(),(l=t.onDblClick)===null||l===void 0||l.call(t,s)},class:`no-resize resizable resizable-${t.active[o]}`}));return U("div",Object.assign({},t,{ref:o=>o&&(n==null?void 0:n.set(o))}),e,r)},od="columnclick",bS=({data:t,props:e,additionalData:r},n)=>{let o=(t==null?void 0:t.name)||"",s=e;if(t!=null&&t.columnTemplate&&(o=t.columnTemplate(U,t,r)),t!=null&&t.columnProperties){const c=t.columnProperties(t);c&&(s=Qf(e,c))}const l=Object.assign(Object.assign({},s),{onMouseDown(c){le(c.currentTarget,od,{data:t,event:c})}});return U(sm,Object.assign({},l),U("div",{class:"header-content"},o),n)};/*!
 * Built by Revolist OU ❤️
 */const am=t=>({set(e){switch(e){case"count":case"sizes":case"originItemSize":{let r=0;const n=t.store.get("count");for(let o=0;o<n;o++)r+=t.store.get("sizes")[o]||t.store.get("originItemSize");t.setStore({realSize:r});break}}}}),um=t=>{let e=null,r=null;return{set(n,o){switch(n){case"sizes":{if(e&&e===o){e=null;return}r=null;break}case"trimmed":{const s=o;r||(r=t.store.get("sizes")),e=lm(r,s||{}),t.setSizes(e);break}}}}};function lm(t,e){const r={},n=Object.keys(t||{}).map(Number).sort((l,c)=>l-c),o=n[n.length-1];let s=0;for(let l=0;l<=o;l++)e[l]!==void 0&&(s++,t[l]!==void 0)||t[l]!==void 0&&(r[l-s]=t[l]);return r}function id(){return{indexes:[],count:0,trimmed:null,sizes:{},positionIndexToItem:{},indexToItem:{},positionIndexes:[]}}function Xn(){return Object.assign(Object.assign({},id()),{realSize:0,originItemSize:0})}class $S{constructor(e){this.type=e,this.store=wn(Xn()),this.store.use(um({store:this.store,setSizes:this.setDimensionSize.bind(this)})),this.store.use(am({store:this.store,setStore:this.setStore.bind(this)}))}getCurrentState(){const e=Xn(),r=Object.keys(e);return he(r,(n,o)=>{const s=this.store.get(o);return n[o]=s,n},e)}dispose(){B(this.store,Xn())}setStore(e){B(this.store,e)}drop(){B(this.store,id())}setDimensionSize(e={}){const r=w1(this.store.get("originItemSize"),e);B(this.store,Object.assign(Object.assign({},r),{sizes:e}))}updateSizesPositionByIndexes(e,r=[]){const n=Object.assign({},this.store.get("sizes"));if(!Object.keys(n).length)return;const o={};r.forEach((l,c)=>{o[l]||(o[l]=[]),o[l].push(c)});const s={};e.forEach((l,c)=>{const f=o[l];if(f&&f.length>0){const i=f.shift();i!==void 0&&i!==c&&n[i]&&(s[c]=n[i],delete n[i])}}),Object.keys(s).length&&this.setDimensionSize(Object.assign(Object.assign({},n),s))}}class It{constructor(e,r){this.revogrid=e,this.providers=r,this.h=U,this.subscriptions={}}addEventListener(e,r){this.revogrid.addEventListener(e,r),this.subscriptions[e]=r}watch(e,r,{immediate:n}={immediate:!1}){const o=Object.getOwnPropertyDescriptor(this.revogrid,e)||Object.getOwnPropertyDescriptor(this.revogrid.constructor.prototype,e);Object.defineProperty(this.revogrid,e,{set(s){var l;if(r(s)!==!1)return(l=o==null?void 0:o.set)===null||l===void 0?void 0:l.call(this,s)},get(){var s;return(s=o==null?void 0:o.get)===null||s===void 0?void 0:s.call(this)}}),n&&r(o==null?void 0:o.value)}removeEventListener(e){this.revogrid.removeEventListener(e,this.subscriptions[e]),delete this.subscriptions[e]}emit(e,r){const n=new CustomEvent(e,{detail:r,cancelable:!0});return this.revogrid.dispatchEvent(n),n}clearSubscriptions(){for(let e in this.subscriptions)this.removeEventListener(e)}destroy(){this.clearSubscriptions()}}function cm(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function fm(t){return typeof t=="function"?t:ws}function it(t,e){var r=X(t)?cm:Gf;return r(t,fm(e))}const dm=7;class SS extends It{constructor(e,r,n){super(e,r),this.providers=r,this.config=n,this.autoSizeColumns=null,this.dataResolve=null,this.dataReject=null,this.letterBlockSize=(n==null?void 0:n.letterBlockSize)||dm,n!=null&&n.preciseSize&&(this.precsizeCalculationArea=this.initiatePresizeElement(),e.appendChild(this.precsizeCalculationArea));const o=({detail:{source:l}})=>{this.setSource(l)},s=({detail:{columns:l}})=>{this.columnSet(l)};switch(this.addEventListener("beforecolumnsset",s),n==null?void 0:n.mode){case"autoSizeOnTextOverlap":this.addEventListener("aftersourceset",o),this.addEventListener("afteredit",({detail:l})=>{this.afteredit(l)});break;case"autoSizeAll":this.addEventListener("aftersourceset",o),this.addEventListener("afteredit",({detail:l})=>{this.afterEditAll(l)});break;default:this.addEventListener("headerdblclick",({detail:l})=>{const c=D1(l.column),f=this.getColumnSize(l.index,c);f&&this.providers.dimension.setCustomSizes(c,{[l.index]:f},!0)});break}}async setSource(e){let r=this.autoSizeColumns;if(this.dataReject&&(this.dataReject(),this.clearPromise()),!r){const n=new Promise((o,s)=>{this.dataResolve=o,this.dataReject=s});try{r=await n}catch{return}}it(r,(n,o)=>{const s={};it(r[o],l=>{l.size=s[l.index]=e.reduce((c,f)=>Math.max(c,this.getLength(f[l.prop])),this.getLength(l.name||""))}),this.providers.dimension.setCustomSizes(o,s,!0)})}getLength(e){var r;if(!e)return 0;try{const o=e.toString();return!((r=this.config)===null||r===void 0)&&r.preciseSize?(this.precsizeCalculationArea.innerText=o,this.precsizeCalculationArea.scrollWidth+15*2):o.length*this.letterBlockSize+15*2}catch{return 0}}afteredit(e){let r;this.isRangeEdit(e)?r=e.data:r={0:{[e.prop]:e.val}},it(this.autoSizeColumns,(n,o)=>{const s={};it(n,l=>{var c;const f=he(r,(i,a)=>typeof a[l.prop]>"u"?i:Math.max(i||0,this.getLength(a[l.prop])),void 0);f&&((c=l.size)!==null&&c!==void 0?c:0)<f&&(l.size=s[l.index]=f)}),this.providers.dimension.setCustomSizes(o,s,!0)})}afterEditAll(e){const r={};this.isRangeEdit(e)?it(e.data,n=>it(n,(o,s)=>r[s]=!0)):r[e.prop]=!0,it(this.autoSizeColumns,(n,o)=>{const s={};it(n,l=>{if(r[l.prop]){const c=this.getColumnSize(l.index,o);c&&(s[l.index]=c)}}),this.providers.dimension.setCustomSizes(o,s,!0)})}getColumnSize(e,r){var n,o;const s=(o=(n=this.autoSizeColumns)===null||n===void 0?void 0:n[r])===null||o===void 0?void 0:o[e];return s?he(this.providers.data.stores,(l,c)=>{const f=he(c.store.get("items"),(i,a,u)=>{const d=Kt(c.store,u);return Math.max(i||0,this.getLength(d==null?void 0:d[s.prop]))},0);return Math.max(l,f)},s.size||0):0}columnSet(e){var r;for(let n of Mt){const o=n,s=e[o];for(let l in s)(s[l].autoSize||!((r=this.config)===null||r===void 0)&&r.allColumns)&&(this.autoSizeColumns||(this.autoSizeColumns={}),this.autoSizeColumns[o]||(this.autoSizeColumns[o]={}),this.autoSizeColumns[o][l]=Object.assign(Object.assign({},s[l]),{index:parseInt(l,10)}))}this.dataResolve&&(this.dataResolve(this.autoSizeColumns||{}),this.clearPromise())}clearPromise(){this.dataResolve=null,this.dataReject=null}isRangeEdit(e){return!!e.data}initiatePresizeElement(){var e;const r={position:"absolute",fontSize:"14px",height:"0",width:"0",whiteSpace:"nowrap",top:"0",overflowX:"scroll",display:"block"},n=document.createElement("div");for(let o in r)n.style[o]=(e=r[o])!==null&&e!==void 0?e:"";return n.classList.add("revo-test-container"),n}destroy(){var e;super.destroy(),(e=this.precsizeCalculationArea)===null||e===void 0||e.remove()}}class wS extends It{constructor(e,r){super(e,r),this.providers=r,this.stretchedColumn=null,this.scrollSize=l1(document);const n=({detail:{columns:o}})=>this.applyStretch(o);this.addEventListener("beforecolumnapplied",n)}setScroll({type:e,hasScroll:r}){var n;e==="rgRow"&&this.stretchedColumn&&((n=this.stretchedColumn)===null||n===void 0?void 0:n.initialSize)===this.stretchedColumn.size&&r&&(this.stretchedColumn.size-=this.scrollSize,this.apply(),this.dropChanges())}activateChanges(){const e=({detail:r})=>this.setScroll(r);this.addEventListener("scrollchange",e)}dropChanges(){this.stretchedColumn=null,this.removeEventListener("scrollchange")}apply(){if(!this.stretchedColumn)return;const e="rgCol",r=this.providers.dimension.stores[e].store.get("sizes");this.providers.dimension.setCustomSizes(e,Object.assign(Object.assign({},r),{[this.stretchedColumn.index]:this.stretchedColumn.size}),!0)}applyStretch(e){this.dropChanges();let r=this.revogrid.clientWidth-1;if(it(e,(n,o)=>{const s=this.providers.dimension.stores[o].store.get("realSize");r-=s}),this.revogrid.rowHeaders){const n=this.providers.data.stores.rgRow.store.get("source").length,o=this.revogrid.rowHeaders,s=Y1(n,typeof o=="object"?o:void 0);s&&(r-=s)}if(r>0){const n=e.rgCol.length-1,o=e.rgCol[n],s=(o==null?void 0:o.size)||this.revogrid.colSize||0,l=r+s-1;o&&!o.autoSize&&s<l&&(this.stretchedColumn={initialSize:l,index:n,size:l},this.apply(),this.activateChanges())}}}function ES(t){return!!t.applyStretch}function hm(t,e,r){return t===t&&(t=t<=r?t:r,t=t>=e?t:e),t}var pm=4294967295;function gm(t){return t?hm($e(t),0,pm):0}function vm(t,e,r,n){var o=t.length;for(r=$e(r),r<0&&(r=-r>o?0:o+r),n=n===void 0||n>o?o:$e(n),n<0&&(n+=o),n=r>n?0:gm(n);r<n;)t[r++]=e;return t}function mm(t,e,r,n){var o=t==null?0:t.length;return o?vm(t,e,r,n):[]}const _m={mime:"text/csv",fileKind:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`,encoding:""},ym=String.fromCharCode(13),bm=String.fromCharCode(10),$m=String.fromCharCode(34),Sm=String.fromCharCode(65279),wm=new RegExp('"',"g");class Em{constructor(e={}){this.options=Object.assign(Object.assign({},_m),e)}doExport({data:e,headers:r,props:n}){let o=this.options.bom?Sm:"";return(r==null?void 0:r.length)>0&&r.forEach(s=>{s.length&&(o+=this.prepareHeader(s,this.options.columnDelimiter),o+=this.options.rowDelimiter)}),e.forEach((s,l)=>{if(l>0&&(o+=this.options.rowDelimiter),at(s)){o+=this.parseCell(H1(s),this.options.columnDelimiter);return}o+=n.map(c=>this.parseCell(s[c],this.options.columnDelimiter)).join(this.options.columnDelimiter)}),o}prepareHeader(e,r){let n="";const o=e.map(s=>this.parseCell(s,r,!0));return n+=o.join(r),n}parseCell(e,r,n=!1){let o=e;typeof e!="string"&&(o=JSON.stringify(e));const s=[ym,$m,bm,r];return typeof o>"u"?"":o!==""&&(n||s.some(l=>o.indexOf(l)>=0))?`"${o.replace(wm,'""')}"`:o}}var Zt;(function(t){t.csv="csv"})(Zt||(Zt={}));class xS extends It{async exportString(e={},r=Zt.csv){const n=await this.beforeexport();return n?this.formatter(r,e).doExport(n):null}async exportBlob(e={},r=Zt.csv){return await this.getBlob(this.formatter(r,e))}async exportFile(e={},r=Zt.csv){const n=this.formatter(r,e),o=window.URL||window.webkitURL,s=document.createElement("a"),{filename:l,fileKind:c}=n.options,f=`${l}.${c}`,i=await this.getBlob(n),a=i?o.createObjectURL(i):"";s.style.display="none",s.setAttribute("href",a),s.setAttribute("download",f),this.revogrid.appendChild(s),s.dispatchEvent(new MouseEvent("click")),this.revogrid.removeChild(s),await c1(120),o.revokeObjectURL(a)}async getBlob(e){const r=`${e.options.mime};charset=${e.options.encoding}`;if(typeof Blob<"u"){const n=await this.beforeexport();return n?new Blob([e.doExport(n)],{type:r}):null}return null}async beforeexport(){let e=await this.getData();const r=this.emit("beforeexport",{data:e});return r.defaultPrevented?null:r.detail.data}async getData(){const e=await this.getSource(),r=[],n=[];Mt.forEach((s,l)=>{n.push(this.getColPerSource(s).then(c=>r[l]=c))}),await Promise.all(n);const o={headers:[],props:[]};for(let s of r)s.headers.forEach((l,c)=>{o.headers[c]||(o.headers[c]=[]),o.headers[c].push(...l)}),o.props.push(...s.props);return Object.assign({data:e},o)}async getColPerSource(e){const r=await this.revogrid.getColumnStore(e),n=r.get("source"),o=r.get("items"),s=r.get("groupingDepth"),l=r.get("groups"),c=[],f=[];o.forEach(a=>{const u=n[a].prop;c.push(n[a].name||""),f.push(u)});const i=this.getGroupHeaders(s,l,o);return i.push(c),{headers:i,props:f}}getGroupHeaders(e,r,n){const o=[],s=mm(new Array(n.length),"");for(let l=0;l<e;l++){const c=[...s];if(o.push(c),!r[l])continue;r[l].forEach(i=>{const a=i.indexes[0];typeof a=="number"&&(c[a]=i.name)})}return o}async getSource(){const e=[],r=[];return xs.forEach(n=>{const o=[];e.push(o);const s=this.revogrid.getVisibleSource(n).then(l=>o.push(...l));r.push(s)}),await Promise.all(r),e.reduce((n,o)=>(n.push(...o),n),[])}formatter(e,r={}){switch(e){case Zt.csv:return new Em(r);default:throw new Error("Unknown format")}}}const ee=(t,e)=>{if(typeof t>"u"||t===null&&!e)return!0;typeof t!="string"&&(t=JSON.stringify(t));const r=e==null?void 0:e.toString().toLocaleLowerCase();return(r==null?void 0:r.length)===0?!0:t.toLocaleLowerCase()===r},Qi=(t,e)=>!ee(t,e);Qi.extra="input";ee.extra="input";const As=function(t,e){let r;return typeof t=="number"&&typeof e<"u"&&e!==null?(r=parseFloat(e==null?void 0:e.toString()),t>r):!1};As.extra="input";const sd=function(t,e){return ee(t,e)||As(t,e)};sd.extra="input";const Ds=function(t,e){let r;return typeof t=="number"&&typeof e<"u"&&e!==null?(r=parseFloat(e.toString()),t<r):!1};Ds.extra="input";const ad=function(t,e){return ee(t,e)||Ds(t,e)};ad.extra="input";const ud=t=>!(t===""||t===null||t===void 0),xm=t=>!ud(t),ld=(t,e)=>t?e?(typeof t!="string"&&(t=JSON.stringify(t)),typeof e!="string"&&(e=JSON.stringify(e)),t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())===0):!0:!1;ld.extra="input";const Rs=(t,e)=>e?t?e?(typeof t!="string"&&(t=JSON.stringify(t)),t.toLocaleLowerCase().indexOf(e.toString().toLowerCase())>-1):!0:!1:!0,cd=(t,e)=>!Rs(t,e);cd.extra="input";Rs.extra="input";const Tm={none:()=>!0,empty:xm,notEmpty:ud,eq:ee,notEq:Qi,begins:ld,contains:Rs,notContains:cd,eqN:ee,neqN:Qi,gt:As,gte:sd,lt:Ds,lte:ad},Om={string:["notEmpty","empty","eq","notEq","begins","contains","notContains"],number:["notEmpty","empty","eqN","neqN","gt","gte","lt","lte"]},Cm={none:"None",empty:"Not set",notEmpty:"Set",eq:"Equal",notEq:"Not equal",begins:"Begins with",contains:"Contains",notContains:"Does not contain",eqN:"=",neqN:"!=",gt:">",gte:">=",lt:"<",lte:"<="},fd="filter",Im="filterconfigchanged",Am="revogr-filter-panel";class TS extends It{constructor(e,r,n){var o;super(e,r),this.revogrid=e,this.config=n,this.filterCollection={},this.multiFilterItems={},this.filterByType=Object.assign({},Om),this.filterNameIndexByType=Object.assign({},Cm),this.filterFunctionsIndexedByType=Object.assign({},Tm),this.filterProp=rd,n&&this.initConfig(n);const s=this.revogrid.registerVNode.filter(c=>typeof c=="object"&&c.$tag$!==Am);this.revogrid.registerVNode=[...s,U("revogr-filter-panel",{filterNames:this.filterNameIndexByType,filterEntities:this.filterFunctionsIndexedByType,filterCaptions:(o=n==null?void 0:n.localization)===null||o===void 0?void 0:o.captions,onFilterChange:c=>this.onFilterChange(c.detail),onResetChange:c=>this.onFilterReset(c.detail),disableDynamicFiltering:n==null?void 0:n.disableDynamicFiltering,closeOnOutsideClick:n==null?void 0:n.closeFilterPanelOnOutsideClick,ref:c=>this.pop=c}," ",this.extraContent())];const l=async()=>{const c=Object.keys(this.filterCollection);c.length>0&&c.forEach((f,i)=>{this.multiFilterItems[f]||(this.multiFilterItems[f]=[{id:i,type:this.filterCollection[f].type,value:this.filterCollection[f].value,relation:"and"}])}),Object.keys(this.multiFilterItems).length!==0&&await this.runFiltering(this.multiFilterItems)};this.addEventListener("headerclick",c=>this.headerclick(c)),this.addEventListener(Im,({detail:c})=>{if(!c||typeof c=="object"&&(!c.multiFilterItems||!Object.keys(c.multiFilterItems).length)){this.clearFiltering();return}typeof c=="object"&&this.initConfig(c),l()}),this.addEventListener("aftersourceset",l),this.addEventListener("filter",({detail:c})=>this.onFilterChange(c))}beforeshow(e){}extraContent(){return null}initConfig(e){if(e.multiFilterItems?this.multiFilterItems=Object.assign({},e.multiFilterItems):this.multiFilterItems={},e.customFilters)for(let n in e.customFilters){const o=e.customFilters[n];this.filterByType[o.columnFilterType]||(this.filterByType[o.columnFilterType]=[]),this.filterByType[o.columnFilterType].push(n),this.filterFunctionsIndexedByType[n]=o.func,this.filterNameIndexByType[n]=o.name}e.filterProp&&(this.filterProp=e.filterProp);const r=e.include;if(r){const n={};for(let o in this.filterByType){const s=this.filterByType[o].filter(l=>r.indexOf(l)>-1);s.length&&(n[o]=s)}Object.keys(n).length>0&&(this.filterByType=n)}if(e.collection){const n=Object.entries(e.collection).filter(([,o])=>this.filterFunctionsIndexedByType[o.type]);this.filterCollection=Object.fromEntries(n)}else this.filterCollection={};e.localization&&e.localization.filterNames&&Object.entries(e.localization.filterNames).forEach(([n,o])=>{this.filterNameIndexByType[n]!=null&&(this.filterNameIndexByType[n]=o)})}async headerclick(e){var r,n;const o=(r=e.detail.originalEvent)===null||r===void 0?void 0:r.target;if(!om(o)||(e.preventDefault(),!this.pop))return;const s=this.revogrid.getBoundingClientRect(),l=o.getBoundingClientRect(),c=e.detail.prop,f=Object.assign(Object.assign(Object.assign({},e.detail),this.filterCollection[c]),{x:l.x-s.x,y:l.y-s.y+l.height,autoCorrect:!0,filterTypes:this.getColumnFilter(e.detail.filter),filterItems:this.multiFilterItems,extraContent:this.extraHyperContent});(n=this.beforeshow)===null||n===void 0||n.call(this,f),this.pop.show(f)}getColumnFilter(e){let r="string";if(!e)return{[r]:this.filterByType[r]};if(this.isValidType(e))r=e;else if(typeof e=="object"&&e.length)return e.reduce((n,o)=>(this.isValidType(o)&&(n[o]=this.filterByType[o]),n),{});return{[r]:this.filterByType[r]}}isValidType(e){return!!(typeof e=="string"&&this.filterByType[e])}async onFilterChange(e){this.multiFilterItems=e,this.runFiltering(this.multiFilterItems)}onFilterReset(e){delete this.multiFilterItems[e??""],this.onFilterChange(this.multiFilterItems)}async doFiltering(e,r,n,o){const s=[],l={};n.forEach(a=>{const u=Object.assign({},a),d=o[u.prop];l[u.prop]=u,u[this.filterProp]&&!d&&(delete u[this.filterProp],s.push(u)),!u[this.filterProp]&&d&&(s.push(u),u[this.filterProp]=!0)});const c=this.getRowFilter(r,o,l),{defaultPrevented:f,detail:i}=this.emit("beforefiltertrimmed",{collection:e,itemsToFilter:c,source:r,filterItems:o});f||(this.providers.data.setTrimmed({[fd]:i.itemsToFilter}),this.providers.column.updateColumns(s),this.emit("afterfilterapply",{multiFilterItems:o,source:r,collection:e}))}async clearFiltering(){this.multiFilterItems={},await this.runFiltering(this.multiFilterItems)}async runFiltering(e){const r={},n=Object.keys(e);for(const f of n)if(e[f].length>0){const i=e[f][0];r[f]={type:i.type,value:i.value}}this.filterCollection=r;const o=this.providers.column.getColumns(),s=this.providers.data.stores.rgRow.store.get("source"),{defaultPrevented:l,detail:c}=this.emit("beforefilterapply",{collection:this.filterCollection,source:s,columns:o,filterItems:this.multiFilterItems});l||this.doFiltering(c.collection,c.source,c.columns,c.filterItems)}getRowFilter(e,r,n){const o=Object.keys(r),s={};for(let l=0;l<e.length;l++)for(const c of o)this.shouldTrimRow(r[c],c,n[c],e[l])&&(s[l]=!0);return s}shouldTrimRow(e,r,n,o={}){let s=0,l=[];for(const[c,f]of e.entries()){const i=this.filterFunctionsIndexedByType[f.type],a=n?A1(o,n):o[r];if(f.relation==="or"){if(l=[],i(a,f.value))continue;s++}else if(l.push(!i(a,f.value)),Dm(c,e)){if(Rm(l)){l=[];continue}s+=l.length,l=[]}}return s===e.length}}function Dm(t,e){const r=e[t+1];return!r||!!r.relation&&r.relation!=="and"}function Rm(t){return!t.includes(!0)}var Pm="[object String]";function Lm(t){return typeof t=="string"||!X(t)&&zt(t)&&Nt(t)==Pm}var Mm=Nf("length"),jm="\\ud800-\\udfff",zm="\\u0300-\\u036f",km="\\ufe20-\\ufe2f",Fm="\\u20d0-\\u20ff",Nm=zm+km+Fm,Hm="\\ufe0e\\ufe0f",Bm="\\u200d",Um=RegExp("["+Bm+jm+Nm+Hm+"]");function qm(t){return Um.test(t)}var dd="\\ud800-\\udfff",Gm="\\u0300-\\u036f",Wm="\\ufe20-\\ufe2f",Ym="\\u20d0-\\u20ff",Xm=Gm+Wm+Ym,Km="\\ufe0e\\ufe0f",Vm="["+dd+"]",ts="["+Xm+"]",es="\\ud83c[\\udffb-\\udfff]",Zm="(?:"+ts+"|"+es+")",hd="[^"+dd+"]",pd="(?:\\ud83c[\\udde6-\\uddff]){2}",gd="[\\ud800-\\udbff][\\udc00-\\udfff]",Jm="\\u200d",vd=Zm+"?",md="["+Km+"]?",Qm="(?:"+Jm+"(?:"+[hd,pd,gd].join("|")+")"+md+vd+")*",t_=md+vd+Qm,e_="(?:"+[hd+ts+"?",ts,pd,gd,Vm].join("|")+")",Ba=RegExp(es+"(?="+es+")|"+e_+t_,"g");function n_(t){for(var e=Ba.lastIndex=0;Ba.test(t);)++e;return e}function r_(t){return qm(t)?n_(t):Mm(t)}var o_="[object Map]",i_="[object Set]";function s_(t){if(t==null)return 0;if($n(t))return Lm(t)?r_(t):t.length;var e=_t(t);return e==o_||e==i_?t.size:Lf(t).length}function a_(t,e,r={}){return Object.entries(r).length===0?[...Array(t.length).keys()]:t.sort((n,o)=>{const s=e[n],l=e[o];for(const[c,f]of Object.entries(r)){if(at(s)&&s["__rvgr-prop"]!==c||at(l)&&l["__rvgr-prop"]!==c)return 0;const i=f==null?void 0:f(c,s,l);if(i)return i}return 0})}function Kn(t,e,r){const n=this.column?cn(e,this.column):e==null?void 0:e[t],o=this.column?cn(r,this.column):r==null?void 0:r[t],s=n==null?void 0:n.toString().toLowerCase(),l=o==null?void 0:o.toString().toLowerCase();return s===l?0:s>l?1:-1}function u_(t){return(e,r,n)=>-1*t(e,r,n)}function l_(t){switch(t){case void 0:return"asc";case"asc":return"desc";case"desc":return}}function Vn(t,e){var r;const n=((r=t==null?void 0:t.cellCompare)===null||r===void 0?void 0:r.bind({order:e}))||(Kn==null?void 0:Kn.bind({column:t,order:e}));if(e=="asc")return n;if(e=="desc")return u_(n)}class c_ extends It{constructor(e,r,n){super(e,r),this.revogrid=e,this.sortingPromise=null,this.postponeSort=Tf((s,l,c)=>this.runSorting(s,l,c),50);const o=s=>{var l;if(s){const c={},f={};(l=s.columns)===null||l===void 0||l.forEach(i=>{c[i.prop]=Vn(i,i.order),f[i.prop]=i.order}),s.additive?(this.sorting=Object.assign(Object.assign({},this.sorting),f),this.sortingFunc=Object.assign(Object.assign({},this.sortingFunc),c)):(this.sorting=f,this.sortingFunc=c)}};o(n),this.addEventListener("sortingconfigchanged",({detail:s})=>{n=s,o(s),this.startSorting(this.sorting,this.sortingFunc)}),this.addEventListener("beforeheaderrender",({detail:s})=>{var l;const{data:c}=s;c.sortable&&(s.data=Object.assign(Object.assign({},c),{order:(l=this.sorting)===null||l===void 0?void 0:l[c.prop]}))}),this.addEventListener("beforeanysource",({detail:{type:s}})=>{if(this.sorting&&this.sortingFunc){if(this.emit("beforesourcesortingapply",{type:s,sorting:this.sorting}).defaultPrevented)return;this.startSorting(this.sorting,this.sortingFunc)}}),this.addEventListener("aftercolumnsset",({detail:{order:s}})=>{if(n)return;const l=this.providers.column.getColumns(),c={};for(let f in s){const i=Vn(L1(l,f),s[f]);c[f]=i}this.sorting=s,this.sortingFunc=s&&c}),this.addEventListener("beforeheaderclick",s=>{var l,c,f,i;s.defaultPrevented||!((c=(l=s.detail)===null||l===void 0?void 0:l.column)===null||c===void 0)&&c.sortable&&this.headerclick(s.detail.column,(i=(f=s.detail)===null||f===void 0?void 0:f.originalEvent)===null||i===void 0?void 0:i.shiftKey)})}startSorting(e,r,n){this.sortingPromise||this.revogrid.jobsBeforeRender.push(new Promise(o=>{this.sortingPromise=o})),this.postponeSort(e,r,n)}headerclick(e,r){var n,o,s;const l=e.prop;let c=l_((n=this.sorting)===null||n===void 0?void 0:n[l]);const f=this.emit("beforesorting",{column:e,order:c,additive:r});if(f.defaultPrevented)return;c=f.detail.order;const i=this.emit("beforesortingapply",{column:f.detail.column,order:c,additive:r});if(i.defaultPrevented)return;const a=Vn(i.detail.column,i.detail.order);if(i.detail.additive&&this.sorting){const u={},d={};this.sorting=Object.assign(Object.assign({},this.sorting),u),this.sortingFunc=Object.assign(Object.assign({},this.sortingFunc),d),l in u&&s_(u)>1&&c===void 0?(delete u[l],delete d[l]):(u[l]=c,d[l]=a)}else c?(this.sorting={[l]:c},this.sortingFunc={[l]:a}):((o=this.sorting)===null||o===void 0||delete o[l],(s=this.sortingFunc)===null||s===void 0||delete s[l]);this.startSorting(this.sorting,this.sortingFunc)}runSorting(e,r,n){var o;this.sort(e,r,void 0,n),(o=this.sortingPromise)===null||o===void 0||o.call(this),this.sortingPromise=null}sort(e,r,n=xs,o=!1){if(Object.keys(e||{}).length)for(let s of n){const l=this.providers.data.stores[s],c=l.store.get("source"),f=l.store.get("proxyItems"),i=a_([...f],c,r),a=l.store.get("items");l.setData({proxyItems:i,source:[...c]});const u=l.store.get("items");o||this.providers.dimension.updateSizesPositionByNewDataIndexes(s,u,a)}else for(let s of n){const l=this.providers.data.stores[s],c=l.store.get("source"),f=l.store.get("proxyItems"),i=Array.from({length:c.length},(a,u)=>u);this.providers.dimension.updateSizesPositionByNewDataIndexes(s,i,f),l.setData({proxyItems:i,source:[...c]})}Mt.forEach(s=>{this.providers.column.dataSources[s].refresh()}),this.emit("aftersortingapply")}}function f_(t,e){const r=e[t],n=r[dn],o={};let s=t+1;const l=e.length;for(;s<l;){const c=e[s];if(at(c)){const f=c[dn];if(!f.length||!f.startsWith(n+","))break;c[Se]=!1}o[s++]=!0}return r[Se]=!1,{trimmed:o}}function d_(t,e,r){const n=r[t],o=e[n],s=Jf(o[Os]),l={};if(!s)return{trimmed:l};const c=[];o[Se]=!0;let f=n+1;const i=e.length;let a=0;for(;f<i;){const d=e[f],h=at(d);if(h)if(U1(s,o,d))a||(a=d[fn]);else break;(!a||h&&a===d[fn])&&(l[f]=!1,c.push(f)),f++}const u={trimmed:l};if(c.length){const d=[...r];d.splice(t+1,0,...c),u.items=d}return u}const Xe="grouping";function h_(t,e,r){const n={};for(let o in t){if(o===Xe)continue;const s=t[o],l={};for(let c in s){let f=e[c];r&&(f=r[f]),s[c]&&(l[f]=!0,f!==parseInt(c,10)&&(n[o]=l))}}return n}class OS extends It{getStore(e=Yn){return this.providers.data.stores[e].store}constructor(e,r){super(e,r)}onFocus(e){at(e.detail.model)&&e.preventDefault()}onExpand({virtualIndex:e}){const{source:r}=Wt(this.getStore().get("source"),this.getStore().get("proxyItems"));let n=this.getStore().get("trimmed")[Xe],o=f1(this.getStore(),e);if(Kf(r[o])){const{trimmed:l}=f_(o,r);n=Object.assign(Object.assign({},n),l),this.revogrid.clearFocus()}else{const{trimmed:l,items:c}=d_(e,r,this.getStore().get("items"));n=Object.assign(Object.assign({},n),l),c&&p1(this.getStore(),c)}this.getStore().set("source",r),this.revogrid.addTrimmed(n,Xe)}setColumnGrouping(e){return e!=null&&e.length?(e[0][Vi]=!0,!0):!1}setColumns({columns:e}){for(let r of Mt)if(this.setColumnGrouping(e[r]))break}onDrag(e){const{from:r,to:n}=e.detail,o=n-r>=0,{source:s}=Wt(this.getStore().get("source"),this.getStore().get("proxyItems")),l=this.getStore().get("items");let c=o?r:n;const f=o?n:r;for(;c<f;c++){const i=s[l[c]];if(at(i)){e.preventDefault();return}}}beforeTrimmedApply(e,r){if(r===fd){const n=this.getStore().get("source");for(let o in e)e[o]&&at(n[o])&&(e[o]=!1)}}isSortingRunning(){const e=this.providers.plugins.getByClass(c_);return!!(e!=null&&e.sortingPromise)}doSourceUpdate(e){var r;const n=this.getStore(),{source:o,prevExpanded:s,oldNewIndexes:l}=Wt(n.get("source"),n.get("proxyItems"),!0),c=Object.assign({prevExpanded:s},e),{sourceWithGroups:f,depth:i,trimmed:a,oldNewIndexMap:u}=Na(o,((r=this.options)===null||r===void 0?void 0:r.props)||[],c),d=e==null?void 0:e.groupLabelTemplate;this.providers.data.setData(f,Yn,this.revogrid.disableVirtualY,{depth:i,customRenderer:d},!0),this.updateTrimmed(a,l??{},u)}onDataSet(e){var r,n;let o={};if(((r=this.options)===null||r===void 0?void 0:r.preserveGroupingOnUpdate)!==!1){let{prevExpanded:u}=Wt(this.getStore().get("source"),this.getStore().get("proxyItems"),!0);o=u}const s=e.source.filter(u=>!at(u)),l=Object.assign(Object.assign({},this.revogrid.grouping||{}),{prevExpanded:o}),{sourceWithGroups:c,depth:f,trimmed:i,oldNewIndexMap:a}=Na(s,((n=this.options)===null||n===void 0?void 0:n.props)||[],l);e.source=c,this.providers.data.setGrouping({depth:f}),this.updateTrimmed(i,a)}setGrouping(e){var r,n;if(this.clearSubscriptions(),this.options=e,!(!((n=(r=this.options)===null||r===void 0?void 0:r.props)===null||n===void 0)&&n.length)){this.clearGrouping();return}const o=this.getStore(),{source:s}=Wt(o.get("source"),o.get("proxyItems"));s.length&&this.doSourceUpdate(Object.assign({},e));for(let l of Mt)if(this.setColumnGrouping(this.providers.column.getColumns(l))){this.providers.column.refreshByType(l);break}this.addEventListener("beforesourceset",({detail:l})=>{var c,f,i;!((f=(c=this.options)===null||c===void 0?void 0:c.props)===null||f===void 0)&&f.length&&(!((i=l==null?void 0:l.source)===null||i===void 0)&&i.length)&&(this.isSortingRunning()||this.onDataSet(l))}),this.addEventListener("beforecolumnsset",({detail:l})=>{this.setColumns(l)}),this.addEventListener("beforetrimmed",({detail:{trimmed:l,trimmedType:c}})=>this.beforeTrimmedApply(l,c)),this.addEventListener("aftersortingapply",()=>{var l,c;!((c=(l=this.options)===null||l===void 0?void 0:l.props)===null||c===void 0)&&c.length&&this.doSourceUpdate(Object.assign({},this.options))}),this.addEventListener("beforecellfocus",l=>this.onFocus(l)),this.addEventListener("roworderchanged",l=>this.onDrag(l)),this.addEventListener(F1,l=>this.onExpand(l.detail))}clearGrouping(){Mt.forEach(n=>{const o=this.providers.column.getColumns(n);let s=!1;o.forEach(l=>{Zf(l)&&(delete l[Vi],s=!0)}),s&&this.providers.column.refreshByType(n)});const{source:e,oldNewIndexes:r}=Wt(this.getStore().get("source"),this.getStore().get("proxyItems"),!0);this.providers.data.setData(e,Yn,this.revogrid.disableVirtualY,void 0,!0),this.updateTrimmed(void 0,void 0,r)}updateTrimmed(e={},r={},n){const o=h_(this.getStore().get("trimmed"),r,n);for(let s in o)this.revogrid.addTrimmed(o[s],s);this.revogrid.addTrimmed(Object.assign({},e),Xe)}}const Ua="column-drag-start";class p_{constructor(){this.offset=0}renderAutoscroll(e,r){r&&(this.autoscrollEl=document.createElement("div"),this.autoscrollEl.classList.add("drag-auto-scroll-y"),r.appendChild(this.autoscrollEl))}autoscroll(e,r,n="translateX"){if(!this.autoscrollEl)return;const s=Math.min(e+10,r-3);this.autoscrollEl.style.transform=`${n}(${s}px)`,this.autoscrollEl.scrollIntoView({block:"nearest",inline:"nearest"})}start(e,{dataEl:r,gridRect:n,scrollEl:o,gridEl:s},l="left"){s.classList.add(Ua);const c=o.getBoundingClientRect();c&&(this.offset=c[l]-n[l]),this.renderAutoscroll(e,r)}stop(e){var r;e.classList.remove(Ua),this.element&&(this.element.hidden=!0),this.offset=0,(r=this.autoscrollEl)===null||r===void 0||r.remove(),this.autoscrollEl=void 0}showHandler(e,r,n="translateX"){this.element&&(this.offset&&(e=Math.max(e,this.offset)),e=Math.min(e,r),this.element.style.transform=`${n}(${e}px)`,this.element.hidden=!1)}render(){const e=this.element=document.createElement("div");return e.classList.add("drag-position-y"),e.hidden=!0,e}}const g_=od,v_="columndragmousemove",m_="columndragend",__="beforecolumndragend",y_="columndragstart";class CS extends It{constructor(e,r){super(e,r),this.revogrid=e,this.providers=r,this.moveFunc=Tf(n=>this.doMove(n),5),this.staticDragData=null,this.dragData=null,this.localSubscriptions={},this.orderUi=new p_,e.appendChild(this.orderUi.render()),e.classList.add("column-draggable"),this.localSubscriptions.mouseleave={target:document,callback:n=>this.onMouseOut(n)},this.localSubscriptions.mouseup={target:document,callback:n=>this.onMouseUp(n)},this.localSubscriptions.mousemove={target:document,callback:n=>this.move(n)},this.addEventListener(g_,({detail:n})=>this.dragStart(n))}dragStart({event:e,data:r}){if(e.defaultPrevented)return;const{defaultPrevented:n}=le(this.revogrid,y_,r);if(n)return;this.clearOrder();const{mouseleave:o,mouseup:s,mousemove:l}=this.localSubscriptions;o.target.addEventListener("mouseleave",o.callback),s.target.addEventListener("mouseup",s.callback);const c=e.target.closest("revogr-header"),f=e.target.closest("revogr-viewport-scroll");if(!c||!f||Es(r)||r.providers.type==="rowHeaders")return;const i=this.getDimension(r.pin||"rgCol"),a=this.revogrid.getBoundingClientRect(),u=c.getBoundingClientRect(),d=Ye(i,Zn(e.x,a.left,u.left-a.left));this.staticDragData={startPos:e.x,startItem:d,data:r,dataEl:c,scrollEl:f,gridEl:this.revogrid,cols:i},this.dragData=this.getData(this.staticDragData),l.target.addEventListener("mousemove",l.callback),this.orderUi.start(e,Object.assign(Object.assign({},this.dragData),this.staticDragData))}doMove(e){if(!this.staticDragData)return;const r=this.dragData=this.getData(this.staticDragData);if(!r)return;const n=this.staticDragData.startPos;if(Math.abs(n-e.x)>10){const o=Zn(e.x,this.dragData.gridRect.left,this.dragData.scrollOffset),s=Ye(this.staticDragData.cols,o);if(this.orderUi.autoscroll(o,r.elRect.width),s.itemIndex>=this.staticDragData.cols.count)return;this.orderUi.showHandler(s.end+r.scrollOffset,r.gridRect.width)}}move(e){le(this.revogrid,v_,e),this.moveFunc(e)}onMouseOut(e){this.clearOrder()}onMouseUp(e){if(this.dragData&&this.staticDragData){let r=Zn(e.x,this.dragData.gridRect.left,this.dragData.scrollOffset);r<0&&(r=0);const n=Ye(this.staticDragData.cols,r),o=this.providers.column.stores[this.dragData.type].store,s=[...o.get("items")],{defaultPrevented:l}=le(this.revogrid,__,Object.assign(Object.assign({},this.staticDragData),{startPosition:this.staticDragData.startItem,newPosition:n,newItem:o.get("source")[s[this.staticDragData.startItem.itemIndex]]}));if(!l){const c=[...s],f=s.splice(this.staticDragData.startItem.itemIndex,1);s.splice(n.itemIndex,0,...f),o.set("items",s),this.providers.dimension.updateSizesPositionByNewDataIndexes(this.dragData.type,s,c)}le(this.revogrid,m_,this.dragData)}this.clearOrder()}clearLocalSubscriptions(){it(this.localSubscriptions,({target:e,callback:r},n)=>e.removeEventListener(n,r))}clearOrder(){this.staticDragData=null,this.dragData=null,this.clearLocalSubscriptions(),this.orderUi.stop(this.revogrid)}clearSubscriptions(){super.clearSubscriptions(),this.clearLocalSubscriptions()}getData({gridEl:e,dataEl:r,data:n}){const o=e.getBoundingClientRect(),s=r.getBoundingClientRect(),l=s.left-o.left;return{elRect:s,gridRect:o,type:n.pin||"rgCol",scrollOffset:l}}getDimension(e){return this.providers.dimension.stores[e].getCurrentState()}}function Zn(t,e,r){return t-e-r}const Jn="routerLink",qa="navManager",b_="router",$_="aria",ce=Symbol(),Ga={default:ce},Wa=t=>(t==null?void 0:t.split(" "))||[],S_=(t,e,r=[])=>{var n;return[...Array.from(((n=t.value)==null?void 0:n.classList)||[]),...r].filter((o,s,l)=>!e.has(o)&&l.indexOf(o)===s)},w_=(t,e,r=[],n,o)=>{const s=Qc((l,{attrs:c,slots:f,emit:i})=>{var a;l[n];const u=Lt(),d=new Set(Wa(c.class)),h=ph(),p=(a=h==null?void 0:h.appContext)!=null&&a.provides[qa]?dh(qa):void 0,g=v=>{const{routerLink:_}=l;if(_!==ce)if(p!==void 0){v.preventDefault();let m={event:v};for(const y in l){const b=l[y];l.hasOwnProperty(y)&&y.startsWith(b_)&&b!==ce&&(m[y]=b)}p.navigate(m)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")};return()=>{l[n],Wa(c.class).forEach(y=>{d.add(y)});const v=l.onClick,_=y=>{v!==void 0&&v(y),y.defaultPrevented||g(y)};let m={ref:u,class:S_(u,d),onClick:_};for(const y in l){const b=l[y];(l.hasOwnProperty(y)&&b!==ce||y.startsWith($_))&&(m[y]=b)}return l[Jn]!==ce&&(m={...m,href:l[Jn]}),hh(t,m,f.default&&f.default())}});return typeof s!="function"&&(s.name=t,s.props={[Jn]:Ga},r.forEach(l=>{s.props[l]=Ga})),s},E_=w_("revo-grid",void 0,["rowHeaders","frameSize","rowSize","colSize","range","readonly","resize","canFocus","useClipboard","columns","source","pinnedTopSource","pinnedBottomSource","rowDefinitions","editors","applyOnClose","plugins","columnTypes","theme","rowClass","autoSizeColumn","filter","sorting","focusTemplate","canMoveColumns","trimmedRows","exporting","grouping","stretch","additionalData","disableVirtualX","disableVirtualY","hideAttribution","jobsBeforeRender","registerVNode","accessible","canDrag","contentsizechanged","beforeedit","beforerangeedit","afteredit","beforeautofill","beforerange","afterfocus","roworderchanged","beforesorting","beforesourcesortingapply","beforesortingapply","rowdragstart","headerclick","beforecellfocus","beforefocuslost","beforesourceset","beforeanysource","aftersourceset","afteranysource","beforecolumnsset","beforecolumnapplied","aftercolumnsset","beforefilterapply","beforefiltertrimmed","beforetrimmed","aftertrimmed","viewportscroll","beforeexport","beforeeditstart","aftercolumnresize","beforerowdefinition","filterconfigchanged","sortingconfigchanged","rowheaderschanged","beforegridrender","aftergridrender","aftergridinit","additionaldatachanged","afterthemechanged","created"]);function x_(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}var Ya;const Xa=(Ya=Ep)==null?void 0:Ya(),T_=fh(async()=>(x_(Xa)&&await Xa,E_));var O_=Object.defineProperty,C_=(t,e,r)=>e in t?O_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fe=(t,e,r)=>C_(t,typeof e!="symbol"?e+"":e,r),Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qn,Ka;function A_(){if(Ka)return Qn;Ka=1;var t=Math.max,e=Math.min;function r(n,o,s){return n>=e(o,s)&&n<t(o,s)}return Qn=r,Qn}var tr,Va;function D_(){if(Va)return tr;Va=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return tr=e,tr}var er,Za;function R_(){if(Za)return er;Za=1;var t=D_(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return er=r,er}var nr,Ja;function Oe(){if(Ja)return nr;Ja=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return nr=t,nr}var rr,Qa;function _d(){if(Qa)return rr;Qa=1;var t=typeof Be=="object"&&Be&&Be.Object===Object&&Be;return rr=t,rr}var or,tu;function ft(){if(tu)return or;tu=1;var t=_d(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return or=r,or}var ir,eu;function En(){if(eu)return ir;eu=1;var t=ft(),e=t.Symbol;return ir=e,ir}var sr,nu;function P_(){if(nu)return sr;nu=1;var t=En(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,o=t?t.toStringTag:void 0;function s(l){var c=r.call(l,o),f=l[o];try{l[o]=void 0;var i=!0}catch{}var a=n.call(l);return i&&(c?l[o]=f:delete l[o]),a}return sr=s,sr}var ar,ru;function L_(){if(ru)return ar;ru=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return ar=r,ar}var ur,ou;function Ce(){if(ou)return ur;ou=1;var t=En(),e=P_(),r=L_(),n="[object Null]",o="[object Undefined]",s=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?o:n:s&&s in Object(c)?e(c):r(c)}return ur=l,ur}var lr,iu;function Ie(){if(iu)return lr;iu=1;function t(e){return e!=null&&typeof e=="object"}return lr=t,lr}var cr,su;function Ae(){if(su)return cr;su=1;var t=Ce(),e=Ie(),r="[object Symbol]";function n(o){return typeof o=="symbol"||e(o)&&t(o)==r}return cr=n,cr}var fr,au;function Ps(){if(au)return fr;au=1;var t=R_(),e=Oe(),r=Ae(),n=NaN,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function f(i){if(typeof i=="number")return i;if(r(i))return n;if(e(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=e(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=t(i);var u=s.test(i);return u||l.test(i)?c(i.slice(2),u?2:8):o.test(i)?n:+i}return fr=f,fr}var dr,uu;function M_(){if(uu)return dr;uu=1;var t=Ps(),e=1/0,r=17976931348623157e292;function n(o){if(!o)return o===0?o:0;if(o=t(o),o===e||o===-1/0){var s=o<0?-1:1;return s*r}return o===o?o:0}return dr=n,dr}var hr,lu;function j_(){if(lu)return hr;lu=1;var t=A_(),e=M_(),r=Ps();function n(o,s,l){return s=e(s),l===void 0?(l=s,s=0):l=e(l),o=r(o),t(o,s,l)}return hr=n,hr}j_();const z_="beforekeydown",k_="additionaldatachanged",F_="gridedit",cu="flashcell",N_="beforeundo",H_="beforeredo";class B_ extends It{constructor(...e){super(...e),fe(this,"attributeObservers",new Map)}observeAttribute(e,r){const n=e.replace(/-([a-z])/g,o=>o[1].toUpperCase());if(!this.attributeObservers.has(e)){const o=new MutationObserver(s=>{s.forEach(l=>{l.type==="attributes"&&(l.attributeName===e||l.attributeName===n)&&r(this.revogrid.getAttribute(e)||this.revogrid.getAttribute(n))})});o.observe(this.revogrid,{attributes:!0,attributeFilter:[e,n]}),this.attributeObservers.set(e,o)}}unobserveAttribute(e){const r=this.attributeObservers.get(e);r&&(r.disconnect(),this.attributeObservers.delete(e))}setColumnTrimmed(e,r){const n=this.providers.column.dataSources[r];n.addTrimmed(e),this.providers.dimension.setTrimmed(e,r),r==="rgCol"&&this.providers.dimension.setData(Uf(n.store).length,r)}destroy(){this.attributeObservers.forEach(e=>e.disconnect()),this.attributeObservers.clear(),super.destroy()}}var pr,fu;function U_(){if(fu)return pr;fu=1;function t(e,r){for(var n=-1,o=e==null?0:e.length;++n<o&&r(e[n],n,e)!==!1;);return e}return pr=t,pr}var gr,du;function q_(){if(du)return gr;du=1;function t(e){return function(r,n,o){for(var s=-1,l=Object(r),c=o(r),f=c.length;f--;){var i=c[e?f:++s];if(n(l[i],i,l)===!1)break}return r}}return gr=t,gr}var vr,hu;function G_(){if(hu)return vr;hu=1;var t=q_(),e=t();return vr=e,vr}var mr,pu;function W_(){if(pu)return mr;pu=1;function t(e,r){for(var n=-1,o=Array(e);++n<e;)o[n]=r(n);return o}return mr=t,mr}var _r,gu;function Y_(){if(gu)return _r;gu=1;var t=Ce(),e=Ie(),r="[object Arguments]";function n(o){return e(o)&&t(o)==r}return _r=n,_r}var yr,vu;function yd(){if(vu)return yr;vu=1;var t=Y_(),e=Ie(),r=Object.prototype,n=r.hasOwnProperty,o=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(l){return e(l)&&n.call(l,"callee")&&!o.call(l,"callee")};return yr=s,yr}var br,mu;function dt(){if(mu)return br;mu=1;var t=Array.isArray;return br=t,br}var Ke={exports:{}},$r,_u;function X_(){if(_u)return $r;_u=1;function t(){return!1}return $r=t,$r}Ke.exports;var yu;function bd(){return yu||(yu=1,function(t,e){var r=ft(),n=X_(),o=e&&!e.nodeType&&e,s=o&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===o,c=l?r.Buffer:void 0,f=c?c.isBuffer:void 0,i=f||n;t.exports=i}(Ke,Ke.exports)),Ke.exports}var Sr,bu;function $d(){if(bu)return Sr;bu=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,o){var s=typeof n;return o=o??t,!!o&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<o}return Sr=r,Sr}var wr,$u;function Ls(){if($u)return wr;$u=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return wr=e,wr}var Er,Su;function K_(){if(Su)return Er;Su=1;var t=Ce(),e=Ls(),r=Ie(),n="[object Arguments]",o="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",i="[object Map]",a="[object Number]",u="[object Object]",d="[object RegExp]",h="[object Set]",p="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",_="[object DataView]",m="[object Float32Array]",y="[object Float64Array]",b="[object Int8Array]",$="[object Int16Array]",S="[object Int32Array]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",x="[object Uint16Array]",O="[object Uint32Array]",C={};C[m]=C[y]=C[b]=C[$]=C[S]=C[w]=C[E]=C[x]=C[O]=!0,C[n]=C[o]=C[v]=C[s]=C[_]=C[l]=C[c]=C[f]=C[i]=C[a]=C[u]=C[d]=C[h]=C[p]=C[g]=!1;function R(I){return r(I)&&e(I.length)&&!!C[t(I)]}return Er=R,Er}var xr,wu;function V_(){if(wu)return xr;wu=1;function t(e){return function(r){return e(r)}}return xr=t,xr}var Ve={exports:{}};Ve.exports;var Eu;function Z_(){return Eu||(Eu=1,function(t,e){var r=_d(),n=e&&!e.nodeType&&e,o=n&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===n,l=s&&r.process,c=function(){try{var f=o&&o.require&&o.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}}();t.exports=c}(Ve,Ve.exports)),Ve.exports}var Tr,xu;function Sd(){if(xu)return Tr;xu=1;var t=K_(),e=V_(),r=Z_(),n=r&&r.isTypedArray,o=n?e(n):t;return Tr=o,Tr}var Or,Tu;function J_(){if(Tu)return Or;Tu=1;var t=W_(),e=yd(),r=dt(),n=bd(),o=$d(),s=Sd(),l=Object.prototype,c=l.hasOwnProperty;function f(i,a){var u=r(i),d=!u&&e(i),h=!u&&!d&&n(i),p=!u&&!d&&!h&&s(i),g=u||d||h||p,v=g?t(i.length,String):[],_=v.length;for(var m in i)(a||c.call(i,m))&&!(g&&(m=="length"||h&&(m=="offset"||m=="parent")||p&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||o(m,_)))&&v.push(m);return v}return Or=f,Or}var Cr,Ou;function Q_(){if(Ou)return Cr;Ou=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,o=typeof n=="function"&&n.prototype||t;return r===o}return Cr=e,Cr}var Ir,Cu;function ty(){if(Cu)return Ir;Cu=1;function t(e,r){return function(n){return e(r(n))}}return Ir=t,Ir}var Ar,Iu;function ey(){if(Iu)return Ar;Iu=1;var t=ty(),e=t(Object.keys,Object);return Ar=e,Ar}var Dr,Au;function ny(){if(Au)return Dr;Au=1;var t=Q_(),e=ey(),r=Object.prototype,n=r.hasOwnProperty;function o(s){if(!t(s))return e(s);var l=[];for(var c in Object(s))n.call(s,c)&&c!="constructor"&&l.push(c);return l}return Dr=o,Dr}var Rr,Du;function wd(){if(Du)return Rr;Du=1;var t=Ce(),e=Oe(),r="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",s="[object Proxy]";function l(c){if(!e(c))return!1;var f=t(c);return f==n||f==o||f==r||f==s}return Rr=l,Rr}var Pr,Ru;function Ed(){if(Ru)return Pr;Ru=1;var t=wd(),e=Ls();function r(n){return n!=null&&e(n.length)&&!t(n)}return Pr=r,Pr}var Lr,Pu;function Ms(){if(Pu)return Lr;Pu=1;var t=J_(),e=ny(),r=Ed();function n(o){return r(o)?t(o):e(o)}return Lr=n,Lr}var Mr,Lu;function ry(){if(Lu)return Mr;Lu=1;var t=G_(),e=Ms();function r(n,o){return n&&t(n,o,e)}return Mr=r,Mr}var jr,Mu;function oy(){if(Mu)return jr;Mu=1;var t=Ed();function e(r,n){return function(o,s){if(o==null)return o;if(!t(o))return r(o,s);for(var l=o.length,c=n?l:-1,f=Object(o);(n?c--:++c<l)&&s(f[c],c,f)!==!1;);return o}}return jr=e,jr}var zr,ju;function xd(){if(ju)return zr;ju=1;var t=ry(),e=oy(),r=e(t);return zr=r,zr}var kr,zu;function js(){if(zu)return kr;zu=1;function t(e){return e}return kr=t,kr}var Fr,ku;function iy(){if(ku)return Fr;ku=1;var t=js();function e(r){return typeof r=="function"?r:t}return Fr=e,Fr}var Nr,Fu;function sy(){if(Fu)return Nr;Fu=1;var t=U_(),e=xd(),r=iy(),n=dt();function o(s,l){var c=n(s)?t:e;return c(s,r(l))}return Nr=o,Nr}var Nu,Hu;function ay(){return Hu||(Hu=1,Nu=sy()),Nu}ay();var Hr,Bu;function uy(){if(Bu)return Hr;Bu=1;function t(e,r,n,o){var s=-1,l=e==null?0:e.length;for(o&&l&&(n=e[++s]);++s<l;)n=r(n,e[s],s,e);return n}return Hr=t,Hr}var Br,Uu;function ly(){if(Uu)return Br;Uu=1;function t(){this.__data__=[],this.size=0}return Br=t,Br}var Ur,qu;function Td(){if(qu)return Ur;qu=1;function t(e,r){return e===r||e!==e&&r!==r}return Ur=t,Ur}var qr,Gu;function xn(){if(Gu)return qr;Gu=1;var t=Td();function e(r,n){for(var o=r.length;o--;)if(t(r[o][0],n))return o;return-1}return qr=e,qr}var Gr,Wu;function cy(){if(Wu)return Gr;Wu=1;var t=xn(),e=Array.prototype,r=e.splice;function n(o){var s=this.__data__,l=t(s,o);if(l<0)return!1;var c=s.length-1;return l==c?s.pop():r.call(s,l,1),--this.size,!0}return Gr=n,Gr}var Wr,Yu;function fy(){if(Yu)return Wr;Yu=1;var t=xn();function e(r){var n=this.__data__,o=t(n,r);return o<0?void 0:n[o][1]}return Wr=e,Wr}var Yr,Xu;function dy(){if(Xu)return Yr;Xu=1;var t=xn();function e(r){return t(this.__data__,r)>-1}return Yr=e,Yr}var Xr,Ku;function hy(){if(Ku)return Xr;Ku=1;var t=xn();function e(r,n){var o=this.__data__,s=t(o,r);return s<0?(++this.size,o.push([r,n])):o[s][1]=n,this}return Xr=e,Xr}var Kr,Vu;function Tn(){if(Vu)return Kr;Vu=1;var t=ly(),e=cy(),r=fy(),n=dy(),o=hy();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var i=l[c];this.set(i[0],i[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=o,Kr=s,Kr}var Vr,Zu;function py(){if(Zu)return Vr;Zu=1;var t=Tn();function e(){this.__data__=new t,this.size=0}return Vr=e,Vr}var Zr,Ju;function gy(){if(Ju)return Zr;Ju=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Zr=t,Zr}var Jr,Qu;function vy(){if(Qu)return Jr;Qu=1;function t(e){return this.__data__.get(e)}return Jr=t,Jr}var Qr,tl;function my(){if(tl)return Qr;tl=1;function t(e){return this.__data__.has(e)}return Qr=t,Qr}var to,el;function _y(){if(el)return to;el=1;var t=ft(),e=t["__core-js_shared__"];return to=e,to}var eo,nl;function yy(){if(nl)return eo;nl=1;var t=_y(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return eo=r,eo}var no,rl;function Od(){if(rl)return no;rl=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return no=r,no}var ro,ol;function by(){if(ol)return ro;ol=1;var t=wd(),e=yy(),r=Oe(),n=Od(),o=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,f=l.toString,i=c.hasOwnProperty,a=RegExp("^"+f.call(i).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(d){if(!r(d)||e(d))return!1;var h=t(d)?a:s;return h.test(n(d))}return ro=u,ro}var oo,il;function $y(){if(il)return oo;il=1;function t(e,r){return e==null?void 0:e[r]}return oo=t,oo}var io,sl;function ie(){if(sl)return io;sl=1;var t=by(),e=$y();function r(n,o){var s=e(n,o);return t(s)?s:void 0}return io=r,io}var so,al;function zs(){if(al)return so;al=1;var t=ie(),e=ft(),r=t(e,"Map");return so=r,so}var ao,ul;function On(){if(ul)return ao;ul=1;var t=ie(),e=t(Object,"create");return ao=e,ao}var uo,ll;function Sy(){if(ll)return uo;ll=1;var t=On();function e(){this.__data__=t?t(null):{},this.size=0}return uo=e,uo}var lo,cl;function wy(){if(cl)return lo;cl=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return lo=t,lo}var co,fl;function Ey(){if(fl)return co;fl=1;var t=On(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function o(s){var l=this.__data__;if(t){var c=l[s];return c===e?void 0:c}return n.call(l,s)?l[s]:void 0}return co=o,co}var fo,dl;function xy(){if(dl)return fo;dl=1;var t=On(),e=Object.prototype,r=e.hasOwnProperty;function n(o){var s=this.__data__;return t?s[o]!==void 0:r.call(s,o)}return fo=n,fo}var ho,hl;function Ty(){if(hl)return ho;hl=1;var t=On(),e="__lodash_hash_undefined__";function r(n,o){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&o===void 0?e:o,this}return ho=r,ho}var po,pl;function Oy(){if(pl)return po;pl=1;var t=Sy(),e=wy(),r=Ey(),n=xy(),o=Ty();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var i=l[c];this.set(i[0],i[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=o,po=s,po}var go,gl;function Cy(){if(gl)return go;gl=1;var t=Oy(),e=Tn(),r=zs();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return go=n,go}var vo,vl;function Iy(){if(vl)return vo;vl=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return vo=t,vo}var mo,ml;function Cn(){if(ml)return mo;ml=1;var t=Iy();function e(r,n){var o=r.__data__;return t(n)?o[typeof n=="string"?"string":"hash"]:o.map}return mo=e,mo}var _o,_l;function Ay(){if(_l)return _o;_l=1;var t=Cn();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return _o=e,_o}var yo,yl;function Dy(){if(yl)return yo;yl=1;var t=Cn();function e(r){return t(this,r).get(r)}return yo=e,yo}var bo,bl;function Ry(){if(bl)return bo;bl=1;var t=Cn();function e(r){return t(this,r).has(r)}return bo=e,bo}var $o,$l;function Py(){if($l)return $o;$l=1;var t=Cn();function e(r,n){var o=t(this,r),s=o.size;return o.set(r,n),this.size+=o.size==s?0:1,this}return $o=e,$o}var So,Sl;function ks(){if(Sl)return So;Sl=1;var t=Cy(),e=Ay(),r=Dy(),n=Ry(),o=Py();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var i=l[c];this.set(i[0],i[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=o,So=s,So}var wo,wl;function Ly(){if(wl)return wo;wl=1;var t=Tn(),e=zs(),r=ks(),n=200;function o(s,l){var c=this.__data__;if(c instanceof t){var f=c.__data__;if(!e||f.length<n-1)return f.push([s,l]),this.size=++c.size,this;c=this.__data__=new r(f)}return c.set(s,l),this.size=c.size,this}return wo=o,wo}var Eo,El;function Cd(){if(El)return Eo;El=1;var t=Tn(),e=py(),r=gy(),n=vy(),o=my(),s=Ly();function l(c){var f=this.__data__=new t(c);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=o,l.prototype.set=s,Eo=l,Eo}var xo,xl;function My(){if(xl)return xo;xl=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return xo=e,xo}var To,Tl;function jy(){if(Tl)return To;Tl=1;function t(e){return this.__data__.has(e)}return To=t,To}var Oo,Ol;function zy(){if(Ol)return Oo;Ol=1;var t=ks(),e=My(),r=jy();function n(o){var s=-1,l=o==null?0:o.length;for(this.__data__=new t;++s<l;)this.add(o[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Oo=n,Oo}var Co,Cl;function ky(){if(Cl)return Co;Cl=1;function t(e,r){for(var n=-1,o=e==null?0:e.length;++n<o;)if(r(e[n],n,e))return!0;return!1}return Co=t,Co}var Io,Il;function Fy(){if(Il)return Io;Il=1;function t(e,r){return e.has(r)}return Io=t,Io}var Ao,Al;function Id(){if(Al)return Ao;Al=1;var t=zy(),e=ky(),r=Fy(),n=1,o=2;function s(l,c,f,i,a,u){var d=f&n,h=l.length,p=c.length;if(h!=p&&!(d&&p>h))return!1;var g=u.get(l),v=u.get(c);if(g&&v)return g==c&&v==l;var _=-1,m=!0,y=f&o?new t:void 0;for(u.set(l,c),u.set(c,l);++_<h;){var b=l[_],$=c[_];if(i)var S=d?i($,b,_,c,l,u):i(b,$,_,l,c,u);if(S!==void 0){if(S)continue;m=!1;break}if(y){if(!e(c,function(w,E){if(!r(y,E)&&(b===w||a(b,w,f,i,u)))return y.push(E)})){m=!1;break}}else if(!(b===$||a(b,$,f,i,u))){m=!1;break}}return u.delete(l),u.delete(c),m}return Ao=s,Ao}var Do,Dl;function Ny(){if(Dl)return Do;Dl=1;var t=ft(),e=t.Uint8Array;return Do=e,Do}var Ro,Rl;function Hy(){if(Rl)return Ro;Rl=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(o,s){n[++r]=[s,o]}),n}return Ro=t,Ro}var Po,Pl;function By(){if(Pl)return Po;Pl=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(o){n[++r]=o}),n}return Po=t,Po}var Lo,Ll;function Uy(){if(Ll)return Lo;Ll=1;var t=En(),e=Ny(),r=Td(),n=Id(),o=Hy(),s=By(),l=1,c=2,f="[object Boolean]",i="[object Date]",a="[object Error]",u="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",g="[object String]",v="[object Symbol]",_="[object ArrayBuffer]",m="[object DataView]",y=t?t.prototype:void 0,b=y?y.valueOf:void 0;function $(S,w,E,x,O,C,R){switch(E){case m:if(S.byteLength!=w.byteLength||S.byteOffset!=w.byteOffset)return!1;S=S.buffer,w=w.buffer;case _:return!(S.byteLength!=w.byteLength||!C(new e(S),new e(w)));case f:case i:case d:return r(+S,+w);case a:return S.name==w.name&&S.message==w.message;case h:case g:return S==w+"";case u:var I=o;case p:var F=x&l;if(I||(I=s),S.size!=w.size&&!F)return!1;var G=R.get(S);if(G)return G==w;x|=c,R.set(S,w);var j=n(I(S),I(w),x,O,C,R);return R.delete(S),j;case v:if(b)return b.call(S)==b.call(w)}return!1}return Lo=$,Lo}var Mo,Ml;function qy(){if(Ml)return Mo;Ml=1;function t(e,r){for(var n=-1,o=r.length,s=e.length;++n<o;)e[s+n]=r[n];return e}return Mo=t,Mo}var jo,jl;function Gy(){if(jl)return jo;jl=1;var t=qy(),e=dt();function r(n,o,s){var l=o(n);return e(n)?l:t(l,s(n))}return jo=r,jo}var zo,zl;function Wy(){if(zl)return zo;zl=1;function t(e,r){for(var n=-1,o=e==null?0:e.length,s=0,l=[];++n<o;){var c=e[n];r(c,n,e)&&(l[s++]=c)}return l}return zo=t,zo}var ko,kl;function Yy(){if(kl)return ko;kl=1;function t(){return[]}return ko=t,ko}var Fo,Fl;function Xy(){if(Fl)return Fo;Fl=1;var t=Wy(),e=Yy(),r=Object.prototype,n=r.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(l){return l==null?[]:(l=Object(l),t(o(l),function(c){return n.call(l,c)}))}:e;return Fo=s,Fo}var No,Nl;function Ky(){if(Nl)return No;Nl=1;var t=Gy(),e=Xy(),r=Ms();function n(o){return t(o,r,e)}return No=n,No}var Ho,Hl;function Vy(){if(Hl)return Ho;Hl=1;var t=Ky(),e=1,r=Object.prototype,n=r.hasOwnProperty;function o(s,l,c,f,i,a){var u=c&e,d=t(s),h=d.length,p=t(l),g=p.length;if(h!=g&&!u)return!1;for(var v=h;v--;){var _=d[v];if(!(u?_ in l:n.call(l,_)))return!1}var m=a.get(s),y=a.get(l);if(m&&y)return m==l&&y==s;var b=!0;a.set(s,l),a.set(l,s);for(var $=u;++v<h;){_=d[v];var S=s[_],w=l[_];if(f)var E=u?f(w,S,_,l,s,a):f(S,w,_,s,l,a);if(!(E===void 0?S===w||i(S,w,c,f,a):E)){b=!1;break}$||($=_=="constructor")}if(b&&!$){var x=s.constructor,O=l.constructor;x!=O&&"constructor"in s&&"constructor"in l&&!(typeof x=="function"&&x instanceof x&&typeof O=="function"&&O instanceof O)&&(b=!1)}return a.delete(s),a.delete(l),b}return Ho=o,Ho}var Bo,Bl;function Zy(){if(Bl)return Bo;Bl=1;var t=ie(),e=ft(),r=t(e,"DataView");return Bo=r,Bo}var Uo,Ul;function Jy(){if(Ul)return Uo;Ul=1;var t=ie(),e=ft(),r=t(e,"Promise");return Uo=r,Uo}var qo,ql;function Qy(){if(ql)return qo;ql=1;var t=ie(),e=ft(),r=t(e,"Set");return qo=r,qo}var Go,Gl;function tb(){if(Gl)return Go;Gl=1;var t=ie(),e=ft(),r=t(e,"WeakMap");return Go=r,Go}var Wo,Wl;function eb(){if(Wl)return Wo;Wl=1;var t=Zy(),e=zs(),r=Jy(),n=Qy(),o=tb(),s=Ce(),l=Od(),c="[object Map]",f="[object Object]",i="[object Promise]",a="[object Set]",u="[object WeakMap]",d="[object DataView]",h=l(t),p=l(e),g=l(r),v=l(n),_=l(o),m=s;return(t&&m(new t(new ArrayBuffer(1)))!=d||e&&m(new e)!=c||r&&m(r.resolve())!=i||n&&m(new n)!=a||o&&m(new o)!=u)&&(m=function(y){var b=s(y),$=b==f?y.constructor:void 0,S=$?l($):"";if(S)switch(S){case h:return d;case p:return c;case g:return i;case v:return a;case _:return u}return b}),Wo=m,Wo}var Yo,Yl;function nb(){if(Yl)return Yo;Yl=1;var t=Cd(),e=Id(),r=Uy(),n=Vy(),o=eb(),s=dt(),l=bd(),c=Sd(),f=1,i="[object Arguments]",a="[object Array]",u="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function p(g,v,_,m,y,b){var $=s(g),S=s(v),w=$?a:o(g),E=S?a:o(v);w=w==i?u:w,E=E==i?u:E;var x=w==u,O=E==u,C=w==E;if(C&&l(g)){if(!l(v))return!1;$=!0,x=!1}if(C&&!x)return b||(b=new t),$||c(g)?e(g,v,_,m,y,b):r(g,v,w,_,m,y,b);if(!(_&f)){var R=x&&h.call(g,"__wrapped__"),I=O&&h.call(v,"__wrapped__");if(R||I){var F=R?g.value():g,G=I?v.value():v;return b||(b=new t),y(F,G,_,m,b)}}return C?(b||(b=new t),n(g,v,_,m,y,b)):!1}return Yo=p,Yo}var Xo,Xl;function Fs(){if(Xl)return Xo;Xl=1;var t=nb(),e=Ie();function r(n,o,s,l,c){return n===o?!0:n==null||o==null||!e(n)&&!e(o)?n!==n&&o!==o:t(n,o,s,l,r,c)}return Xo=r,Xo}var Ko,Kl;function rb(){if(Kl)return Ko;Kl=1;var t=Cd(),e=Fs(),r=1,n=2;function o(s,l,c,f){var i=c.length,a=i,u=!f;if(s==null)return!a;for(s=Object(s);i--;){var d=c[i];if(u&&d[2]?d[1]!==s[d[0]]:!(d[0]in s))return!1}for(;++i<a;){d=c[i];var h=d[0],p=s[h],g=d[1];if(u&&d[2]){if(p===void 0&&!(h in s))return!1}else{var v=new t;if(f)var _=f(p,g,h,s,l,v);if(!(_===void 0?e(g,p,r|n,f,v):_))return!1}}return!0}return Ko=o,Ko}var Vo,Vl;function Ad(){if(Vl)return Vo;Vl=1;var t=Oe();function e(r){return r===r&&!t(r)}return Vo=e,Vo}var Zo,Zl;function ob(){if(Zl)return Zo;Zl=1;var t=Ad(),e=Ms();function r(n){for(var o=e(n),s=o.length;s--;){var l=o[s],c=n[l];o[s]=[l,c,t(c)]}return o}return Zo=r,Zo}var Jo,Jl;function Dd(){if(Jl)return Jo;Jl=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Jo=t,Jo}var Qo,Ql;function ib(){if(Ql)return Qo;Ql=1;var t=rb(),e=ob(),r=Dd();function n(o){var s=e(o);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(l){return l===o||t(l,o,s)}}return Qo=n,Qo}var ti,tc;function Ns(){if(tc)return ti;tc=1;var t=dt(),e=Ae(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(s,l){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||l!=null&&s in Object(l)}return ti=o,ti}var ei,ec;function sb(){if(ec)return ei;ec=1;var t=ks(),e="Expected a function";function r(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new TypeError(e);var s=function(){var l=arguments,c=o?o.apply(this,l):l[0],f=s.cache;if(f.has(c))return f.get(c);var i=n.apply(this,l);return s.cache=f.set(c,i)||f,i};return s.cache=new(r.Cache||t),s}return r.Cache=t,ei=r,ei}var ni,nc;function ab(){if(nc)return ni;nc=1;var t=sb(),e=500;function r(n){var o=t(n,function(l){return s.size===e&&s.clear(),l}),s=o.cache;return o}return ni=r,ni}var ri,rc;function ub(){if(rc)return ri;rc=1;var t=ab(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(e,function(l,c,f,i){s.push(f?i.replace(r,"$1"):c||l)}),s});return ri=n,ri}var oi,oc;function lb(){if(oc)return oi;oc=1;function t(e,r){for(var n=-1,o=e==null?0:e.length,s=Array(o);++n<o;)s[n]=r(e[n],n,e);return s}return oi=t,oi}var ii,ic;function cb(){if(ic)return ii;ic=1;var t=En(),e=lb(),r=dt(),n=Ae(),o=t?t.prototype:void 0,s=o?o.toString:void 0;function l(c){if(typeof c=="string")return c;if(r(c))return e(c,l)+"";if(n(c))return s?s.call(c):"";var f=c+"";return f=="0"&&1/c==-1/0?"-0":f}return ii=l,ii}var si,sc;function fb(){if(sc)return si;sc=1;var t=cb();function e(r){return r==null?"":t(r)}return si=e,si}var ai,ac;function Rd(){if(ac)return ai;ac=1;var t=dt(),e=Ns(),r=ub(),n=fb();function o(s,l){return t(s)?s:e(s,l)?[s]:r(n(s))}return ai=o,ai}var ui,uc;function In(){if(uc)return ui;uc=1;var t=Ae();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ui=e,ui}var li,lc;function Pd(){if(lc)return li;lc=1;var t=Rd(),e=In();function r(n,o){o=t(o,n);for(var s=0,l=o.length;n!=null&&s<l;)n=n[e(o[s++])];return s&&s==l?n:void 0}return li=r,li}var ci,cc;function db(){if(cc)return ci;cc=1;var t=Pd();function e(r,n,o){var s=r==null?void 0:t(r,n);return s===void 0?o:s}return ci=e,ci}var fi,fc;function hb(){if(fc)return fi;fc=1;function t(e,r){return e!=null&&r in Object(e)}return fi=t,fi}var di,dc;function pb(){if(dc)return di;dc=1;var t=Rd(),e=yd(),r=dt(),n=$d(),o=Ls(),s=In();function l(c,f,i){f=t(f,c);for(var a=-1,u=f.length,d=!1;++a<u;){var h=s(f[a]);if(!(d=c!=null&&i(c,h)))break;c=c[h]}return d||++a!=u?d:(u=c==null?0:c.length,!!u&&o(u)&&n(h,u)&&(r(c)||e(c)))}return di=l,di}var hi,hc;function gb(){if(hc)return hi;hc=1;var t=hb(),e=pb();function r(n,o){return n!=null&&e(n,o,t)}return hi=r,hi}var pi,pc;function vb(){if(pc)return pi;pc=1;var t=Fs(),e=db(),r=gb(),n=Ns(),o=Ad(),s=Dd(),l=In(),c=1,f=2;function i(a,u){return n(a)&&o(u)?s(l(a),u):function(d){var h=e(d,a);return h===void 0&&h===u?r(d,a):t(u,h,c|f)}}return pi=i,pi}var gi,gc;function mb(){if(gc)return gi;gc=1;function t(e){return function(r){return r==null?void 0:r[e]}}return gi=t,gi}var vi,vc;function _b(){if(vc)return vi;vc=1;var t=Pd();function e(r){return function(n){return t(n,r)}}return vi=e,vi}var mi,mc;function yb(){if(mc)return mi;mc=1;var t=mb(),e=_b(),r=Ns(),n=In();function o(s){return r(s)?t(n(s)):e(s)}return mi=o,mi}var _i,_c;function bb(){if(_c)return _i;_c=1;var t=ib(),e=vb(),r=js(),n=dt(),o=yb();function s(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):o(l)}return _i=s,_i}var yi,yc;function $b(){if(yc)return yi;yc=1;function t(e,r,n,o,s){return s(e,function(l,c,f){n=o?(o=!1,l):r(n,l,c,f)}),n}return yi=t,yi}var bi,bc;function Sb(){if(bc)return bi;bc=1;var t=uy(),e=xd(),r=bb(),n=$b(),o=dt();function s(l,c,f){var i=o(l)?t:n,a=arguments.length<3;return i(l,r(c,4),f,a,e)}return bi=s,bi}Sb();var $i,$c;function wb(){if($c)return $i;$c=1;var t=ft(),e=function(){return t.Date.now()};return $i=e,$i}var Si,Sc;function Eb(){if(Sc)return Si;Sc=1;var t=Oe(),e=wb(),r=Ps(),n="Expected a function",o=Math.max,s=Math.min;function l(c,f,i){var a,u,d,h,p,g,v=0,_=!1,m=!1,y=!0;if(typeof c!="function")throw new TypeError(n);f=r(f)||0,t(i)&&(_=!!i.leading,m="maxWait"in i,d=m?o(r(i.maxWait)||0,f):d,y="trailing"in i?!!i.trailing:y);function b(I){var F=a,G=u;return a=u=void 0,v=I,h=c.apply(G,F),h}function $(I){return v=I,p=setTimeout(E,f),_?b(I):h}function S(I){var F=I-g,G=I-v,j=f-F;return m?s(j,d-G):j}function w(I){var F=I-g,G=I-v;return g===void 0||F>=f||F<0||m&&G>=d}function E(){var I=e();if(w(I))return x(I);p=setTimeout(E,S(I))}function x(I){return p=void 0,y&&a?b(I):(a=u=void 0,h)}function O(){p!==void 0&&clearTimeout(p),v=0,a=g=u=p=void 0}function C(){return p===void 0?h:x(e())}function R(){var I=e(),F=w(I);if(a=arguments,u=this,g=I,F){if(p===void 0)return $(g);if(m)return clearTimeout(p),p=setTimeout(E,f),b(g)}return p===void 0&&(p=setTimeout(E,f)),h}return R.cancel=O,R.flush=C,R}return Si=l,Si}Eb();var Hs,P,Ld,Pt,wc,Md,jd,zd,Bs,ns,rs,os={},kd=[],xb=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,De=Array.isArray;function bt(t,e){for(var r in e)t[r]=e[r];return t}function Us(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ec(t,e,r){var n,o,s,l={};for(s in e)s=="key"?n=e[s]:s=="ref"?o=e[s]:l[s]=e[s];if(arguments.length>2&&(l.children=arguments.length>3?Hs.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)l[s]==null&&(l[s]=t.defaultProps[s]);return Ze(t,l,n,o,null)}function Ze(t,e,r,n,o){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Ld,__i:-1,__u:0};return o==null&&P.vnode!=null&&P.vnode(s),s}function we(t){return t.children}function St(t,e){this.props=t,this.context=e}function ne(t,e){if(e==null)return t.__?ne(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ne(t):null}function Fd(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Fd(t)}}function xc(t){(!t.__d&&(t.__d=!0)&&Pt.push(t)&&!pn.__r++||wc!=P.debounceRendering)&&((wc=P.debounceRendering)||Md)(pn)}function pn(){for(var t,e,r,n,o,s,l,c=1;Pt.length;)Pt.length>c&&Pt.sort(jd),t=Pt.shift(),c=Pt.length,t.__d&&(r=void 0,o=(n=(e=t).__v).__e,s=[],l=[],e.__P&&((r=bt({},n)).__v=n.__v+1,P.vnode&&P.vnode(r),Bd(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[o]:null,s,o??ne(n),!!(32&n.__u),l),r.__v=n.__v,r.__.__k[r.__i]=r,Cb(s,r,l),r.__e!=o&&Fd(r)));pn.__r=0}function Nd(t,e,r,n,o,s,l,c,f,i,a){var u,d,h,p,g,v,_=n&&n.__k||kd,m=e.length;for(f=Tb(r,e,_,f,m),u=0;u<m;u++)(h=r.__k[u])!=null&&(d=h.__i==-1?os:_[h.__i]||os,h.__i=u,v=Bd(t,h,d,o,s,l,c,f,i,a),p=h.__e,h.ref&&d.ref!=h.ref&&(d.ref&&qs(d.ref,null,h),a.push(h.ref,h.__c||p,h)),g==null&&p!=null&&(g=p),4&h.__u||d.__k===h.__k?f=Hd(h,f,t):typeof h.type=="function"&&v!==void 0?f=v:p&&(f=p.nextSibling),h.__u&=-7);return r.__e=g,f}function Tb(t,e,r,n,o){var s,l,c,f,i,a=r.length,u=a,d=0;for(t.__k=new Array(o),s=0;s<o;s++)(l=e[s])!=null&&typeof l!="boolean"&&typeof l!="function"?(f=s+d,(l=t.__k[s]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?Ze(null,l,null,null,null):De(l)?Ze(we,{children:l},null,null,null):l.constructor==null&&l.__b>0?Ze(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=t,l.__b=t.__b+1,c=null,(i=l.__i=Ob(l,r,f,u))!=-1&&(u--,(c=r[i])&&(c.__u|=2)),c==null||c.__v==null?(i==-1&&(o>a?d--:o<a&&d++),typeof l.type!="function"&&(l.__u|=4)):i!=f&&(i==f-1?d--:i==f+1?d++:(i>f?d--:d++,l.__u|=4))):t.__k[s]=null;if(u)for(s=0;s<a;s++)(c=r[s])!=null&&!(2&c.__u)&&(c.__e==n&&(n=ne(c)),qd(c,c));return n}function Hd(t,e,r){var n,o;if(typeof t.type=="function"){for(n=t.__k,o=0;n&&o<n.length;o++)n[o]&&(n[o].__=t,e=Hd(n[o],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=ne(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function gn(t,e){return e=e||[],t==null||typeof t=="boolean"||(De(t)?t.some(function(r){gn(r,e)}):e.push(t)),e}function Ob(t,e,r,n){var o,s,l=t.key,c=t.type,f=e[r];if(f===null&&t.key==null||f&&l==f.key&&c==f.type&&!(2&f.__u))return r;if(n>(f!=null&&!(2&f.__u)?1:0))for(o=r-1,s=r+1;o>=0||s<e.length;){if(o>=0){if((f=e[o])&&!(2&f.__u)&&l==f.key&&c==f.type)return o;o--}if(s<e.length){if((f=e[s])&&!(2&f.__u)&&l==f.key&&c==f.type)return s;s++}}return-1}function Tc(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||xb.test(e)?r:r+"px"}function Ue(t,e,r,n,o){var s;t:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Tc(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||Tc(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(zd,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=Bs,t.addEventListener(e,s?rs:ns,s)):t.removeEventListener(e,s?rs:ns,s);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break t}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function Oc(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=Bs++;else if(e.t<r.u)return;return r(P.event?P.event(e):e)}}}function Bd(t,e,r,n,o,s,l,c,f,i){var a,u,d,h,p,g,v,_,m,y,b,$,S,w,E,x,O,C=e.type;if(e.constructor!=null)return null;128&r.__u&&(f=!!(32&r.__u),s=[c=e.__e=r.__e]),(a=P.__b)&&a(e);t:if(typeof C=="function")try{if(_=e.props,m="prototype"in C&&C.prototype.render,y=(a=C.contextType)&&n[a.__c],b=a?y?y.props.value:a.__:n,r.__c?v=(u=e.__c=r.__c).__=u.__E:(m?e.__c=u=new C(_,b):(e.__c=u=new St(_,b),u.constructor=C,u.render=Ab),y&&y.sub(u),u.props=_,u.state||(u.state={}),u.context=b,u.__n=n,d=u.__d=!0,u.__h=[],u._sb=[]),m&&u.__s==null&&(u.__s=u.state),m&&C.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=bt({},u.__s)),bt(u.__s,C.getDerivedStateFromProps(_,u.__s))),h=u.props,p=u.state,u.__v=e,d)m&&C.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),m&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(m&&C.getDerivedStateFromProps==null&&_!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(_,b),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(_,u.__s,b)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(u.props=_,u.state=u.__s,u.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(R){R&&(R.__=e)}),$=0;$<u._sb.length;$++)u.__h.push(u._sb[$]);u._sb=[],u.__h.length&&l.push(u);break t}u.componentWillUpdate!=null&&u.componentWillUpdate(_,u.__s,b),m&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,p,g)})}if(u.context=b,u.props=_,u.__P=t,u.__e=!1,S=P.__r,w=0,m){for(u.state=u.__s,u.__d=!1,S&&S(e),a=u.render(u.props,u.state,u.context),E=0;E<u._sb.length;E++)u.__h.push(u._sb[E]);u._sb=[]}else do u.__d=!1,S&&S(e),a=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++w<25);u.state=u.__s,u.getChildContext!=null&&(n=bt(bt({},n),u.getChildContext())),m&&!d&&u.getSnapshotBeforeUpdate!=null&&(g=u.getSnapshotBeforeUpdate(h,p)),x=a,a!=null&&a.type===we&&a.key==null&&(x=Ud(a.props.children)),c=Nd(t,De(x)?x:[x],e,r,n,o,s,l,c,f,i),u.base=e.__e,e.__u&=-161,u.__h.length&&l.push(u),v&&(u.__E=u.__=null)}catch(R){if(e.__v=null,f||s!=null)if(R.then){for(e.__u|=f?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,e.__e=c}else for(O=s.length;O--;)Us(s[O]);else e.__e=r.__e,e.__k=r.__k;P.__e(R,e,r)}else s==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):c=e.__e=Ib(r.__e,e,r,n,o,s,l,f,i);return(a=P.diffed)&&a(e),128&e.__u?void 0:c}function Cb(t,e,r){for(var n=0;n<r.length;n++)qs(r[n],r[++n],r[++n]);P.__c&&P.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(s){s.call(o)})}catch(s){P.__e(s,o.__v)}})}function Ud(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:De(t)?t.map(Ud):bt({},t)}function Ib(t,e,r,n,o,s,l,c,f){var i,a,u,d,h,p,g,v=r.props,_=e.props,m=e.type;if(m=="svg"?o="http://www.w3.org/2000/svg":m=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),s!=null){for(i=0;i<s.length;i++)if((h=s[i])&&"setAttribute"in h==!!m&&(m?h.localName==m:h.nodeType==3)){t=h,s[i]=null;break}}if(t==null){if(m==null)return document.createTextNode(_);t=document.createElementNS(o,m,_.is&&_),c&&(P.__m&&P.__m(e,s),c=!1),s=null}if(m==null)v===_||c&&t.data==_||(t.data=_);else{if(s=s&&Hs.call(t.childNodes),v=r.props||os,!c&&s!=null)for(v={},i=0;i<t.attributes.length;i++)v[(h=t.attributes[i]).name]=h.value;for(i in v)if(h=v[i],i!="children"){if(i=="dangerouslySetInnerHTML")u=h;else if(!(i in _)){if(i=="value"&&"defaultValue"in _||i=="checked"&&"defaultChecked"in _)continue;Ue(t,i,null,h,o)}}for(i in _)h=_[i],i=="children"?d=h:i=="dangerouslySetInnerHTML"?a=h:i=="value"?p=h:i=="checked"?g=h:c&&typeof h!="function"||v[i]===h||Ue(t,i,h,v[i],o);if(a)c||u&&(a.__html==u.__html||a.__html==t.innerHTML)||(t.innerHTML=a.__html),e.__k=[];else if(u&&(t.innerHTML=""),Nd(e.type=="template"?t.content:t,De(d)?d:[d],e,r,n,m=="foreignObject"?"http://www.w3.org/1999/xhtml":o,s,l,s?s[0]:r.__k&&ne(r,0),c,f),s!=null)for(i=s.length;i--;)Us(s[i]);c||(i="value",m=="progress"&&p==null?t.removeAttribute("value"):p!=null&&(p!==t[i]||m=="progress"&&!p||m=="option"&&p!=v[i])&&Ue(t,i,p,v[i],o),i="checked",g!=null&&g!=t[i]&&Ue(t,i,g,v[i],o))}return t}function qs(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(o){P.__e(o,r)}}function qd(t,e,r){var n,o;if(P.unmount&&P.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||qs(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){P.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&qd(n[o],e,r||typeof t.type!="function");r||Us(t.__e),t.__c=t.__=t.__e=void 0}function Ab(t,e,r){return this.constructor(t,r)}Hs=kd.slice,P={__e:function(t,e,r,n){for(var o,s,l;e=e.__;)if((o=e.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(t)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,n||{}),l=o.__d),l)return o.__E=o}catch(c){t=c}throw t}},Ld=0,St.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=bt({},this.state),typeof t=="function"&&(t=t(bt({},r),this.props)),t&&bt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),xc(this))},St.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),xc(this))},St.prototype.render=we,Pt=[],Md=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,jd=function(t,e){return t.__v.__b-e.__v.__b},pn.__r=0,zd=/(PointerCapture)$|Capture$/i,Bs=0,ns=Oc(!1),rs=Oc(!0);var st,wi,Cc,Gd=[],W=P,Ic=W.__b,Ac=W.__r,Dc=W.diffed,Rc=W.__c,Pc=W.unmount,Lc=W.__;function Db(){for(var t;t=Gd.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Je),t.__H.__h.forEach(is),t.__H.__h=[]}catch(e){t.__H.__h=[],W.__e(e,t.__v)}}W.__b=function(t){st=null,Ic&&Ic(t)},W.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Lc&&Lc(t,e)},W.__r=function(t){Ac&&Ac(t);var e=(st=t.__c).__H;e&&(wi===st?(e.__h=[],st.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(Je),e.__h.forEach(is),e.__h=[])),wi=st},W.diffed=function(t){Dc&&Dc(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Gd.push(e)!==1&&Cc===W.requestAnimationFrame||((Cc=W.requestAnimationFrame)||Rb)(Db)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),wi=st=null},W.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Je),r.__h=r.__h.filter(function(n){return!n.__||is(n)})}catch(n){e.some(function(o){o.__h&&(o.__h=[])}),e=[],W.__e(n,r.__v)}}),Rc&&Rc(t,e)},W.unmount=function(t){Pc&&Pc(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Je(n)}catch(o){e=o}}),r.__H=void 0,e&&W.__e(e,r.__v))};var Mc=typeof requestAnimationFrame=="function";function Rb(t){var e,r=function(){clearTimeout(n),Mc&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Mc&&(e=requestAnimationFrame(r))}function Je(t){var e=st,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),st=e}function is(t){var e=st;t.__c=t.__(),st=e}function Pb(t,e){for(var r in e)t[r]=e[r];return t}function jc(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function zc(t,e){this.props=t,this.context=e}(zc.prototype=new St).isPureReactComponent=!0,zc.prototype.shouldComponentUpdate=function(t,e){return jc(this.props,t)||jc(this.state,e)};var kc=P.__b;P.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),kc&&kc(t)};var Lb=P.__e;P.__e=function(t,e,r,n){if(t.then){for(var o,s=e;s=s.__;)if((o=s.__c)&&o.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),o.__c(t,e)}Lb(t,e,r,n)};var Fc=P.unmount;function Wd(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Pb({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return Wd(n,e,r)})),t}function Yd(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return Yd(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function Ei(){this.__u=0,this.o=null,this.__b=null}function Xd(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function qe(){this.i=null,this.l=null}P.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Fc&&Fc(t)},(Ei.prototype=new St).__c=function(t,e){var r=e.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var o=Xd(n.__v),s=!1,l=function(){s||(s=!0,r.__R=null,o?o(c):c())};r.__R=l;var c=function(){if(!--n.__u){if(n.state.__a){var f=n.state.__a;n.__v.__k[0]=Yd(f,f.__c.__P,f.__c.__O)}var i;for(n.setState({__a:n.__b=null});i=n.o.pop();)i.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(l,l)},Ei.prototype.componentWillUnmount=function(){this.o=[]},Ei.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Wd(this.__b,r,n.__O=n.__P)}this.__b=null}var o=e.__a&&Ec(we,null,t.fallback);return o&&(o.__u&=-33),[Ec(we,null,e.__a?null:t.children),o]};var Nc=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(qe.prototype=new St).__a=function(t){var e=this,r=Xd(e.__v),n=e.l.get(t);return n[0]++,function(o){var s=function(){e.props.revealOrder?(n.push(o),Nc(e,t,n)):o()};r?r(s):s()}},qe.prototype.render=function(t){this.i=null,this.l=new Map;var e=gn(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},qe.prototype.componentDidUpdate=qe.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,r){Nc(t,r,e)})};var Mb=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,jb=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,zb=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,kb=/[A-Z0-9]/g,Fb=typeof document<"u",Nb=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};St.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(St.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Hc=P.event;function Hb(){}function Bb(){return this.cancelBubble}function Ub(){return this.defaultPrevented}P.event=function(t){return Hc&&(t=Hc(t)),t.persist=Hb,t.isPropagationStopped=Bb,t.isDefaultPrevented=Ub,t.nativeEvent=t};var qb={enumerable:!1,configurable:!0,get:function(){return this.class}},Bc=P.vnode;P.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,o={},s=n.indexOf("-")===-1;for(var l in r){var c=r[l];if(!(l==="value"&&"defaultValue"in r&&c==null||Fb&&l==="children"&&n==="noscript"||l==="class"||l==="className")){var f=l.toLowerCase();l==="defaultValue"&&"value"in r&&r.value==null?l="value":l==="download"&&c===!0?c="":f==="translate"&&c==="no"?c=!1:f[0]==="o"&&f[1]==="n"?f==="ondoubleclick"?l="ondblclick":f!=="onchange"||n!=="input"&&n!=="textarea"||Nb(r.type)?f==="onfocus"?l="onfocusin":f==="onblur"?l="onfocusout":zb.test(l)&&(l=f):f=l="oninput":s&&jb.test(l)?l=l.replace(kb,"-$&").toLowerCase():c===null&&(c=void 0),f==="oninput"&&o[l=f]&&(l="oninputCapture"),o[l]=c}}n=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=gn(r.children).forEach(function(i){i.props.selected=o.value.indexOf(i.props.value)!=-1})),n=="select"&&o.defaultValue!=null&&(o.value=gn(r.children).forEach(function(i){i.props.selected=o.multiple?o.defaultValue.indexOf(i.props.value)!=-1:o.defaultValue==i.props.value})),r.class&&!r.className?(o.class=r.class,Object.defineProperty(o,"className",qb)):(r.className&&!r.class||r.class&&r.className)&&(o.class=o.className=r.className),e.props=o}(t),t.$$typeof=Mb,Bc&&Bc(t)};var Uc=P.__r;P.__r=function(t){Uc&&Uc(t),t.__c};var qc=P.diffed;P.diffed=function(t){qc&&qc(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value)};var ss={exports:{}},Gb=ss.exports,Gc;function Wb(){return Gc||(Gc=1,function(t,e){(function(r,n){t.exports=n()})(Gb,function(){var r=function(n,o){var s=Array.prototype.concat,l=Array.prototype.slice,c=Object.prototype.toString;function f(m,y){var b=m>y?m:y;return n.pow(10,17-~~(n.log(b>0?b:-b)*n.LOG10E))}var i=Array.isArray||function(m){return c.call(m)==="[object Array]"};function a(m){return c.call(m)==="[object Function]"}function u(m){return typeof m=="number"?m-m===0:!1}function d(m){return s.apply([],m)}function h(){return new h._init(arguments)}h.fn=h.prototype,h._init=function(m){if(i(m[0]))if(i(m[0][0])){a(m[1])&&(m[0]=h.map(m[0],m[1]));for(var y=0;y<m[0].length;y++)this[y]=m[0][y];this.length=m[0].length}else this[0]=a(m[1])?h.map(m[0],m[1]):m[0],this.length=1;else if(u(m[0]))this[0]=h.seq.apply(null,m),this.length=1;else{if(m[0]instanceof h)return h(m[0].toArray());this[0]=[],this.length=1}return this},h._init.prototype=h.prototype,h._init.constructor=h,h.utils={calcRdx:f,isArray:i,isFunction:a,isNumber:u,toVector:d},h._random_fn=n.random,h.setRandom=function(m){if(typeof m!="function")throw new TypeError("fn is not a function");h._random_fn=m},h.extend=function(m){var y,b;if(arguments.length===1){for(b in m)h[b]=m[b];return this}for(y=1;y<arguments.length;y++)for(b in arguments[y])m[b]=arguments[y][b];return m},h.rows=function(m){return m.length||1},h.cols=function(m){return m[0].length||1},h.dimensions=function(m){return{rows:h.rows(m),cols:h.cols(m)}},h.row=function(m,y){return i(y)?y.map(function(b){return h.row(m,b)}):m[y]},h.rowa=function(m,y){return h.row(m,y)},h.col=function(m,y){if(i(y)){var b=h.arange(m.length).map(function(){return new Array(y.length)});return y.forEach(function(w,E){h.arange(m.length).forEach(function(x){b[x][E]=m[x][w]})}),b}for(var $=new Array(m.length),S=0;S<m.length;S++)$[S]=[m[S][y]];return $},h.cola=function(m,y){return h.col(m,y).map(function(b){return b[0]})},h.diag=function(m){for(var y=h.rows(m),b=new Array(y),$=0;$<y;$++)b[$]=[m[$][$]];return b},h.antidiag=function(m){for(var y=h.rows(m)-1,b=new Array(y),$=0;y>=0;y--,$++)b[$]=[m[$][y]];return b},h.transpose=function(m){var y=[],b,$,S,w,E;for(i(m[0])||(m=[m]),$=m.length,S=m[0].length,E=0;E<S;E++){for(b=new Array($),w=0;w<$;w++)b[w]=m[w][E];y.push(b)}return y.length===1?y[0]:y},h.map=function(m,y,b){var $,S,w,E,x;for(i(m[0])||(m=[m]),S=m.length,w=m[0].length,E=b?m:new Array(S),$=0;$<S;$++)for(E[$]||(E[$]=new Array(w)),x=0;x<w;x++)E[$][x]=y(m[$][x],$,x);return E.length===1?E[0]:E},h.cumreduce=function(m,y,b){var $,S,w,E,x;for(i(m[0])||(m=[m]),S=m.length,w=m[0].length,E=b?m:new Array(S),$=0;$<S;$++)for(E[$]||(E[$]=new Array(w)),w>0&&(E[$][0]=m[$][0]),x=1;x<w;x++)E[$][x]=y(E[$][x-1],m[$][x]);return E.length===1?E[0]:E},h.alter=function(m,y){return h.map(m,y,!0)},h.create=function(m,y,b){var $=new Array(m),S,w;for(a(y)&&(b=y,y=m),S=0;S<m;S++)for($[S]=new Array(y),w=0;w<y;w++)$[S][w]=b(S,w);return $};function p(){return 0}h.zeros=function(m,y){return u(y)||(y=m),h.create(m,y,p)};function g(){return 1}h.ones=function(m,y){return u(y)||(y=m),h.create(m,y,g)},h.rand=function(m,y){return u(y)||(y=m),h.create(m,y,h._random_fn)};function v(m,y){return m===y?1:0}h.identity=function(m,y){return u(y)||(y=m),h.create(m,y,v)},h.symmetric=function(m){var y=m.length,b,$;if(m.length!==m[0].length)return!1;for(b=0;b<y;b++)for($=0;$<y;$++)if(m[$][b]!==m[b][$])return!1;return!0},h.clear=function(m){return h.alter(m,p)},h.seq=function(m,y,b,$){a($)||($=!1);var S=[],w=f(m,y),E=(y*w-m*w)/((b-1)*w),x=m,O;for(O=0;x<=y&&O<b;O++,x=(m*w+E*w*O)/w)S.push($?$(x,O):x);return S},h.arange=function(m,y,b){var $=[],S;if(b=b||1,y===o&&(y=m,m=0),m===y||b===0)return[];if(m<y&&b<0)return[];if(m>y&&b>0)return[];if(b>0)for(S=m;S<y;S+=b)$.push(S);else for(S=m;S>y;S+=b)$.push(S);return $},h.slice=function(){function m(b,$,S,w){var E,x=[],O=b.length;if($===o&&S===o&&w===o)return h.copy(b);if($=$||0,S=S||b.length,$=$>=0?$:O+$,S=S>=0?S:O+S,w=w||1,$===S||w===0)return[];if($<S&&w<0)return[];if($>S&&w>0)return[];if(w>0)for(E=$;E<S;E+=w)x.push(b[E]);else for(E=$;E>S;E+=w)x.push(b[E]);return x}function y(b,$){var S,w;if($=$||{},u($.row)){if(u($.col))return b[$.row][$.col];var E=h.rowa(b,$.row);return S=$.col||{},m(E,S.start,S.end,S.step)}if(u($.col)){var x=h.cola(b,$.col);return w=$.row||{},m(x,w.start,w.end,w.step)}w=$.row||{},S=$.col||{};var O=m(b,w.start,w.end,w.step);return O.map(function(C){return m(C,S.start,S.end,S.step)})}return y}(),h.sliceAssign=function(m,y,b){var $,S;if(u(y.row)){if(u(y.col))return m[y.row][y.col]=b;y.col=y.col||{},y.col.start=y.col.start||0,y.col.end=y.col.end||m[0].length,y.col.step=y.col.step||1,$=h.arange(y.col.start,n.min(m.length,y.col.end),y.col.step);var w=y.row;return $.forEach(function(x,O){m[w][x]=b[O]}),m}if(u(y.col)){y.row=y.row||{},y.row.start=y.row.start||0,y.row.end=y.row.end||m.length,y.row.step=y.row.step||1,S=h.arange(y.row.start,n.min(m[0].length,y.row.end),y.row.step);var E=y.col;return S.forEach(function(x,O){m[x][E]=b[O]}),m}return b[0].length===o&&(b=[b]),y.row.start=y.row.start||0,y.row.end=y.row.end||m.length,y.row.step=y.row.step||1,y.col.start=y.col.start||0,y.col.end=y.col.end||m[0].length,y.col.step=y.col.step||1,S=h.arange(y.row.start,n.min(m.length,y.row.end),y.row.step),$=h.arange(y.col.start,n.min(m[0].length,y.col.end),y.col.step),S.forEach(function(x,O){$.forEach(function(C,R){m[x][C]=b[O][R]})}),m},h.diagonal=function(m){var y=h.zeros(m.length,m.length);return m.forEach(function(b,$){y[$][$]=b}),y},h.copy=function(m){return m.map(function(y){return u(y)?y:y.map(function(b){return b})})};var _=h.prototype;return _.length=0,_.push=Array.prototype.push,_.sort=Array.prototype.sort,_.splice=Array.prototype.splice,_.slice=Array.prototype.slice,_.toArray=function(){return this.length>1?l.call(this):l.call(this)[0]},_.map=function(m,y){return h(h.map(this,m,y))},_.cumreduce=function(m,y){return h(h.cumreduce(this,m,y))},_.alter=function(m){return h.alter(this,m),this},function(m){for(var y=0;y<m.length;y++)(function(b){_[b]=function($){var S=this,w;return $?(setTimeout(function(){$.call(S,_[b].call(S))}),this):(w=h[b](this),i(w)?h(w):w)}})(m[y])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(m){for(var y=0;y<m.length;y++)(function(b){_[b]=function($,S){var w=this;return S?(setTimeout(function(){S.call(w,_[b].call(w,$))}),this):h(h[b](this,$))}})(m[y])}("row col".split(" ")),function(m){for(var y=0;y<m.length;y++)(function(b){_[b]=function(){return h(h[b].apply(null,arguments))}})(m[y])}("create zeros ones rand identity".split(" ")),h}(Math);return function(n,o){var s=n.utils.isFunction;function l(i,a){return i-a}function c(i,a,u){return o.max(a,o.min(i,u))}n.sum=function(i){for(var a=0,u=i.length;--u>=0;)a+=i[u];return a},n.sumsqrd=function(i){for(var a=0,u=i.length;--u>=0;)a+=i[u]*i[u];return a},n.sumsqerr=function(i){for(var a=n.mean(i),u=0,d=i.length,h;--d>=0;)h=i[d]-a,u+=h*h;return u},n.sumrow=function(i){for(var a=0,u=i.length;--u>=0;)a+=i[u];return a},n.product=function(i){for(var a=1,u=i.length;--u>=0;)a*=i[u];return a},n.min=function(i){for(var a=i[0],u=0;++u<i.length;)i[u]<a&&(a=i[u]);return a},n.max=function(i){for(var a=i[0],u=0;++u<i.length;)i[u]>a&&(a=i[u]);return a},n.unique=function(i){for(var a={},u=[],d=0;d<i.length;d++)a[i[d]]||(a[i[d]]=!0,u.push(i[d]));return u},n.mean=function(i){return n.sum(i)/i.length},n.meansqerr=function(i){return n.sumsqerr(i)/i.length},n.geomean=function(i){var a=i.map(o.log),u=n.mean(a);return o.exp(u)},n.median=function(i){var a=i.length,u=i.slice().sort(l);return a&1?u[a/2|0]:(u[a/2-1]+u[a/2])/2},n.cumsum=function(i){return n.cumreduce(i,function(a,u){return a+u})},n.cumprod=function(i){return n.cumreduce(i,function(a,u){return a*u})},n.diff=function(i){var a=[],u=i.length,d;for(d=1;d<u;d++)a.push(i[d]-i[d-1]);return a},n.rank=function(i){var a,u=[],d={};for(a=0;a<i.length;a++){var h=i[a];d[h]?d[h]++:(d[h]=1,u.push(h))}var p=u.sort(l),g={},v=1;for(a=0;a<p.length;a++){var h=p[a],_=d[h],m=v,y=v+_-1,b=(m+y)/2;g[h]=b,v+=_}return i.map(function($){return g[$]})},n.mode=function(i){var a=i.length,u=i.slice().sort(l),d=1,h=0,p=0,g=[],v;for(v=0;v<a;v++)u[v]===u[v+1]?d++:(d>h?(g=[u[v]],h=d,p=0):d===h&&(g.push(u[v]),p++),d=1);return p===0?g[0]:g},n.range=function(i){return n.max(i)-n.min(i)},n.variance=function(i,a){return n.sumsqerr(i)/(i.length-(a?1:0))},n.pooledvariance=function(i){var a=i.reduce(function(d,h){return d+n.sumsqerr(h)},0),u=i.reduce(function(d,h){return d+h.length},0);return a/(u-i.length)},n.deviation=function(i){for(var a=n.mean(i),u=i.length,d=new Array(u),h=0;h<u;h++)d[h]=i[h]-a;return d},n.stdev=function(i,a){return o.sqrt(n.variance(i,a))},n.pooledstdev=function(i){return o.sqrt(n.pooledvariance(i))},n.meandev=function(i){for(var a=n.mean(i),u=[],d=i.length-1;d>=0;d--)u.push(o.abs(i[d]-a));return n.mean(u)},n.meddev=function(i){for(var a=n.median(i),u=[],d=i.length-1;d>=0;d--)u.push(o.abs(i[d]-a));return n.median(u)},n.coeffvar=function(i){return n.stdev(i)/n.mean(i)},n.quartiles=function(i){var a=i.length,u=i.slice().sort(l);return[u[o.round(a/4)-1],u[o.round(a/2)-1],u[o.round(a*3/4)-1]]},n.quantiles=function(i,a,u,d){var h=i.slice().sort(l),p=[a.length],g=i.length,v,_,m,y,b,$;for(typeof u>"u"&&(u=3/8),typeof d>"u"&&(d=3/8),v=0;v<a.length;v++)_=a[v],m=u+_*(1-u-d),y=g*_+m,b=o.floor(c(y,1,g-1)),$=c(y-b,0,1),p[v]=(1-$)*h[b-1]+$*h[b];return p},n.percentile=function(i,a,u){var d=i.slice().sort(l),h=a*(d.length+(u?1:-1))+(u?0:1),p=parseInt(h),g=h-p;return p+1<d.length?d[p-1]+g*(d[p]-d[p-1]):d[p-1]},n.percentileOfScore=function(i,a,u){var d=0,h=i.length,p=!1,g,v;for(u==="strict"&&(p=!0),v=0;v<h;v++)g=i[v],(p&&g<a||!p&&g<=a)&&d++;return d/h},n.histogram=function(i,a){a=a||4;var u=n.min(i),d=(n.max(i)-u)/a,h=i.length,p=[],g;for(g=0;g<a;g++)p[g]=0;for(g=0;g<h;g++)p[o.min(o.floor((i[g]-u)/d),a-1)]+=1;return p},n.covariance=function(i,a){var u=n.mean(i),d=n.mean(a),h=i.length,p=new Array(h),g;for(g=0;g<h;g++)p[g]=(i[g]-u)*(a[g]-d);return n.sum(p)/(h-1)},n.corrcoeff=function(i,a){return n.covariance(i,a)/n.stdev(i,1)/n.stdev(a,1)},n.spearmancoeff=function(i,a){return i=n.rank(i),a=n.rank(a),n.corrcoeff(i,a)},n.stanMoment=function(i,a){for(var u=n.mean(i),d=n.stdev(i),h=i.length,p=0,g=0;g<h;g++)p+=o.pow((i[g]-u)/d,a);return p/i.length},n.skewness=function(i){return n.stanMoment(i,3)},n.kurtosis=function(i){return n.stanMoment(i,4)-3};var f=n.prototype;(function(i){for(var a=0;a<i.length;a++)(function(u){f[u]=function(d,h){var p=[],g=0,v=this;if(s(d)&&(h=d,d=!1),h)return setTimeout(function(){h.call(v,f[u].call(v,d))}),this;if(this.length>1){for(v=d===!0?this:this.transpose();g<v.length;g++)p[g]=n[u](v[g]);return p}return n[u](this[0],d)}})(i[a])})("cumsum cumprod".split(" ")),function(i){for(var a=0;a<i.length;a++)(function(u){f[u]=function(d,h){var p=[],g=0,v=this;if(s(d)&&(h=d,d=!1),h)return setTimeout(function(){h.call(v,f[u].call(v,d))}),this;if(this.length>1){for(u!=="sumrow"&&(v=d===!0?this:this.transpose());g<v.length;g++)p[g]=n[u](v[g]);return d===!0?n[u](n.utils.toVector(p)):p}return n[u](this[0],d)}})(i[a])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(i){for(var a=0;a<i.length;a++)(function(u){f[u]=function(){var d=[],h=0,p=this,g=Array.prototype.slice.call(arguments),v;if(s(g[g.length-1])){v=g[g.length-1];var _=g.slice(0,g.length-1);return setTimeout(function(){v.call(p,f[u].apply(p,_))}),this}else{v=void 0;var m=function(y){return n[u].apply(p,[y].concat(g))}}if(this.length>1){for(p=p.transpose();h<p.length;h++)d[h]=m(p[h]);return d}return m(this[0])}})(i[a])}("quantiles percentileOfScore".split(" "))}(r,Math),function(n,o){n.gammaln=function(s){var l=0,c=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],f=1.000000000190015,i,a,u;for(u=(a=i=s)+5.5,u-=(i+.5)*o.log(u);l<6;l++)f+=c[l]/++a;return o.log(2.5066282746310007*f/i)-u},n.loggam=function(s){var l,c,f,i,a,u,d,h=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(l=s,d=0,s==1||s==2)return 0;for(s<=7&&(d=o.floor(7-s),l=s+d),c=1/(l*l),f=2*o.PI,a=h[9],u=8;u>=0;u--)a*=c,a+=h[u];if(i=a/l+.5*o.log(f)+(l-.5)*o.log(l)-l,s<=7)for(u=1;u<=d;u++)i-=o.log(l-1),l-=1;return i},n.gammafn=function(s){var l=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],c=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],f=!1,i=0,a=0,u=0,d=s,h,p,g,v;if(s>171.6243769536076)return 1/0;if(d<=0)if(v=d%1+36e-17,v)f=(d&1?-1:1)*o.PI/o.sin(o.PI*v),d=1-d;else return 1/0;for(g=d,d<1?p=d++:p=(d-=i=(d|0)-1)-1,h=0;h<8;++h)u=(u+l[h])*p,a=a*p+c[h];if(v=u/a+1,g<d)v/=g;else if(g>d)for(h=0;h<i;++h)v*=d,d++;return f&&(v=f/v),v},n.gammap=function(s,l){return n.lowRegGamma(s,l)*n.gammafn(s)},n.lowRegGamma=function(s,l){var c=n.gammaln(s),f=s,i=1/s,a=i,u=l+1-s,d=1/1e-30,h=1/u,p=h,g=1,v=-~(o.log(s>=1?s:1/s)*8.5+s*.4+17),_;if(l<0||s<=0)return NaN;if(l<s+1){for(;g<=v;g++)i+=a*=l/++f;return i*o.exp(-l+s*o.log(l)-c)}for(;g<=v;g++)_=-g*(g-s),u+=2,h=_*h+u,d=u+_/d,h=1/h,p*=h*d;return 1-p*o.exp(-l+s*o.log(l)-c)},n.factorialln=function(s){return s<0?NaN:n.gammaln(s+1)},n.factorial=function(s){return s<0?NaN:n.gammafn(s+1)},n.combination=function(s,l){return s>170||l>170?o.exp(n.combinationln(s,l)):n.factorial(s)/n.factorial(l)/n.factorial(s-l)},n.combinationln=function(s,l){return n.factorialln(s)-n.factorialln(l)-n.factorialln(s-l)},n.permutation=function(s,l){return n.factorial(s)/n.factorial(s-l)},n.betafn=function(s,l){if(!(s<=0||l<=0))return s+l>170?o.exp(n.betaln(s,l)):n.gammafn(s)*n.gammafn(l)/n.gammafn(s+l)},n.betaln=function(s,l){return n.gammaln(s)+n.gammaln(l)-n.gammaln(s+l)},n.betacf=function(s,l,c){var f=1e-30,i=1,a=l+c,u=l+1,d=l-1,h=1,p=1-a*s/u,g,v,_,m;for(o.abs(p)<f&&(p=f),p=1/p,m=p;i<=100&&(g=2*i,v=i*(c-i)*s/((d+g)*(l+g)),p=1+v*p,o.abs(p)<f&&(p=f),h=1+v/h,o.abs(h)<f&&(h=f),p=1/p,m*=p*h,v=-(l+i)*(a+i)*s/((l+g)*(u+g)),p=1+v*p,o.abs(p)<f&&(p=f),h=1+v/h,o.abs(h)<f&&(h=f),p=1/p,_=p*h,m*=_,!(o.abs(_-1)<3e-7));i++);return m},n.gammapinv=function(s,l){var c=0,f=l-1,i=1e-8,a=n.gammaln(l),u,d,h,p,g,v,_;if(s>=1)return o.max(100,l+100*o.sqrt(l));if(s<=0)return 0;for(l>1?(v=o.log(f),_=o.exp(f*(v-1)-a),g=s<.5?s:1-s,h=o.sqrt(-2*o.log(g)),u=(2.30753+h*.27061)/(1+h*(.99229+h*.04481))-h,s<.5&&(u=-u),u=o.max(.001,l*o.pow(1-1/(9*l)-u/(3*o.sqrt(l)),3))):(h=1-l*(.253+l*.12),s<h?u=o.pow(s/h,1/l):u=1-o.log(1-(s-h)/(1-h)));c<12;c++){if(u<=0)return 0;if(d=n.lowRegGamma(l,u)-s,l>1?h=_*o.exp(-(u-f)+f*(o.log(u)-v)):h=o.exp(-u+f*o.log(u)-a),p=d/h,u-=h=p/(1-.5*o.min(1,p*((l-1)/u-1))),u<=0&&(u=.5*(u+h)),o.abs(h)<i*u)break}return u},n.erf=function(s){var l=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],c=l.length-1,f=!1,i=0,a=0,u,d,h,p;for(s<0&&(s=-s,f=!0),u=2/(2+s),d=4*u-2;c>0;c--)h=i,i=d*i-a+l[c],a=h;return p=u*o.exp(-s*s+.5*(l[0]+d*i)-a),f?p-1:1-p},n.erfc=function(s){return 1-n.erf(s)},n.erfcinv=function(s){var l=0,c,f,i,a;if(s>=2)return-100;if(s<=0)return 100;for(a=s<1?s:2-s,i=o.sqrt(-2*o.log(a/2)),c=-.70711*((2.30753+i*.27061)/(1+i*(.99229+i*.04481))-i);l<2;l++)f=n.erfc(c)-a,c+=f/(1.1283791670955126*o.exp(-c*c)-c*f);return s<1?c:-c},n.ibetainv=function(s,l,c){var f=1e-8,i=l-1,a=c-1,u=0,d,h,p,g,v,_,m,y,b,$,S;if(s<=0)return 0;if(s>=1)return 1;for(l>=1&&c>=1?(p=s<.5?s:1-s,g=o.sqrt(-2*o.log(p)),m=(2.30753+g*.27061)/(1+g*(.99229+g*.04481))-g,s<.5&&(m=-m),y=(m*m-3)/6,b=2/(1/(2*l-1)+1/(2*c-1)),$=m*o.sqrt(y+b)/b-(1/(2*c-1)-1/(2*l-1))*(y+5/6-2/(3*b)),m=l/(l+c*o.exp(2*$))):(d=o.log(l/(l+c)),h=o.log(c/(l+c)),g=o.exp(l*d)/l,v=o.exp(c*h)/c,$=g+v,s<g/$?m=o.pow(l*$*s,1/l):m=1-o.pow(c*$*(1-s),1/c)),S=-n.gammaln(l)-n.gammaln(c)+n.gammaln(l+c);u<10;u++){if(m===0||m===1)return m;if(_=n.ibeta(m,l,c)-s,g=o.exp(i*o.log(m)+a*o.log(1-m)+S),v=_/g,m-=g=v/(1-.5*o.min(1,v*(i/m-a/(1-m)))),m<=0&&(m=.5*(m+g)),m>=1&&(m=.5*(m+g+1)),o.abs(g)<f*m&&u>0)break}return m},n.ibeta=function(s,l,c){var f=s===0||s===1?0:o.exp(n.gammaln(l+c)-n.gammaln(l)-n.gammaln(c)+l*o.log(s)+c*o.log(1-s));return s<0||s>1?!1:s<(l+1)/(l+c+2)?f*n.betacf(s,l,c)/l:1-f*n.betacf(1-s,c,l)/c},n.randn=function(s,l){var c,f,i,a,u;if(l||(l=s),s)return n.create(s,l,function(){return n.randn()});do c=n._random_fn(),f=1.7156*(n._random_fn()-.5),i=c-.449871,a=o.abs(f)+.386595,u=i*i+a*(.196*a-.25472*i);while(u>.27597&&(u>.27846||f*f>-4*o.log(c)*c*c));return f/c},n.randg=function(s,l,c){var f=s,i,a,u,d,h,p;if(c||(c=l),s||(s=1),l)return p=n.zeros(l,c),p.alter(function(){return n.randg(s)}),p;s<1&&(s+=1),i=s-1/3,a=1/o.sqrt(9*i);do{do h=n.randn(),d=1+a*h;while(d<=0);d=d*d*d,u=n._random_fn()}while(u>1-.331*o.pow(h,4)&&o.log(u)>.5*h*h+i*(1-d+o.log(d)));if(s==f)return i*d;do u=n._random_fn();while(u===0);return o.pow(u,1/f)*i*d},function(s){for(var l=0;l<s.length;l++)(function(c){n.fn[c]=function(){return n(n.map(this,function(f){return n[c](f)}))}})(s[l])}("gammaln gammafn factorial factorialln".split(" ")),function(s){for(var l=0;l<s.length;l++)(function(c){n.fn[c]=function(){return n(n[c].apply(null,arguments))}})(s[l])}("randn".split(" "))}(r,Math),function(n,o){(function(i){for(var a=0;a<i.length;a++)(function(u){n[u]=function d(h,p,g){return this instanceof d?(this._a=h,this._b=p,this._c=g,this):new d(h,p,g)},n.fn[u]=function(d,h,p){var g=n[u](d,h,p);return g.data=this,g},n[u].prototype.sample=function(d){var h=this._a,p=this._b,g=this._c;return d?n.alter(d,function(){return n[u].sample(h,p,g)}):n[u].sample(h,p,g)},function(d){for(var h=0;h<d.length;h++)(function(p){n[u].prototype[p]=function(g){var v=this._a,_=this._b,m=this._c;return!g&&g!==0&&(g=this.data),typeof g!="number"?n.fn.map.call(g,function(y){return n[u][p](y,v,_,m)}):n[u][p](g,v,_,m)}})(d[h])}("pdf cdf inv".split(" ")),function(d){for(var h=0;h<d.length;h++)(function(p){n[u].prototype[p]=function(){return n[u][p](this._a,this._b,this._c)}})(d[h])}("mean median mode variance".split(" "))})(i[a])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),n.extend(n.beta,{pdf:function(i,a,u){return i>1||i<0?0:a==1&&u==1?1:a<512&&u<512?o.pow(i,a-1)*o.pow(1-i,u-1)/n.betafn(a,u):o.exp((a-1)*o.log(i)+(u-1)*o.log(1-i)-n.betaln(a,u))},cdf:function(i,a,u){return i>1||i<0?(i>1)*1:n.ibeta(i,a,u)},inv:function(i,a,u){return n.ibetainv(i,a,u)},mean:function(i,a){return i/(i+a)},median:function(i,a){return n.ibetainv(.5,i,a)},mode:function(i,a){return(i-1)/(i+a-2)},sample:function(i,a){var u=n.randg(i);return u/(u+n.randg(a))},variance:function(i,a){return i*a/(o.pow(i+a,2)*(i+a+1))}}),n.extend(n.centralF,{pdf:function(i,a,u){var d,h,p;return i<0?0:a<=2?i===0&&a<2?1/0:i===0&&a===2?1:1/n.betafn(a/2,u/2)*o.pow(a/u,a/2)*o.pow(i,a/2-1)*o.pow(1+a/u*i,-(a+u)/2):(d=a*i/(u+i*a),h=u/(u+i*a),p=a*h/2,p*n.binomial.pdf((a-2)/2,(a+u-2)/2,d))},cdf:function(i,a,u){return i<0?0:n.ibeta(a*i/(a*i+u),a/2,u/2)},inv:function(i,a,u){return u/(a*(1/n.ibetainv(i,a/2,u/2)-1))},mean:function(i,a){return a>2?a/(a-2):void 0},mode:function(i,a){return i>2?a*(i-2)/(i*(a+2)):void 0},sample:function(i,a){var u=n.randg(i/2)*2,d=n.randg(a/2)*2;return u/i/(d/a)},variance:function(i,a){if(!(a<=4))return 2*a*a*(i+a-2)/(i*(a-2)*(a-2)*(a-4))}}),n.extend(n.cauchy,{pdf:function(i,a,u){return u<0?0:u/(o.pow(i-a,2)+o.pow(u,2))/o.PI},cdf:function(i,a,u){return o.atan((i-a)/u)/o.PI+.5},inv:function(i,a,u){return a+u*o.tan(o.PI*(i-.5))},median:function(i){return i},mode:function(i){return i},sample:function(i,a){return n.randn()*o.sqrt(1/(2*n.randg(.5)))*a+i}}),n.extend(n.chisquare,{pdf:function(i,a){return i<0?0:i===0&&a===2?.5:o.exp((a/2-1)*o.log(i)-i/2-a/2*o.log(2)-n.gammaln(a/2))},cdf:function(i,a){return i<0?0:n.lowRegGamma(a/2,i/2)},inv:function(i,a){return 2*n.gammapinv(i,.5*a)},mean:function(i){return i},median:function(i){return i*o.pow(1-2/(9*i),3)},mode:function(i){return i-2>0?i-2:0},sample:function(i){return n.randg(i/2)*2},variance:function(i){return 2*i}}),n.extend(n.exponential,{pdf:function(i,a){return i<0?0:a*o.exp(-a*i)},cdf:function(i,a){return i<0?0:1-o.exp(-a*i)},inv:function(i,a){return-o.log(1-i)/a},mean:function(i){return 1/i},median:function(i){return 1/i*o.log(2)},mode:function(){return 0},sample:function(i){return-1/i*o.log(n._random_fn())},variance:function(i){return o.pow(i,-2)}}),n.extend(n.gamma,{pdf:function(i,a,u){return i<0?0:i===0&&a===1?1/u:o.exp((a-1)*o.log(i)-i/u-n.gammaln(a)-a*o.log(u))},cdf:function(i,a,u){return i<0?0:n.lowRegGamma(a,i/u)},inv:function(i,a,u){return n.gammapinv(i,a)*u},mean:function(i,a){return i*a},mode:function(i,a){if(i>1)return(i-1)*a},sample:function(i,a){return n.randg(i)*a},variance:function(i,a){return i*a*a}}),n.extend(n.invgamma,{pdf:function(i,a,u){return i<=0?0:o.exp(-(a+1)*o.log(i)-u/i-n.gammaln(a)+a*o.log(u))},cdf:function(i,a,u){return i<=0?0:1-n.lowRegGamma(a,u/i)},inv:function(i,a,u){return u/n.gammapinv(1-i,a)},mean:function(i,a){return i>1?a/(i-1):void 0},mode:function(i,a){return a/(i+1)},sample:function(i,a){return a/n.randg(i)},variance:function(i,a){if(!(i<=2))return a*a/((i-1)*(i-1)*(i-2))}}),n.extend(n.kumaraswamy,{pdf:function(i,a,u){return i===0&&a===1?u:i===1&&u===1?a:o.exp(o.log(a)+o.log(u)+(a-1)*o.log(i)+(u-1)*o.log(1-o.pow(i,a)))},cdf:function(i,a,u){return i<0?0:i>1?1:1-o.pow(1-o.pow(i,a),u)},inv:function(i,a,u){return o.pow(1-o.pow(1-i,1/u),1/a)},mean:function(i,a){return a*n.gammafn(1+1/i)*n.gammafn(a)/n.gammafn(1+1/i+a)},median:function(i,a){return o.pow(1-o.pow(2,-1/a),1/i)},mode:function(i,a){if(i>=1&&a>=1&&i!==1&&a!==1)return o.pow((i-1)/(i*a-1),1/i)},variance:function(){throw new Error("variance not yet implemented")}}),n.extend(n.lognormal,{pdf:function(i,a,u){return i<=0?0:o.exp(-o.log(i)-.5*o.log(2*o.PI)-o.log(u)-o.pow(o.log(i)-a,2)/(2*u*u))},cdf:function(i,a,u){return i<0?0:.5+.5*n.erf((o.log(i)-a)/o.sqrt(2*u*u))},inv:function(i,a,u){return o.exp(-1.4142135623730951*u*n.erfcinv(2*i)+a)},mean:function(i,a){return o.exp(i+a*a/2)},median:function(i){return o.exp(i)},mode:function(i,a){return o.exp(i-a*a)},sample:function(i,a){return o.exp(n.randn()*a+i)},variance:function(i,a){return(o.exp(a*a)-1)*o.exp(2*i+a*a)}}),n.extend(n.noncentralt,{pdf:function(i,a,u){var d=1e-14;return o.abs(u)<d?n.studentt.pdf(i,a):o.abs(i)<d?o.exp(n.gammaln((a+1)/2)-u*u/2-.5*o.log(o.PI*a)-n.gammaln(a/2)):a/i*(n.noncentralt.cdf(i*o.sqrt(1+2/a),a+2,u)-n.noncentralt.cdf(i,a,u))},cdf:function(i,a,u){var d=1e-14,h=200;if(o.abs(u)<d)return n.studentt.cdf(i,a);var p=!1;i<0&&(p=!0,u=-u);for(var g=n.normal.cdf(-u,0,1),v=d+1,_=v,m=i*i/(i*i+a),y=0,b=o.exp(-u*u/2),$=o.exp(-u*u/2-.5*o.log(2)-n.gammaln(3/2))*u;y<h||_>d||v>d;)_=v,y>0&&(b*=u*u/(2*y),$*=u*u/(2*(y+1/2))),v=b*n.beta.cdf(m,y+.5,a/2)+$*n.beta.cdf(m,y+1,a/2),g+=.5*v,y++;return p?1-g:g}}),n.extend(n.normal,{pdf:function(i,a,u){return o.exp(-.5*o.log(2*o.PI)-o.log(u)-o.pow(i-a,2)/(2*u*u))},cdf:function(i,a,u){return .5*(1+n.erf((i-a)/o.sqrt(2*u*u)))},inv:function(i,a,u){return-1.4142135623730951*u*n.erfcinv(2*i)+a},mean:function(i){return i},median:function(i){return i},mode:function(i){return i},sample:function(i,a){return n.randn()*a+i},variance:function(i,a){return a*a}}),n.extend(n.pareto,{pdf:function(i,a,u){return i<a?0:u*o.pow(a,u)/o.pow(i,u+1)},cdf:function(i,a,u){return i<a?0:1-o.pow(a/i,u)},inv:function(i,a,u){return a/o.pow(1-i,1/u)},mean:function(i,a){if(!(a<=1))return a*o.pow(i,a)/(a-1)},median:function(i,a){return i*(a*o.SQRT2)},mode:function(i){return i},variance:function(i,a){if(!(a<=2))return i*i*a/(o.pow(a-1,2)*(a-2))}}),n.extend(n.studentt,{pdf:function(i,a){return a=a>1e100?1e100:a,1/(o.sqrt(a)*n.betafn(.5,a/2))*o.pow(1+i*i/a,-((a+1)/2))},cdf:function(i,a){var u=a/2;return n.ibeta((i+o.sqrt(i*i+a))/(2*o.sqrt(i*i+a)),u,u)},inv:function(i,a){var u=n.ibetainv(2*o.min(i,1-i),.5*a,.5);return u=o.sqrt(a*(1-u)/u),i>.5?u:-u},mean:function(i){return i>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(i){return n.randn()*o.sqrt(i/(2*n.randg(i/2)))},variance:function(i){return i>2?i/(i-2):i>1?1/0:void 0}}),n.extend(n.weibull,{pdf:function(i,a,u){return i<0||a<0||u<0?0:u/a*o.pow(i/a,u-1)*o.exp(-o.pow(i/a,u))},cdf:function(i,a,u){return i<0?0:1-o.exp(-o.pow(i/a,u))},inv:function(i,a,u){return a*o.pow(-o.log(1-i),1/u)},mean:function(i,a){return i*n.gammafn(1+1/a)},median:function(i,a){return i*o.pow(o.log(2),1/a)},mode:function(i,a){return a<=1?0:i*o.pow((a-1)/a,1/a)},sample:function(i,a){return i*o.pow(-o.log(n._random_fn()),1/a)},variance:function(i,a){return i*i*n.gammafn(1+2/a)-o.pow(n.weibull.mean(i,a),2)}}),n.extend(n.uniform,{pdf:function(i,a,u){return i<a||i>u?0:1/(u-a)},cdf:function(i,a,u){return i<a?0:i<u?(i-a)/(u-a):1},inv:function(i,a,u){return a+i*(u-a)},mean:function(i,a){return .5*(i+a)},median:function(i,a){return n.mean(i,a)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(i,a){return i/2+a/2+(a/2-i/2)*(2*n._random_fn()-1)},variance:function(i,a){return o.pow(a-i,2)/12}});function s(i,a,u,d){for(var h=0,p=1,g=1,v=1,_=0,m=0,y;o.abs((g-m)/g)>d;)m=g,y=-(a+_)*(a+u+_)*i/(a+2*_)/(a+2*_+1),h=g+y*h,p=v+y*p,_=_+1,y=_*(u-_)*i/(a+2*_-1)/(a+2*_),g=h+y*g,v=p+y*v,h=h/v,p=p/v,g=g/v,v=1;return g/a}n.extend(n.binomial,{pdf:function(i,a,u){return u===0||u===1?a*u===i?1:0:n.combination(a,i)*o.pow(u,i)*o.pow(1-u,a-i)},cdf:function(i,a,u){var d,h=1e-10;if(i<0)return 0;if(i>=a)return 1;if(u<0||u>1||a<=0)return NaN;i=o.floor(i);var p=u,g=i+1,v=a-i,_=g+v,m=o.exp(n.gammaln(_)-n.gammaln(v)-n.gammaln(g)+g*o.log(p)+v*o.log(1-p));return p<(g+1)/(_+2)?d=m*s(p,g,v,h):d=1-m*s(1-p,v,g,h),o.round((1-d)*(1/h))/(1/h)}}),n.extend(n.negbin,{pdf:function(i,a,u){return i!==i>>>0?!1:i<0?0:n.combination(i+a-1,a-1)*o.pow(1-u,i)*o.pow(u,a)},cdf:function(i,a,u){var d=0,h=0;if(i<0)return 0;for(;h<=i;h++)d+=n.negbin.pdf(h,a,u);return d}}),n.extend(n.hypgeom,{pdf:function(i,a,u,d){if(i!==i|0)return!1;if(i<0||i<u-(a-d)||i>d||i>u)return 0;if(u*2>a)return d*2>a?n.hypgeom.pdf(a-u-d+i,a,a-u,a-d):n.hypgeom.pdf(d-i,a,a-u,d);if(d*2>a)return n.hypgeom.pdf(u-i,a,u,a-d);if(u<d)return n.hypgeom.pdf(i,a,d,u);for(var h=1,p=0,g=0;g<i;g++){for(;h>1&&p<d;)h*=1-u/(a-p),p++;h*=(d-g)*(u-g)/((g+1)*(a-u-d+g+1))}for(;p<d;p++)h*=1-u/(a-p);return o.min(1,o.max(0,h))},cdf:function(i,a,u,d){if(i<0||i<u-(a-d))return 0;if(i>=d||i>=u)return 1;if(u*2>a)return d*2>a?n.hypgeom.cdf(a-u-d+i,a,a-u,a-d):1-n.hypgeom.cdf(d-i-1,a,a-u,d);if(d*2>a)return 1-n.hypgeom.cdf(u-i-1,a,u,a-d);if(u<d)return n.hypgeom.cdf(i,a,d,u);for(var h=1,p=1,g=0,v=0;v<i;v++){for(;h>1&&g<d;){var _=1-u/(a-g);p*=_,h*=_,g++}p*=(d-v)*(u-v)/((v+1)*(a-u-d+v+1)),h+=p}for(;g<d;g++)h*=1-u/(a-g);return o.min(1,o.max(0,h))}}),n.extend(n.poisson,{pdf:function(i,a){return a<0||i%1!==0||i<0?0:o.pow(a,i)*o.exp(-a)/n.factorial(i)},cdf:function(i,a){var u=[],d=0;if(i<0)return 0;for(;d<=i;d++)u.push(n.poisson.pdf(d,a));return n.sum(u)},mean:function(i){return i},variance:function(i){return i},sampleSmall:function(i){var a=1,u=0,d=o.exp(-i);do u++,a*=n._random_fn();while(a>d);return u-1},sampleLarge:function(i){var a=i,u,d,h,p,g,v,_,m,y,b;for(p=o.sqrt(a),g=o.log(a),_=.931+2.53*p,v=-.059+.02483*_,m=1.1239+1.1328/(_-3.4),y=.9277-3.6224/(_-2);;)if(d=o.random()-.5,h=o.random(),b=.5-o.abs(d),u=o.floor((2*v/b+_)*d+a+.43),b>=.07&&h<=y||!(u<0||b<.013&&h>b)&&o.log(h)+o.log(m)-o.log(v/(b*b)+_)<=-a+u*g-n.loggam(u+1))return u},sample:function(i){return i<10?this.sampleSmall(i):this.sampleLarge(i)}}),n.extend(n.triangular,{pdf:function(i,a,u,d){return u<=a||d<a||d>u?NaN:i<a||i>u?0:i<d?2*(i-a)/((u-a)*(d-a)):i===d?2/(u-a):2*(u-i)/((u-a)*(u-d))},cdf:function(i,a,u,d){return u<=a||d<a||d>u?NaN:i<=a?0:i>=u?1:i<=d?o.pow(i-a,2)/((u-a)*(d-a)):1-o.pow(u-i,2)/((u-a)*(u-d))},inv:function(i,a,u,d){return u<=a||d<a||d>u?NaN:i<=(d-a)/(u-a)?a+(u-a)*o.sqrt(i*((d-a)/(u-a))):a+(u-a)*(1-o.sqrt((1-i)*(1-(d-a)/(u-a))))},mean:function(i,a,u){return(i+a+u)/3},median:function(i,a,u){if(u<=(i+a)/2)return a-o.sqrt((a-i)*(a-u))/o.sqrt(2);if(u>(i+a)/2)return i+o.sqrt((a-i)*(u-i))/o.sqrt(2)},mode:function(i,a,u){return u},sample:function(i,a,u){var d=n._random_fn();return d<(u-i)/(a-i)?i+o.sqrt(d*(a-i)*(u-i)):a-o.sqrt((1-d)*(a-i)*(a-u))},variance:function(i,a,u){return(i*i+a*a+u*u-i*a-i*u-a*u)/18}}),n.extend(n.arcsine,{pdf:function(i,a,u){return u<=a?NaN:i<=a||i>=u?0:2/o.PI*o.pow(o.pow(u-a,2)-o.pow(2*i-a-u,2),-.5)},cdf:function(i,a,u){return i<a?0:i<u?2/o.PI*o.asin(o.sqrt((i-a)/(u-a))):1},inv:function(i,a,u){return a+(.5-.5*o.cos(o.PI*i))*(u-a)},mean:function(i,a){return a<=i?NaN:(i+a)/2},median:function(i,a){return a<=i?NaN:(i+a)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(i,a){return(i+a)/2+(a-i)/2*o.sin(2*o.PI*n.uniform.sample(0,1))},variance:function(i,a){return a<=i?NaN:o.pow(a-i,2)/8}});function l(i){return i/o.abs(i)}n.extend(n.laplace,{pdf:function(i,a,u){return u<=0?0:o.exp(-o.abs(i-a)/u)/(2*u)},cdf:function(i,a,u){return u<=0?0:i<a?.5*o.exp((i-a)/u):1-.5*o.exp(-(i-a)/u)},mean:function(i){return i},median:function(i){return i},mode:function(i){return i},variance:function(i,a){return 2*a*a},sample:function(i,a){var u=n._random_fn()-.5;return i-a*l(u)*o.log(1-2*o.abs(u))}});function c(i,a,u){var d=12,h=6,p=-30,g=-50,v=60,_=8,m=3,y=2,b=3,$=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],S=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],w=i*.5;if(w>=_)return 1;var E=2*n.normal.cdf(w,0,1,1,0)-1;E>=o.exp(g/u)?E=o.pow(E,u):E=0;var x;i>m?x=y:x=b;for(var O=w,C=(_-w)/x,R=O+C,I=0,F=u-1,G=1;G<=x;G++){for(var j=0,Bt=.5*(R+O),At=.5*(R-O),rt=1;rt<=d;rt++){var J,ot;h<rt?(J=d-rt+1,ot=$[J-1]):(J=rt,ot=-$[J-1]);var tt=At*ot,vt=Bt+tt,Ut=vt*vt;if(Ut>v)break;var jn=2*n.normal.cdf(vt,0,1,1,0),zn=2*n.normal.cdf(vt,i,1,1,0),ze=jn*.5-zn*.5;ze>=o.exp(p/F)&&(ze=S[J-1]*o.exp(-(.5*Ut))*o.pow(ze,F),j+=ze)}j*=2*At*u/o.sqrt(2*o.PI),I+=j,O=R,R+=C}return E+=I,E<=o.exp(p/a)?0:(E=o.pow(E,a),E>=1?1:E)}function f(i,a,u){var d=.322232421088,h=.099348462606,p=-1,g=.588581570495,v=-.342242088547,_=.531103462366,m=-.204231210125,y=.10353775285,b=-453642210148e-16,$=.0038560700634,S=.8832,w=.2368,E=1.208,x=1.4142,O=120,C=.5-.5*i,R=o.sqrt(o.log(1/(C*C))),I=R+((((R*b+m)*R+v)*R+p)*R+d)/((((R*$+y)*R+_)*R+g)*R+h);u<O&&(I+=(I*I*I+I)/u/4);var F=S-w*I;return u<O&&(F+=-1.214/u+E*I/u),I*(F*o.log(a-1)+x)}n.extend(n.tukey,{cdf:function(i,a,u){var d=1,h=a,p=16,g=8,v=-30,_=1e-14,m=100,y=800,b=5e3,$=25e3,S=1,w=.5,E=.25,x=.125,O=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],C=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(i<=0)return 0;if(u<2||d<1||h<2)return NaN;if(!Number.isFinite(i))return 1;if(u>$)return c(i,d,h);var R=u*.5,I=R*o.log(u)-u*o.log(2)-n.gammaln(R),F=R-1,G=u*.25,j;u<=m?j=S:u<=y?j=w:u<=b?j=E:j=x,I+=o.log(j);for(var Bt=0,At=1;At<=50;At++){for(var rt=0,J=(2*At-1)*j,ot=1;ot<=p;ot++){var tt,vt;g<ot?(tt=ot-g-1,vt=I+F*o.log(J+O[tt]*j)-(O[tt]*j+J)*G):(tt=ot-1,vt=I+F*o.log(J-O[tt]*j)+(O[tt]*j-J)*G);var Ut;if(vt>=v){g<ot?Ut=i*o.sqrt((O[tt]*j+J)*.5):Ut=i*o.sqrt((-(O[tt]*j)+J)*.5);var jn=c(Ut,d,h),zn=jn*C[tt]*o.exp(vt);rt+=zn}}if(At*j>=1&&rt<=_)break;Bt+=rt}if(rt>_)throw new Error("tukey.cdf failed to converge");return Bt>1&&(Bt=1),Bt},inv:function(i,a,u){var d=1,h=a,p=1e-4,g=50;if(u<2||d<1||h<2)return NaN;if(i<0||i>1)return NaN;if(i===0)return 0;if(i===1)return 1/0;var v=f(i,h,u),_=n.tukey.cdf(v,a,u)-i,m;_>0?m=o.max(0,v-1):m=v+1;for(var y=n.tukey.cdf(m,a,u)-i,b,$=1;$<g;$++){b=m-y*(m-v)/(y-_),_=y,v=m,b<0&&(b=0,y=-i),y=n.tukey.cdf(b,a,u)-i,m=b;var S=o.abs(m-v);if(S<p)return b}throw new Error("tukey.inv failed to converge")}})}(r,Math),function(n,o){var s=Array.prototype.push,l=n.utils.isArray;function c(f){return l(f)||f instanceof n}n.extend({add:function(f,i){return c(i)?(c(i[0])||(i=[i]),n.map(f,function(a,u,d){return a+i[u][d]})):n.map(f,function(a){return a+i})},subtract:function(f,i){return c(i)?(c(i[0])||(i=[i]),n.map(f,function(a,u,d){return a-i[u][d]||0})):n.map(f,function(a){return a-i})},divide:function(f,i){return c(i)?(c(i[0])||(i=[i]),n.multiply(f,n.inv(i))):n.map(f,function(a){return a/i})},multiply:function(f,i){var a,u,d,h,p,g,v,_;if(f.length===void 0&&i.length===void 0)return f*i;if(p=f.length,g=f[0].length,v=n.zeros(p,d=c(i)?i[0].length:g),_=0,c(i)){for(;_<d;_++)for(a=0;a<p;a++){for(h=0,u=0;u<g;u++)h+=f[a][u]*i[u][_];v[a][_]=h}return p===1&&_===1?v[0][0]:v}return n.map(f,function(m){return m*i})},outer:function(f,i){return n.multiply(f.map(function(a){return[a]}),[i])},dot:function(f,i){c(f[0])||(f=[f]),c(i[0])||(i=[i]);for(var a=f[0].length===1&&f.length!==1?n.transpose(f):f,u=i[0].length===1&&i.length!==1?n.transpose(i):i,d=[],h=0,p=a.length,g=a[0].length,v,_;h<p;h++){for(d[h]=[],v=0,_=0;_<g;_++)v+=a[h][_]*u[h][_];d[h]=v}return d.length===1?d[0]:d},pow:function(f,i){return n.map(f,function(a){return o.pow(a,i)})},exp:function(f){return n.map(f,function(i){return o.exp(i)})},log:function(f){return n.map(f,function(i){return o.log(i)})},abs:function(f){return n.map(f,function(i){return o.abs(i)})},norm:function(f,i){var a=0,u=0;for(isNaN(i)&&(i=2),c(f[0])&&(f=f[0]);u<f.length;u++)a+=o.pow(o.abs(f[u]),i);return o.pow(a,1/i)},angle:function(f,i){return o.acos(n.dot(f,i)/(n.norm(f)*n.norm(i)))},aug:function(f,i){var a=[],u;for(u=0;u<f.length;u++)a.push(f[u].slice());for(u=0;u<a.length;u++)s.apply(a[u],i[u]);return a},inv:function(f){for(var i=f.length,a=f[0].length,u=n.identity(i,a),d=n.gauss_jordan(f,u),h=[],p=0,g;p<i;p++)for(h[p]=[],g=a;g<d[0].length;g++)h[p][g-a]=d[p][g];return h},det:function f(i){if(i.length===2)return i[0][0]*i[1][1]-i[0][1]*i[1][0];for(var a=0,u=0;u<i.length;u++){for(var d=[],h=1;h<i.length;h++){d[h-1]=[];for(var p=0;p<i.length;p++)p<u?d[h-1][p]=i[h][p]:p>u&&(d[h-1][p-1]=i[h][p])}var g=u%2?-1:1;a+=f(d)*i[0][u]*g}return a},gauss_elimination:function(f,i){var a=0,u=0,d=f.length,h=f[0].length,p=1,g=0,v=[],_,m,y,b;for(f=n.aug(f,i),_=f[0].length,a=0;a<d;a++){for(m=f[a][a],u=a,b=a+1;b<h;b++)m<o.abs(f[b][a])&&(m=f[b][a],u=b);if(u!=a)for(b=0;b<_;b++)y=f[a][b],f[a][b]=f[u][b],f[u][b]=y;for(u=a+1;u<d;u++)for(p=f[u][a]/f[a][a],b=a;b<_;b++)f[u][b]=f[u][b]-p*f[a][b]}for(a=d-1;a>=0;a--){for(g=0,u=a+1;u<=d-1;u++)g=g+v[u]*f[a][u];v[a]=(f[a][_-1]-g)/f[a][a]}return v},gauss_jordan:function(f,i){var a=n.aug(f,i),u=a.length,d=a[0].length,h=0,p,g,v;for(g=0;g<u;g++){var _=g;for(v=g+1;v<u;v++)o.abs(a[v][g])>o.abs(a[_][g])&&(_=v);var m=a[g];for(a[g]=a[_],a[_]=m,v=g+1;v<u;v++)for(h=a[v][g]/a[g][g],p=g;p<d;p++)a[v][p]-=a[g][p]*h}for(g=u-1;g>=0;g--){for(h=a[g][g],v=0;v<g;v++)for(p=d-1;p>g-1;p--)a[v][p]-=a[g][p]*a[v][g]/h;for(a[g][g]/=h,p=u;p<d;p++)a[g][p]/=h}return a},triaUpSolve:function(f,i){var a=f[0].length,u=n.zeros(1,a)[0],d,h=!1;return i[0].length!=null&&(i=i.map(function(p){return p[0]}),h=!0),n.arange(a-1,-1,-1).forEach(function(p){d=n.arange(p+1,a).map(function(g){return u[g]*f[p][g]}),u[p]=(i[p]-n.sum(d))/f[p][p]}),h?u.map(function(p){return[p]}):u},triaLowSolve:function(f,i){var a=f[0].length,u=n.zeros(1,a)[0],d,h=!1;return i[0].length!=null&&(i=i.map(function(p){return p[0]}),h=!0),n.arange(a).forEach(function(p){d=n.arange(p).map(function(g){return f[p][g]*u[g]}),u[p]=(i[p]-n.sum(d))/f[p][p]}),h?u.map(function(p){return[p]}):u},lu:function(f){var i=f.length,a=n.identity(i),u=n.zeros(f.length,f[0].length),d;return n.arange(i).forEach(function(h){u[0][h]=f[0][h]}),n.arange(1,i).forEach(function(h){n.arange(h).forEach(function(p){d=n.arange(p).map(function(g){return a[h][g]*u[g][p]}),a[h][p]=(f[h][p]-n.sum(d))/u[p][p]}),n.arange(h,i).forEach(function(p){d=n.arange(h).map(function(g){return a[h][g]*u[g][p]}),u[h][p]=f[d.length][p]-n.sum(d)})}),[a,u]},cholesky:function(f){var i=f.length,a=n.zeros(f.length,f[0].length),u;return n.arange(i).forEach(function(d){u=n.arange(d).map(function(h){return o.pow(a[d][h],2)}),a[d][d]=o.sqrt(f[d][d]-n.sum(u)),n.arange(d+1,i).forEach(function(h){u=n.arange(d).map(function(p){return a[d][p]*a[h][p]}),a[h][d]=(f[d][h]-n.sum(u))/a[d][d]})}),a},gauss_jacobi:function(f,i,a,u){for(var d=0,h=0,p=f.length,g=[],v=[],_=[],m,y,b,$;d<p;d++)for(g[d]=[],v[d]=[],_[d]=[],h=0;h<p;h++)d>h?(g[d][h]=f[d][h],v[d][h]=_[d][h]=0):d<h?(v[d][h]=f[d][h],g[d][h]=_[d][h]=0):(_[d][h]=f[d][h],g[d][h]=v[d][h]=0);for(b=n.multiply(n.multiply(n.inv(_),n.add(g,v)),-1),y=n.multiply(n.inv(_),i),m=a,$=n.add(n.multiply(b,a),y),d=2;o.abs(n.norm(n.subtract($,m)))>u;)m=$,$=n.add(n.multiply(b,m),y),d++;return $},gauss_seidel:function(f,i,a,u){for(var d=0,h=f.length,p=[],g=[],v=[],_,m,y,b,$;d<h;d++)for(p[d]=[],g[d]=[],v[d]=[],_=0;_<h;_++)d>_?(p[d][_]=f[d][_],g[d][_]=v[d][_]=0):d<_?(g[d][_]=f[d][_],p[d][_]=v[d][_]=0):(v[d][_]=f[d][_],p[d][_]=g[d][_]=0);for(b=n.multiply(n.multiply(n.inv(n.add(v,p)),g),-1),y=n.multiply(n.inv(n.add(v,p)),i),m=a,$=n.add(n.multiply(b,a),y),d=2;o.abs(n.norm(n.subtract($,m)))>u;)m=$,$=n.add(n.multiply(b,m),y),d=d+1;return $},SOR:function(f,i,a,u,d){for(var h=0,p=f.length,g=[],v=[],_=[],m,y,b,$,S;h<p;h++)for(g[h]=[],v[h]=[],_[h]=[],m=0;m<p;m++)h>m?(g[h][m]=f[h][m],v[h][m]=_[h][m]=0):h<m?(v[h][m]=f[h][m],g[h][m]=_[h][m]=0):(_[h][m]=f[h][m],g[h][m]=v[h][m]=0);for($=n.multiply(n.inv(n.add(_,n.multiply(g,d))),n.subtract(n.multiply(_,1-d),n.multiply(v,d))),b=n.multiply(n.multiply(n.inv(n.add(_,n.multiply(g,d))),i),d),y=a,S=n.add(n.multiply($,a),b),h=2;o.abs(n.norm(n.subtract(S,y)))>u;)y=S,S=n.add(n.multiply($,y),b),h++;return S},householder:function(f){for(var i=f.length,a=f[0].length,u=0,d=[],h=[],p,g,v,_,m;u<i-1;u++){for(p=0,_=u+1;_<a;_++)p+=f[_][u]*f[_][u];for(m=f[u+1][u]>0?-1:1,p=m*o.sqrt(p),g=o.sqrt((p*p-f[u+1][u]*p)/2),d=n.zeros(i,1),d[u+1][0]=(f[u+1][u]-p)/(2*g),v=u+2;v<i;v++)d[v][0]=f[v][u]/(2*g);h=n.subtract(n.identity(i,a),n.multiply(n.multiply(d,n.transpose(d)),2)),f=n.multiply(h,n.multiply(f,h))}return f},QR:function(){var f=n.sum,i=n.arange;function a(u){var d=u.length,h=u[0].length,p=n.zeros(h,h);u=n.copy(u);var g,v,_;for(v=0;v<h;v++){for(p[v][v]=o.sqrt(f(i(d).map(function(m){return u[m][v]*u[m][v]}))),g=0;g<d;g++)u[g][v]=u[g][v]/p[v][v];for(_=v+1;_<h;_++)for(p[v][_]=f(i(d).map(function(m){return u[m][v]*u[m][_]})),g=0;g<d;g++)u[g][_]=u[g][_]-u[g][v]*p[v][_]}return[u,p]}return a}(),lstsq:function(){function f(a){a=n.copy(a);var u=a.length,d=n.identity(u);return n.arange(u-1,-1,-1).forEach(function(h){n.sliceAssign(d,{row:h},n.divide(n.slice(d,{row:h}),a[h][h])),n.sliceAssign(a,{row:h},n.divide(n.slice(a,{row:h}),a[h][h])),n.arange(h).forEach(function(p){var g=n.multiply(a[p][h],-1),v=n.slice(a,{row:p}),_=n.multiply(n.slice(a,{row:h}),g);n.sliceAssign(a,{row:p},n.add(v,_));var m=n.slice(d,{row:p}),y=n.multiply(n.slice(d,{row:h}),g);n.sliceAssign(d,{row:p},n.add(m,y))})}),d}function i(a,u){var d=!1;u[0].length===void 0&&(u=u.map(function(S){return[S]}),d=!0);var h=n.QR(a),p=h[0],g=h[1],v=a[0].length,_=n.slice(p,{col:{end:v}}),m=n.slice(g,{row:{end:v}}),y=f(m),b=n.transpose(_);b[0].length===void 0&&(b=[b]);var $=n.multiply(n.multiply(y,b),u);return $.length===void 0&&($=[[$]]),d?$.map(function(S){return S[0]}):$}return i}(),jacobi:function(f){for(var i=1,a=f.length,u=n.identity(a,a),d=[],h,p,g,v,_,m,y,b;i===1;){for(m=f[0][1],v=0,_=1,p=0;p<a;p++)for(g=0;g<a;g++)p!=g&&m<o.abs(f[p][g])&&(m=o.abs(f[p][g]),v=p,_=g);for(f[v][v]===f[_][_]?y=f[v][_]>0?o.PI/4:-o.PI/4:y=o.atan(2*f[v][_]/(f[v][v]-f[_][_]))/2,b=n.identity(a,a),b[v][v]=o.cos(y),b[v][_]=-o.sin(y),b[_][v]=o.sin(y),b[_][_]=o.cos(y),u=n.multiply(u,b),h=n.multiply(n.multiply(n.inv(b),f),b),f=h,i=0,p=1;p<a;p++)for(g=1;g<a;g++)p!=g&&o.abs(f[p][g])>.001&&(i=1)}for(p=0;p<a;p++)d.push(f[p][p]);return[u,d]},rungekutta:function(f,i,a,u,d,h){var p,g,v,_,m;if(h===2)for(;u<=a;)p=i*f(u,d),g=i*f(u+i,d+p),v=d+(p+g)/2,d=v,u=u+i;if(h===4)for(;u<=a;)p=i*f(u,d),g=i*f(u+i/2,d+p/2),_=i*f(u+i/2,d+g/2),m=i*f(u+i,d+_),v=d+(p+2*g+2*_+m)/6,d=v,u=u+i;return d},romberg:function(f,i,a,u){for(var d=0,h=(a-i)/2,p=[],g=[],v=[],_,m,y,b,$;d<u/2;){for($=f(i),y=i,b=0;y<=a;y=y+h,b++)p[b]=y;for(_=p.length,y=1;y<_-1;y++)$+=(y%2!==0?4:2)*f(p[y]);$=h/3*($+f(a)),v[d]=$,h/=2,d++}for(m=v.length,_=1;m!==1;){for(y=0;y<m-1;y++)g[y]=(o.pow(4,_)*v[y+1]-v[y])/(o.pow(4,_)-1);m=g.length,v=g,g=[],_++}return v},richardson:function(f,i,a,u){function d(S,w){for(var E=0,x=S.length,O;E<x;E++)S[E]===w&&(O=E);return O}for(var h=o.abs(a-f[d(f,a)+1]),p=0,g=[],v=[],_,m,y,b,$;u>=h;)_=d(f,a+u),m=d(f,a),g[p]=(i[_]-2*i[m]+i[2*m-_])/(u*u),u/=2,p++;for(b=g.length,y=1;b!=1;){for($=0;$<b-1;$++)v[$]=(o.pow(4,y)*g[$+1]-g[$])/(o.pow(4,y)-1);b=v.length,g=v,v=[],y++}return g},simpson:function(f,i,a,u){for(var d=(a-i)/u,h=f(i),p=[],g=i,v=0,_=1,m;g<=a;g=g+d,v++)p[v]=g;for(m=p.length;_<m-1;_++)h+=(_%2!==0?4:2)*f(p[_]);return d/3*(h+f(a))},hermite:function(f,i,a,u){for(var d=f.length,h=0,p=0,g=[],v=[],_=[],m=[],y;p<d;p++){for(g[p]=1,y=0;y<d;y++)p!=y&&(g[p]*=(u-f[y])/(f[p]-f[y]));for(v[p]=0,y=0;y<d;y++)p!=y&&(v[p]+=1/(f[p]-f[y]));_[p]=(1-2*(u-f[p])*v[p])*(g[p]*g[p]),m[p]=(u-f[p])*(g[p]*g[p]),h+=_[p]*i[p]+m[p]*a[p]}return h},lagrange:function(f,i,a){for(var u=0,d=0,h,p,g=f.length;d<g;d++){for(p=i[d],h=0;h<g;h++)d!=h&&(p*=(a-f[h])/(f[d]-f[h]));u+=p}return u},cubic_spline:function(f,i,a){for(var u=f.length,d=0,h,p=[],g=[],v=[],_=[],m=[],y=[],b=[];d<u-1;d++)m[d]=f[d+1]-f[d];for(v[0]=0,d=1;d<u-1;d++)v[d]=3/m[d]*(i[d+1]-i[d])-3/m[d-1]*(i[d]-i[d-1]);for(d=1;d<u-1;d++)p[d]=[],g[d]=[],p[d][d-1]=m[d-1],p[d][d]=2*(m[d-1]+m[d]),p[d][d+1]=m[d],g[d][0]=v[d];for(_=n.multiply(n.inv(p),g),h=0;h<u-1;h++)y[h]=(i[h+1]-i[h])/m[h]-m[h]*(_[h+1][0]+2*_[h][0])/3,b[h]=(_[h+1][0]-_[h][0])/(3*m[h]);for(h=0;h<u&&!(f[h]>a);h++);return h-=1,i[h]+(a-f[h])*y[h]+n.sq(a-f[h])*_[h]+(a-f[h])*n.sq(a-f[h])*b[h]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(f){var i=f.length,a=f[0].length,u=0,d,h,p=[],g=[],v=[],_=[],m=[],y=[],b=[],$=[],S=[],w=[];for(u=0;u<i;u++)p[u]=n.sum(f[u])/a;for(u=0;u<a;u++)for(b[u]=[],d=0;d<i;d++)b[u][d]=f[d][u]-p[d];for(b=n.transpose(b),u=0;u<i;u++)for($[u]=[],d=0;d<i;d++)$[u][d]=n.dot([b[u]],[b[d]])/(a-1);for(v=n.jacobi($),S=v[0],g=v[1],w=n.transpose(S),u=0;u<g.length;u++)for(d=u;d<g.length;d++)g[u]<g[d]&&(h=g[u],g[u]=g[d],g[d]=h,_=w[u],w[u]=w[d],w[d]=_);for(y=n.transpose(b),u=0;u<i;u++)for(m[u]=[],d=0;d<y.length;d++)m[u][d]=n.dot([w[u]],[y[d]]);return[f,g,w,m]}}),function(f){for(var i=0;i<f.length;i++)(function(a){n.fn[a]=function(u,d){var h=this;return d?(setTimeout(function(){d.call(h,n.fn[a].call(h,u))},15),this):typeof n[a](this,u)=="number"?n[a](this,u):n(n[a](this,u))}})(f[i])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(r,Math),function(n,o){var s=[].slice,l=n.utils.isNumber,c=n.utils.isArray;n.extend({zscore:function(){var i=s.call(arguments);return l(i[1])?(i[0]-i[1])/i[2]:(i[0]-n.mean(i[1]))/n.stdev(i[1],i[2])},ztest:function(){var i=s.call(arguments),a;return c(i[1])?(a=n.zscore(i[0],i[1],i[3]),i[2]===1?n.normal.cdf(-o.abs(a),0,1):n.normal.cdf(-o.abs(a),0,1)*2):i.length>2?(a=n.zscore(i[0],i[1],i[2]),i[3]===1?n.normal.cdf(-o.abs(a),0,1):n.normal.cdf(-o.abs(a),0,1)*2):(a=i[0],i[1]===1?n.normal.cdf(-o.abs(a),0,1):n.normal.cdf(-o.abs(a),0,1)*2)}}),n.extend(n.fn,{zscore:function(i,a){return(i-this.mean())/this.stdev(a)},ztest:function(i,a,u){var d=o.abs(this.zscore(i,u));return a===1?n.normal.cdf(-d,0,1):n.normal.cdf(-d,0,1)*2}}),n.extend({tscore:function(){var i=s.call(arguments);return i.length===4?(i[0]-i[1])/(i[2]/o.sqrt(i[3])):(i[0]-n.mean(i[1]))/(n.stdev(i[1],!0)/o.sqrt(i[1].length))},ttest:function(){var i=s.call(arguments),a;return i.length===5?(a=o.abs(n.tscore(i[0],i[1],i[2],i[3])),i[4]===1?n.studentt.cdf(-a,i[3]-1):n.studentt.cdf(-a,i[3]-1)*2):l(i[1])?(a=o.abs(i[0]),i[2]==1?n.studentt.cdf(-a,i[1]-1):n.studentt.cdf(-a,i[1]-1)*2):(a=o.abs(n.tscore(i[0],i[1])),i[2]==1?n.studentt.cdf(-a,i[1].length-1):n.studentt.cdf(-a,i[1].length-1)*2)}}),n.extend(n.fn,{tscore:function(i){return(i-this.mean())/(this.stdev(!0)/o.sqrt(this.cols()))},ttest:function(i,a){return a===1?1-n.studentt.cdf(o.abs(this.tscore(i)),this.cols()-1):n.studentt.cdf(-o.abs(this.tscore(i)),this.cols()-1)*2}}),n.extend({anovafscore:function(){var i=s.call(arguments),a,u,d,h,p,g,v,_;if(i.length===1){for(p=new Array(i[0].length),v=0;v<i[0].length;v++)p[v]=i[0][v];i=p}for(u=new Array,v=0;v<i.length;v++)u=u.concat(i[v]);for(d=n.mean(u),a=0,v=0;v<i.length;v++)a=a+i[v].length*o.pow(n.mean(i[v])-d,2);for(a/=i.length-1,g=0,v=0;v<i.length;v++)for(h=n.mean(i[v]),_=0;_<i[v].length;_++)g+=o.pow(i[v][_]-h,2);return g/=u.length-i.length,a/g},anovaftest:function(){var i=s.call(arguments),a,u,d,h;if(l(i[0]))return 1-n.centralF.cdf(i[0],i[1],i[2]);var p=n.anovafscore(i);for(a=i.length-1,d=0,h=0;h<i.length;h++)d=d+i[h].length;return u=d-a-1,1-n.centralF.cdf(p,a,u)},ftest:function(i,a,u){return 1-n.centralF.cdf(i,a,u)}}),n.extend(n.fn,{anovafscore:function(){return n.anovafscore(this.toArray())},anovaftes:function(){var i=0,a;for(a=0;a<this.length;a++)i=i+this[a].length;return n.ftest(this.anovafscore(),this.length-1,i-this.length)}}),n.extend({qscore:function(){var i=s.call(arguments),a,u,d,h,p;return l(i[0])?(a=i[0],u=i[1],d=i[2],h=i[3],p=i[4]):(a=n.mean(i[0]),u=n.mean(i[1]),d=i[0].length,h=i[1].length,p=i[2]),o.abs(a-u)/(p*o.sqrt((1/d+1/h)/2))},qtest:function(){var i=s.call(arguments),a;i.length===3?(a=i[0],i=i.slice(1)):i.length===7?(a=n.qscore(i[0],i[1],i[2],i[3],i[4]),i=i.slice(5)):(a=n.qscore(i[0],i[1],i[2]),i=i.slice(3));var u=i[0],d=i[1];return 1-n.tukey.cdf(a,d,u-d)},tukeyhsd:function(i){for(var a=n.pooledstdev(i),u=i.map(function(_){return n.mean(_)}),d=i.reduce(function(_,m){return _+m.length},0),h=[],p=0;p<i.length;++p)for(var g=p+1;g<i.length;++g){var v=n.qtest(u[p],u[g],i[p].length,i[g].length,a,d,i.length);h.push([[p,g],v])}return h}}),n.extend({normalci:function(){var i=s.call(arguments),a=new Array(2),u;return i.length===4?u=o.abs(n.normal.inv(i[1]/2,0,1)*i[2]/o.sqrt(i[3])):u=o.abs(n.normal.inv(i[1]/2,0,1)*n.stdev(i[2])/o.sqrt(i[2].length)),a[0]=i[0]-u,a[1]=i[0]+u,a},tci:function(){var i=s.call(arguments),a=new Array(2),u;return i.length===4?u=o.abs(n.studentt.inv(i[1]/2,i[3]-1)*i[2]/o.sqrt(i[3])):u=o.abs(n.studentt.inv(i[1]/2,i[2].length-1)*n.stdev(i[2],!0)/o.sqrt(i[2].length)),a[0]=i[0]-u,a[1]=i[0]+u,a},significant:function(i,a){return i<a}}),n.extend(n.fn,{normalci:function(i,a){return n.normalci(i,a,this.toArray())},tci:function(i,a){return n.tci(i,a,this.toArray())}});function f(i,a,u,d){if(i>1||u>1||i<=0||u<=0)throw new Error("Proportions should be greater than 0 and less than 1");var h=(i*a+u*d)/(a+d),p=o.sqrt(h*(1-h)*(1/a+1/d));return(i-u)/p}n.extend(n.fn,{oneSidedDifferenceOfProportions:function(i,a,u,d){var h=f(i,a,u,d);return n.ztest(h,1)},twoSidedDifferenceOfProportions:function(i,a,u,d){var h=f(i,a,u,d);return n.ztest(h,2)}})}(r,Math),r.models=function(){function n(f){var i=f[0].length,a=r.arange(i).map(function(u){var d=r.arange(i).filter(function(h){return h!==u});return o(r.col(f,u).map(function(h){return h[0]}),r.col(f,d))});return a}function o(f,i){var a=f.length,u=i[0].length-1,d=a-u-1,h=r.lstsq(i,f),p=r.multiply(i,h.map(function($){return[$]})).map(function($){return $[0]}),g=r.subtract(f,p),v=r.mean(f),_=r.sum(p.map(function($){return Math.pow($-v,2)})),m=r.sum(f.map(function($,S){return Math.pow($-p[S],2)})),y=_+m,b=_/y;return{exog:i,endog:f,nobs:a,df_model:u,df_resid:d,coef:h,predict:p,resid:g,ybar:v,SST:y,SSE:_,SSR:m,R2:b}}function s(f){var i=n(f.exog),a=Math.sqrt(f.SSR/f.df_resid),u=i.map(function(v){var _=v.SST,m=v.R2;return a/Math.sqrt(_*(1-m))}),d=f.coef.map(function(v,_){return(v-0)/u[_]}),h=d.map(function(v){var _=r.studentt.cdf(v,f.df_resid);return(_>.5?1-_:_)*2}),p=r.studentt.inv(.975,f.df_resid),g=f.coef.map(function(v,_){var m=p*u[_];return[v-m,v+m]});return{se:u,t:d,p:h,sigmaHat:a,interval95:g}}function l(f){var i=f.R2/f.df_model/((1-f.R2)/f.df_resid),a=function(d,h,p){return r.beta.cdf(d/(p/h+d),h/2,p/2)},u=1-a(i,f.df_model,f.df_resid);return{F_statistic:i,pvalue:u}}function c(f,i){var a=o(f,i),u=s(a),d=l(a),h=1-(1-a.R2)*((a.nobs-1)/a.df_resid);return a.t=u,a.f=d,a.adjust_R2=h,a}return{ols:c}}(),r.extend({buildxmatrix:function(){for(var n=new Array(arguments.length),o=0;o<arguments.length;o++){var s=[1];n[o]=s.concat(arguments[o])}return r(n)},builddxmatrix:function(){for(var n=new Array(arguments[0].length),o=0;o<arguments[0].length;o++){var s=[1];n[o]=s.concat(arguments[0][o])}return r(n)},buildjxmatrix:function(n){for(var o=new Array(n.length),s=0;s<n.length;s++)o[s]=n[s];return r.builddxmatrix(o)},buildymatrix:function(n){return r(n).transpose()},buildjymatrix:function(n){return n.transpose()},matrixmult:function(n,o){var s,l,c,f,i;if(n.cols()==o.rows()){if(o.rows()>1){for(f=[],s=0;s<n.rows();s++)for(f[s]=[],l=0;l<o.cols();l++){for(i=0,c=0;c<n.cols();c++)i+=n.toArray()[s][c]*o.toArray()[c][l];f[s][l]=i}return r(f)}for(f=[],s=0;s<n.rows();s++)for(f[s]=[],l=0;l<o.cols();l++){for(i=0,c=0;c<n.cols();c++)i+=n.toArray()[s][c]*o.toArray()[l];f[s][l]=i}return r(f)}},regress:function(n,o){var s=r.xtranspxinv(n),l=n.transpose(),c=r.matrixmult(r(s),l);return r.matrixmult(c,o)},regresst:function(n,o,s){var l=r.regress(n,o),c={};c.anova={};var f=r.jMatYBar(n,l);c.yBar=f;var i=o.mean();c.anova.residuals=r.residuals(o,f),c.anova.ssr=r.ssr(f,i),c.anova.msr=c.anova.ssr/(n[0].length-1),c.anova.sse=r.sse(o,f),c.anova.mse=c.anova.sse/(o.length-(n[0].length-1)-1),c.anova.sst=r.sst(o,i),c.anova.mst=c.anova.sst/(o.length-1),c.anova.r2=1-c.anova.sse/c.anova.sst,c.anova.r2<0&&(c.anova.r2=0),c.anova.fratio=c.anova.msr/c.anova.mse,c.anova.pvalue=r.anovaftest(c.anova.fratio,n[0].length-1,o.length-(n[0].length-1)-1),c.anova.rmse=Math.sqrt(c.anova.mse),c.anova.r2adj=1-c.anova.mse/c.anova.mst,c.anova.r2adj<0&&(c.anova.r2adj=0),c.stats=new Array(n[0].length);for(var a=r.xtranspxinv(n),u,d,h,p=0;p<l.length;p++)u=Math.sqrt(c.anova.mse*Math.abs(a[p][p])),d=Math.abs(l[p]/u),h=r.ttest(d,o.length-n[0].length-1,s),c.stats[p]=[l[p],u,d,h];return c.regress=l,c},xtranspx:function(n){return r.matrixmult(n.transpose(),n)},xtranspxinv:function(n){var o=r.matrixmult(n.transpose(),n),s=r.inv(o);return s},jMatYBar:function(n,o){var s=r.matrixmult(n,o);return new r(s)},residuals:function(n,o){return r.matrixsubtract(n,o)},ssr:function(n,o){for(var s=0,l=0;l<n.length;l++)s+=Math.pow(n[l]-o,2);return s},sse:function(n,o){for(var s=0,l=0;l<n.length;l++)s+=Math.pow(n[l]-o[l],2);return s},sst:function(n,o){for(var s=0,l=0;l<n.length;l++)s+=Math.pow(n[l]-o,2);return s},matrixsubtract:function(n,o){for(var s=new Array(n.length),l=0;l<n.length;l++){s[l]=new Array(n[l].length);for(var c=0;c<n[l].length;c++)s[l][c]=n[l][c]-o[l][c]}return r(s)}}),r.jStat=r,r})}(ss)),ss.exports}var Yb=Wb();const D=I_(Yb);var Wc={},Yc;function Xb(){return Yc||(Yc=1,function(t){(function(e){e(typeof DO_NOT_EXPORT_BESSEL>"u"?t:{})})(function(e){e.version="1.0.2";var r=Math;function n(a,u){for(var d=0,h=0;d<a.length;++d)h=u*h+a[d];return h}function o(a,u,d,h,p){if(u===0)return d;if(u===1)return h;for(var g=2/a,v=h,_=1;_<u;++_)v=h*_*g+p*d,d=h,h=v;return v}function s(a,u,d,h,p){return function(g,v){if(h){if(g===0)return h==1?-1/0:1/0;if(g<0)return NaN}if(v===0)return a(g);if(v===1)return u(g);if(v<0)return NaN;v|=0;var _=a(g),m=u(g);return o(g,v,_,m,p)}}var l=function(){var a=.636619772,u=[57568490574,-13362590354,6516196407e-1,-1121442418e-2,77392.33017,-184.9052456].reverse(),d=[57568490411,1029532985,9494680718e-3,59272.64853,267.8532712,1].reverse(),h=[1,-.001098628627,2734510407e-14,-2073370639e-15,2093887211e-16].reverse(),p=[-.01562499995,.0001430488765,-6911147651e-15,7621095161e-16,-934935152e-16].reverse();function g($){var S=0,w=0,E=0,x=$*$;if($<8)w=n(u,x),E=n(d,x),S=w/E;else{var O=$-.785398164;x=64/x,w=n(h,x),E=n(p,x),S=r.sqrt(a/$)*(r.cos(O)*w-r.sin(O)*E*8/$)}return S}var v=[72362614232,-7895059235,2423968531e-1,-2972611439e-3,15704.4826,-30.16036606].reverse(),_=[144725228442,2300535178,1858330474e-2,99447.43394,376.9991397,1].reverse(),m=[1,.00183105,-3516396496e-14,2457520174e-15,-240337019e-15].reverse(),y=[.04687499995,-.0002002690873,8449199096e-15,-88228987e-14,105787412e-15].reverse();function b($){var S=0,w=0,E=0,x=$*$,O=r.abs($)-2.356194491;return Math.abs($)<8?(w=$*n(v,x),E=n(_,x),S=w/E):(x=64/x,w=n(m,x),E=n(y,x),S=r.sqrt(a/r.abs($))*(r.cos(O)*w-r.sin(O)*E*8/r.abs($)),$<0&&(S=-S)),S}return function $(S,w){if(w=Math.round(w),!isFinite(S))return isNaN(S)?S:0;if(w<0)return(w%2?-1:1)*$(S,-w);if(S<0)return(w%2?-1:1)*$(-S,w);if(w===0)return g(S);if(w===1)return b(S);if(S===0)return 0;var E=0;if(S>w)E=o(S,w,g(S),b(S),-1);else{for(var x=2*r.floor((w+r.floor(r.sqrt(40*w)))/2),O=!1,C=0,R=0,I=1,F=0,G=2/S,j=x;j>0;j--)F=j*G*I-C,C=I,I=F,r.abs(I)>1e10&&(I*=1e-10,C*=1e-10,E*=1e-10,R*=1e-10),O&&(R+=I),O=!O,j==w&&(E=C);R=2*R-I,E/=R}return E}}(),c=function(){var a=.636619772,u=[-2957821389,7062834065,-5123598036e-1,1087988129e-2,-86327.92757,228.4622733].reverse(),d=[40076544269,7452499648e-1,7189466438e-3,47447.2647,226.1030244,1].reverse(),h=[1,-.001098628627,2734510407e-14,-2073370639e-15,2093887211e-16].reverse(),p=[-.01562499995,.0001430488765,-6911147651e-15,7621095161e-16,-934945152e-16].reverse();function g($){var S=0,w=0,E=0,x=$*$,O=$-.785398164;return $<8?(w=n(u,x),E=n(d,x),S=w/E+a*l($,0)*r.log($)):(x=64/x,w=n(h,x),E=n(p,x),S=r.sqrt(a/$)*(r.sin(O)*w+r.cos(O)*E*8/$)),S}var v=[-4900604943e3,127527439e4,-51534381390,7349264551e-1,-4237922726e-3,8511.937935].reverse(),_=[249958057e5,424441966400,3733650367,2245904002e-2,102042.605,354.9632885,1].reverse(),m=[1,.00183105,-3516396496e-14,2457520174e-15,-240337019e-15].reverse(),y=[.04687499995,-.0002002690873,8449199096e-15,-88228987e-14,105787412e-15].reverse();function b($){var S=0,w=0,E=0,x=$*$,O=$-2.356194491;return $<8?(w=$*n(v,x),E=n(_,x),S=w/E+a*(l($,1)*r.log($)-1/$)):(x=64/x,w=n(m,x),E=n(y,x),S=r.sqrt(a/$)*(r.sin(O)*w+r.cos(O)*E*8/$)),S}return s(g,b,"BESSELY",1,-1)}(),f=function(){var a=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),u=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse();function d(v){return v<=3.75?n(a,v*v/(3.75*3.75)):r.exp(r.abs(v))/r.sqrt(r.abs(v))*n(u,3.75/r.abs(v))}var h=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),p=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse();function g(v){return v<3.75?v*n(h,v*v/(3.75*3.75)):(v<0?-1:1)*r.exp(r.abs(v))/r.sqrt(r.abs(v))*n(p,3.75/r.abs(v))}return function v(_,m){if(m=Math.round(m),m===0)return d(_);if(m===1)return g(_);if(m<0)return NaN;if(r.abs(_)===0)return 0;if(_==1/0)return 1/0;var y=0,b,$=2/r.abs(_),S=0,w=1,E=0,x=2*r.round((m+r.round(r.sqrt(40*m)))/2);for(b=x;b>0;b--)E=b*$*w+S,S=w,w=E,r.abs(w)>1e10&&(w*=1e-10,S*=1e-10,y*=1e-10),b==m&&(y=S);return y*=v(_,0)/w,_<0&&m%2?-y:y}}(),i=function(){var a=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),u=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse();function d(v){return v<=2?-r.log(v/2)*f(v,0)+n(a,v*v/4):r.exp(-v)/r.sqrt(v)*n(u,2/v)}var h=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),p=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();function g(v){return v<=2?r.log(v/2)*f(v,1)+1/v*n(h,v*v/4):r.exp(-v)/r.sqrt(v)*n(p,2/v)}return s(d,g,"BESSELK",2,1)}();e.besselj=l,e.bessely=c,e.besseli=f,e.besselk=i})}(Wc)),Wc}Xb();const Kb=new Error("#NULL!"),An=new Error("#DIV/0!"),A=new Error("#VALUE!"),Vb=new Error("#REF!"),Zb=new Error("#NAME?"),H=new Error("#NUM!"),Z=new Error("#N/A"),Jb=new Error("#GETTING_DATA");function Kd(t){const e=[];return Vd(t,r=>{e.push(r)}),e}function Vd(t,e){let r=-1;const n=t.length;for(;++r<n&&e(t[r],r,t)!==!1;);return t}function N(){let t;if(arguments.length===1){const e=arguments[0];t=t$(e)?Kd.apply(null,arguments):[e]}else t=Array.from(arguments);for(;!e$(t);)t=Qb(t);return t}function Qb(t){return!t||!t.reduce?[t]:t.reduce((e,r)=>{const n=Array.isArray(e),o=Array.isArray(r);return n&&o?e.concat(r):n?(e.push(r),e):o?[e].concat(r):[e,r]})}function t$(t){return t!=null&&typeof t.length=="number"&&typeof t!="string"}function e$(t){if(!t)return!1;for(let e=0;e<t.length;++e)if(Array.isArray(t[e]))return!1;return!0}function se(){for(let t=0;t<arguments.length;t++)if(arguments[t]instanceof Error)return arguments[t]}function L(){let t=arguments.length;for(;t--;)if(arguments[t]instanceof Error)return!0;return!1}function Zd(t){return Math.round(t*1e14)/1e14}function Re(){return N.apply(null,arguments).filter(t=>typeof t=="number")}function n$(t){t<60&&(t+=1);const e=Math.floor(t-25569)*86400,r=new Date(e*1e3),n=t-Math.floor(t)+1e-7;let o=Math.floor(86400*n);const s=o%60;o-=s;const l=Math.floor(o/(60*60)),c=Math.floor(o/60)%60;let f=r.getUTCDate(),i=r.getUTCMonth();return t>=60&&t<61&&(f=29,i=1),new Date(r.getUTCFullYear(),i,f,l,c,s)}function pe(t){if(!isNaN(t)){if(t instanceof Date)return new Date(t);const e=parseFloat(t);return e<0||e>=2958466?H:n$(e)}return typeof t=="string"&&(t=/(\d{4})-(\d\d?)-(\d\d?)$/.test(t)?new Date(t+"T00:00:00.000"):new Date(t),!isNaN(t))?t:A}function T(t){return t instanceof Error?t:t==null?0:(typeof t=="boolean"&&(t=+t),!isNaN(t)&&t!==""?parseFloat(t):A)}function q(t){let e;if(!t||(e=t.length)===0)return A;let r;for(;e--;){if(t[e]instanceof Error)return t[e];if(r=T(t[e]),r instanceof Error)return r;t[e]=r}return t}function r$(t){return t!=null}const o$={};o$.TYPE=t=>{switch(t){case Kb:return 1;case An:return 2;case A:return 3;case Vb:return 4;case Zb:return 5;case H:return 6;case Z:return 7;case Jb:return 8}return Z};function Jd(){const t=[];for(let e=0;e<arguments.length;++e){let r=!1;const n=arguments[e];for(let o=0;o<t.length&&(r=t[o]===n,!r);++o);r||t.push(n)}return t}function V(t){return t instanceof Error||typeof t=="string"?t:""}function Gs(){const t=N(arguments).filter(r$);if(t.length===0)return An;const e=se.apply(void 0,t);if(e)return e;const r=Re(t),n=r.length;let o=0,s=0,l;for(let c=0;c<n;c++)o+=r[c],s+=1;return l=o/s,isNaN(l)&&(l=H),l}const Dn={};Dn.DIST=function(t,e,r,n,o,s){return arguments.length<4||(o=o===void 0?0:o,s=s===void 0?1:s,t=T(t),e=T(e),r=T(r),o=T(o),s=T(s),L(t,e,r,o,s))?A:(t=(t-o)/(s-o),n?D.beta.cdf(t,e,r):D.beta.pdf(t,e,r))};Dn.INV=(t,e,r,n,o)=>(n=n===void 0?0:n,o=o===void 0?1:o,t=T(t),e=T(e),r=T(r),n=T(n),o=T(o),L(t,e,r,n,o)?A:D.beta.inv(t,e,r)*(o-n)+n);const Pe={};Pe.DIST=(t,e,r,n)=>(t=T(t),e=T(e),r=T(r),n=T(n),L(t,e,r,n)?A:n?D.binomial.cdf(t,e,r):D.binomial.pdf(t,e,r));Pe.DIST.RANGE=(t,e,r,n)=>{if(n=n===void 0?r:n,t=T(t),e=T(e),r=T(r),n=T(n),L(t,e,r,n))return A;let o=0;for(let s=r;s<=n;s++)o+=Qe(t,s)*Math.pow(e,s)*Math.pow(1-e,t-s);return o};Pe.INV=(t,e,r)=>{if(t=T(t),e=T(e),r=T(r),L(t,e,r))return A;let n=0;for(;n<=t;){if(D.binomial.cdf(n,t,e)>=r)return n;n++}};const ht={};ht.DIST=(t,e,r)=>(t=T(t),e=T(e),L(t,e)?A:r?D.chisquare.cdf(t,e):D.chisquare.pdf(t,e));ht.DIST.RT=(t,e)=>!t|!e?Z:t<1||e>Math.pow(10,10)?H:typeof t!="number"||typeof e!="number"?A:1-D.chisquare.cdf(t,e);ht.INV=(t,e)=>(t=T(t),e=T(e),L(t,e)?A:D.chisquare.inv(t,e));ht.INV.RT=(t,e)=>!t|!e?Z:t<0||t>1||e<1||e>Math.pow(10,10)?H:typeof t!="number"||typeof e!="number"?A:D.chisquare.inv(1-t,e);ht.TEST=function(t,e){if(arguments.length!==2)return Z;if(!(t instanceof Array)||!(e instanceof Array)||t.length!==e.length||t[0]&&e[0]&&t[0].length!==e[0].length)return A;const r=t.length;let n,o,s;for(o=0;o<r;o++)t[o]instanceof Array||(n=t[o],t[o]=[],t[o].push(n)),e[o]instanceof Array||(n=e[o],e[o]=[],e[o].push(n));const l=t[0].length,c=l===1?r-1:(r-1)*(l-1);let f=0;const i=Math.PI;for(o=0;o<r;o++)for(s=0;s<l;s++)f+=Math.pow(t[o][s]-e[o][s],2)/e[o][s];function a(u,d){let h=Math.exp(-.5*u);d%2===1&&(h=h*Math.sqrt(2*u/i));let p=d;for(;p>=2;)h=h*u/p,p=p-2;let g=h,v=d;for(;g>1e-10*h;)v=v+2,g=g*u/v,h=h+g;return 1-h}return Math.round(a(f,c)*1e6)/1e6};const Qd={};Qd.NORM=(t,e,r)=>(t=T(t),e=T(e),r=T(r),L(t,e,r)?A:D.normalci(1,t,e,r)[1]-1);Qd.T=(t,e,r)=>(t=T(t),e=T(e),r=T(r),L(t,e,r)?A:D.tci(1,t,e,r)[1]-1);const Le={};Le.P=(t,e)=>{if(t=q(N(t)),e=q(N(e)),L(t,e))return A;const r=D.mean(t),n=D.mean(e);let o=0;const s=t.length;for(let l=0;l<s;l++)o+=(t[l]-r)*(e[l]-n);return o/s};Le.S=(t,e)=>(t=q(N(t)),e=q(N(e)),L(t,e)?A:D.covariance(t,e));const th={};th.DIST=(t,e,r)=>(t=T(t),e=T(e),L(t,e)?A:r?D.exponential.cdf(t,e):D.exponential.pdf(t,e));const pt={};pt.DIST=(t,e,r,n)=>(t=T(t),e=T(e),r=T(r),L(t,e,r)?A:n?D.centralF.cdf(t,e,r):D.centralF.pdf(t,e,r));pt.DIST.RT=function(t,e,r){return arguments.length!==3?Z:t<0||e<1||r<1?H:typeof t!="number"||typeof e!="number"||typeof r!="number"?A:1-D.centralF.cdf(t,e,r)};pt.INV=(t,e,r)=>(t=T(t),e=T(e),r=T(r),L(t,e,r)?A:t<=0||t>1?H:D.centralF.inv(t,e,r));pt.INV.RT=function(t,e,r){return arguments.length!==3?Z:t<0||t>1||e<1||e>Math.pow(10,10)||r<1||r>Math.pow(10,10)?H:typeof t!="number"||typeof e!="number"||typeof r!="number"?A:D.centralF.inv(1-t,e,r)};pt.TEST=(t,e)=>{if(!t||!e||!(t instanceof Array)||!(e instanceof Array))return Z;if(t.length<2||e.length<2)return An;const r=(c,f)=>{let i=0;for(let a=0;a<c.length;a++)i+=Math.pow(c[a]-f,2);return i},n=as(t)/t.length,o=as(e)/e.length,s=r(t,n)/(t.length-1),l=r(e,o)/(e.length-1);return s/l};function Rn(t){return t=T(t),t instanceof Error?t:t===0||parseInt(t,10)===t&&t<0?H:D.gammafn(t)}Rn.DIST=function(t,e,r,n){return arguments.length!==4?Z:t<0||e<=0||r<=0||typeof t!="number"||typeof e!="number"||typeof r!="number"?A:n?D.gamma.cdf(t,e,r,!0):D.gamma.pdf(t,e,r,!1)};Rn.INV=function(t,e,r){return arguments.length!==3?Z:t<0||t>1||e<=0||r<=0?H:typeof t!="number"||typeof e!="number"||typeof r!="number"?A:D.gamma.inv(t,e,r)};function eh(t){return t=T(t),t instanceof Error?t:D.gammaln(t)}eh.PRECISE=function(t){return arguments.length!==1?Z:t<=0?H:typeof t!="number"?A:D.gammaln(t)};const nh={};nh.DIST=(t,e,r,n,o)=>{if(t=T(t),e=T(e),r=T(r),n=T(n),L(t,e,r,n))return A;function s(c,f,i,a){return Qe(i,c)*Qe(a-i,f-c)/Qe(a,f)}function l(c,f,i,a){let u=0;for(let d=0;d<=c;d++)u+=s(d,f,i,a);return u}return o?l(t,e,r,n):s(t,e,r,n)};const Me={};Me.DIST=(t,e,r,n)=>(t=T(t),e=T(e),r=T(r),L(t,e,r)?A:n?D.lognormal.cdf(t,e,r):D.lognormal.pdf(t,e,r));Me.INV=(t,e,r)=>(t=T(t),e=T(e),r=T(r),L(t,e,r)?A:D.lognormal.inv(t,e,r));const Ee={};Ee.MULT=function(){const t=q(N(arguments));if(t instanceof Error)return t;const e=t.length,r={};let n=[],o=0,s;for(let l=0;l<e;l++)s=t[l],r[s]=r[s]?r[s]+1:1,r[s]>o&&(o=r[s],n=[]),r[s]===o&&(n[n.length]=s);return n};Ee.SNGL=function(){const t=q(N(arguments));return t instanceof Error?t:Ee.MULT(t).sort((e,r)=>e-r)[0]};const rh={};rh.DIST=(t,e,r,n)=>(t=T(t),e=T(e),r=T(r),L(t,e,r)?A:n?D.negbin.cdf(t,e,r):D.negbin.pdf(t,e,r));const gt={};gt.DIST=(t,e,r,n)=>(t=T(t),e=T(e),r=T(r),L(t,e,r)?A:r<=0?H:n?D.normal.cdf(t,e,r):D.normal.pdf(t,e,r));gt.INV=(t,e,r)=>(t=T(t),e=T(e),r=T(r),L(t,e,r)?A:D.normal.inv(t,e,r));gt.S={};gt.S.DIST=(t,e)=>(t=T(t),t instanceof Error?A:e?D.normal.cdf(t,0,1):D.normal.pdf(t,0,1));gt.S.INV=t=>(t=T(t),t instanceof Error?A:D.normal.inv(t,0,1));const ut={};ut.EXC=(t,e)=>{if(t=q(N(t)),e=T(e),L(t,e))return A;t=t.sort((s,l)=>s-l);const r=t.length;if(e<1/(r+1)||e>1-1/(r+1))return H;const n=e*(r+1)-1,o=Math.floor(n);return Zd(n===o?t[n]:t[o]+(n-o)*(t[o+1]-t[o]))};ut.INC=(t,e)=>{if(t=q(N(t)),e=T(e),L(t,e))return A;t=t.sort((s,l)=>s-l);const r=t.length,n=e*(r-1),o=Math.floor(n);return Zd(n===o?t[n]:t[o]+(n-o)*(t[o+1]-t[o]))};const Pn={};Pn.EXC=(t,e,r)=>{if(r=r===void 0?3:r,t=q(N(t)),e=T(e),r=T(r),L(t,e,r))return A;t=t.sort((a,u)=>a-u);const n=Jd.apply(null,t),o=t.length,s=n.length,l=Math.pow(10,r);let c=0,f=!1,i=0;for(;!f&&i<s;)e===n[i]?(c=(t.indexOf(n[i])+1)/(o+1),f=!0):e>=n[i]&&(e<n[i+1]||i===s-1)&&(c=(t.indexOf(n[i])+1+(e-n[i])/(n[i+1]-n[i]))/(o+1),f=!0),i++;return Math.floor(c*l)/l};Pn.INC=(t,e,r)=>{if(r=r===void 0?3:r,t=q(N(t)),e=T(e),r=T(r),L(t,e,r))return A;t=t.sort((a,u)=>a-u);const n=Jd.apply(null,t),o=t.length,s=n.length,l=Math.pow(10,r);let c=0,f=!1,i=0;for(;!f&&i<s;)e===n[i]?(c=t.indexOf(n[i])/(o-1),f=!0):e>=n[i]&&(e<n[i+1]||i===s-1)&&(c=(t.indexOf(n[i])+(e-n[i])/(n[i+1]-n[i]))/(o-1),f=!0),i++;return Math.floor(c*l)/l};const oh={};oh.DIST=(t,e,r)=>(t=T(t),e=T(e),L(t,e)?A:r?D.poisson.cdf(t,e):D.poisson.pdf(t,e));const Ln={};Ln.EXC=(t,e)=>{if(t=q(Re(N(t))),e=T(e),L(t,e))return A;switch(e){case 1:return ut.EXC(t,.25);case 2:return ut.EXC(t,.5);case 3:return ut.EXC(t,.75);default:return H}};Ln.INC=(t,e)=>{if(t=q(Re(N(t))),e=T(e),L(t,e))return A;switch(e){case 1:return ut.INC(t,.25);case 2:return ut.INC(t,.5);case 3:return ut.INC(t,.75);default:return H}};const Mn={};Mn.AVG=(t,e,r)=>{if(t=T(t),e=q(N(e)),L(t,e))return A;e=N(e),r=r||!1;const n=r?(l,c)=>l-c:(l,c)=>c-l;e=e.sort(n);const o=e.length;let s=0;for(let l=0;l<o;l++)e[l]===t&&s++;return s>1?(2*e.indexOf(t)+s+1)/2:e.indexOf(t)+1};Mn.EQ=(t,e,r)=>{if(t=T(t),e=q(N(e)),L(t,e))return A;r=r||!1;const n=r?(o,s)=>o-s:(o,s)=>s-o;return e=e.sort(n),e.indexOf(t)+1};function ih(){const t=q(N(arguments));if(t instanceof Error)return t;const e=D.mean(t),r=t.length;let n=0;for(let o=0;o<r;o++)n+=Math.pow(t[o]-e,3);return r*n/((r-1)*(r-2)*Math.pow(D.stdev(t,!0),3))}ih.P=function(){const t=q(N(arguments));if(t instanceof Error)return t;const e=D.mean(t),r=t.length;let n=0,o=0;for(let s=0;s<r;s++)o+=Math.pow(t[s]-e,3),n+=Math.pow(t[s]-e,2);return o=o/r,n=n/r,o/Math.pow(n,3/2)};const je={};je.P=function(){const t=ae.P.apply(this,arguments);let e=Math.sqrt(t);return isNaN(e)&&(e=H),e};je.S=function(){const t=ae.S.apply(this,arguments);return Math.sqrt(t)};V.DIST=(t,e,r)=>r!==1&&r!==2?H:r===1?V.DIST.RT(t,e):V.DIST["2T"](t,e);V.DIST["2T"]=function(t,e){return arguments.length!==2?Z:t<0||e<1?H:typeof t!="number"||typeof e!="number"?A:(1-D.studentt.cdf(t,e))*2};V.DIST.RT=function(t,e){return arguments.length!==2?Z:t<0||e<1?H:typeof t!="number"||typeof e!="number"?A:1-D.studentt.cdf(t,e)};V.INV=(t,e)=>(t=T(t),e=T(e),L(t,e)?A:D.studentt.inv(t,e));V.INV["2T"]=(t,e)=>(t=T(t),e=T(e),t<=0||t>1||e<1?H:L(t,e)?A:Math.abs(D.studentt.inv(t/2,e)));V.TEST=(t,e)=>{if(t=q(N(t)),e=q(N(e)),L(t,e))return A;const r=D.mean(t),n=D.mean(e);let o=0,s=0,l;for(l=0;l<t.length;l++)o+=Math.pow(t[l]-r,2);for(l=0;l<e.length;l++)s+=Math.pow(e[l]-n,2);o=o/(t.length-1),s=s/(e.length-1);const c=Math.abs(r-n)/Math.sqrt(o/t.length+s/e.length);return V.DIST["2T"](c,t.length+e.length-2)};const ae={};ae.P=function(){const t=Re(N(arguments)),e=t.length;let r=0;const n=Gs(t);let o;for(let s=0;s<e;s++)r+=Math.pow(t[s]-n,2);return o=r/e,isNaN(o)&&(o=H),o};ae.S=function(){const t=Re(N(arguments)),e=t.length;let r=0;const n=Gs(t);for(let o=0;o<e;o++)r+=Math.pow(t[o]-n,2);return r/(e-1)};const sh={};sh.DIST=(t,e,r,n)=>(t=T(t),e=T(e),r=T(r),L(t,e,r)?A:n?1-Math.exp(-Math.pow(t/r,e)):Math.pow(t,e-1)*Math.exp(-Math.pow(t/r,e))*e/Math.pow(r,e));const ah={};ah.TEST=(t,e,r)=>{if(t=q(N(t)),e=T(e),L(t,e))return A;r=r||je.S(t);const n=t.length;return 1-gt.S.DIST((Gs(t)-e)/(r/Math.sqrt(n)),!0)};function xe(t,e){return t=T(t),e=T(e),se(t,e)||(e===0?0:t>0&&e<0?H:Math.ceil(t/e)*e)}xe.MATH=(t,e,r=0)=>(e===void 0&&(e=t>0?1:-1),t=T(t),e=T(e),r=T(r),se(t,e,r)||(e===0?0:(e=Math.abs(e),r===0||t>0?Math.ceil(t/e)*e:Math.floor(t/e)*e)));xe.PRECISE=(t,e)=>xe.MATH(t,e);function Qe(t,e){return t=T(t),e=T(e),se(t,e)||(t<e?H:tn(t)/(tn(e)*tn(t-e)))}const xi=[];function tn(t){if(t=T(t),t instanceof Error)return t;const e=Math.floor(t);return e===0||e===1?1:(xi[e]>0||(xi[e]=tn(e-1)*e),xi[e])}function Te(t,e){return t=T(t),e=T(e),se(t,e)||(e?t>0&&e<0?H:Math.floor(t/e)*e:An)}Te.MATH=(t,e=1,r=0)=>(t=T(t),e=T(e),r=T(r),se(t,e,r)||(e===0?0:(e=Math.abs(e),r===0||t>0?Math.floor(t/e)*e:Math.ceil(t/e)*e)));Te.PRECISE=(t,e)=>Te.MATH(t,e);function as(){let t=0;return Vd(Kd(arguments),e=>{if(t instanceof Error)return!1;if(e instanceof Error)t=e;else if(typeof e=="number")t+=e;else if(typeof e=="string"){const r=parseFloat(e);!isNaN(r)&&(t+=r)}else if(Array.isArray(e)){const r=as.apply(null,e);r instanceof Error?t=r:t+=r}}),t}const vn=[[],[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],void 0,void 0,void 0,[0,0],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]];function Ws(t,e,r){return Ws.INTL(t,e,1,r)}Ws.INTL=(t,e,r,n)=>{if(t=pe(t),t instanceof Error)return t;if(e=pe(e),e instanceof Error)return e;let o=!1;const s=[],l=[1,2,3,4,5,6,0],c=new RegExp("^[0|1]{7}$");if(r===void 0)r=vn[1];else if(typeof r=="string"&&c.test(r)){o=!0,r=r.split("");for(let u=0;u<r.length;u++)r[u]==="1"&&s.push(l[u])}else r=vn[r];if(!(r instanceof Array))return A;n===void 0?n=[]:n instanceof Array||(n=[n]);for(let u=0;u<n.length;u++){const d=pe(n[u]);if(d instanceof Error)return d;n[u]=d}const f=Math.round((e-t)/(1e3*60*60*24))+1;let i=f;const a=t;for(let u=0;u<f;u++){const d=new Date().getTimezoneOffset()>0?a.getUTCDay():a.getDay();let h=o?s.includes(d):d===r[0]||d===r[1];for(let p=0;p<n.length;p++){const g=n[p];if(g.getDate()===a.getDate()&&g.getMonth()===a.getMonth()&&g.getFullYear()===a.getFullYear()){h=!0;break}}h&&i--,a.setDate(a.getDate()+1)}return i};function Ys(t,e,r){return Ys.INTL(t,e,1,r)}Ys.INTL=(t,e,r,n)=>{if(t=pe(t),t instanceof Error)return t;if(e=T(e),e instanceof Error)return e;if(r===void 0?r=vn[1]:r=vn[r],!(r instanceof Array))return A;n===void 0?n=[]:n instanceof Array||(n=[n]);for(let l=0;l<n.length;l++){const c=pe(n[l]);if(c instanceof Error)return c;n[l]=c}let o=0;const s=Math.sign(e);for(;o<e*s;){t.setDate(t.getDate()+s);const l=t.getDay();if(!(l===r[0]||l===r[1])){for(let c=0;c<n.length;c++){const f=n[c];if(f.getDate()===t.getDate()&&f.getMonth()===t.getMonth()&&f.getFullYear()===t.getFullYear()){o--;break}}o++}}return t.getFullYear()<1900?A:t};function uh(t,e){return e=e===void 0?0:e,t=T(t),e=T(e),L(t,e)?A:D.erf(t)}uh.PRECISE=()=>{throw new Error("ERF.PRECISE is not implemented")};function lh(t){return isNaN(t)?A:D.erfc(t)}lh.PRECISE=()=>{throw new Error("ERFC.PRECISE is not implemented")};Dn.DIST;Dn.INV;Pe.DIST;xe.MATH;xe.PRECISE;ht.DIST;ht.DIST.RT;ht.INV;ht.INV.RT;ht.TEST;Le.P;Le.P;Le.S;Pe.INV;lh.PRECISE;uh.PRECISE;th.DIST;pt.DIST;pt.DIST.RT;pt.INV;pt.INV.RT;Te.MATH;Te.PRECISE;pt.TEST;Rn.DIST;Rn.INV;eh.PRECISE;nh.DIST;Me.INV;Me.DIST;Me.INV;Ee.MULT;Ee.SNGL;rh.DIST;Ws.INTL;gt.DIST;gt.INV;gt.S.DIST;gt.S.INV;ut.EXC;ut.INC;Pn.EXC;Pn.INC;oh.DIST;Ln.EXC;Ln.INC;Mn.AVG;Mn.EQ;ih.P;je.P;je.S;V.DIST;V.DIST.RT;V.INV;V.TEST;ae.P;ae.S;sh.DIST;Ys.INTL;ah.TEST;const i$="date",s$=["equals","before","after","onOrBefore","onOrAfter","between","notEqual","isEmpty","isNotEmpty","today","yesterday","last7Days","thisMonth","lastMonth","thisQuarter","nextQuarter","previousQuarter","thisYear","nextYear","previousYear"];function a$(){const t=new Date;return t.setHours(0,0,0,0),t}function u$(){const t=new Date;return t.setDate(t.getDate()-1),t.setHours(0,0,0,0),t}function l$(){const t=new Date;return t.setDate(1),t.setHours(0,0,0,0),t}function c$(){const t=new Date;return t.setMonth(t.getMonth()-1),t.setDate(1),t.setHours(0,0,0,0),t}function Ti(){const t=new Date,e=Math.floor(t.getMonth()/3)*3;return t.setMonth(e),t.setDate(1),t.setHours(0,0,0,0),t}function Oi(){const t=new Date;return t.setMonth(0),t.setDate(1),t.setHours(0,0,0,0),t}function Xc(t,e){if(!e||!e.operator||!t&&e.operator==="isEmpty")return!0;if(!t&&e.operator==="isNotEmpty"||!t)return!1;const r=new Date(t),n=a$(),o=u$();switch(e.operator){case"equals":return e.fromDate?r.toDateString()===new Date(e.fromDate).toDateString():!0;case"before":return e.fromDate?r<new Date(e.fromDate):!0;case"after":return e.fromDate?r>new Date(e.fromDate):!0;case"onOrBefore":return e.fromDate?r<=new Date(e.fromDate):!0;case"onOrAfter":return e.fromDate?r>=new Date(e.fromDate):!0;case"notEqual":return e.fromDate?r.toDateString()!==new Date(e.fromDate).toDateString():!0;case"today":return r>=n&&r<new Date(n.getTime()+24*60*60*1e3);case"between":return!e.fromDate||!e.toDate?!0:r>=new Date(e.fromDate)&&r<=new Date(e.toDate);case"yesterday":return r>=o&&r<n;case"last7Days":{const s=new Date;return s.setDate(s.getDate()-7),r>=s&&r<=n}case"thisMonth":return r>=l$()&&r<=new Date;case"lastMonth":{const s=c$(),l=new Date(s);return l.setMonth(l.getMonth()+1),r>=s&&r<l}case"thisQuarter":{const s=Ti(),l=new Date(s);return l.setMonth(l.getMonth()+3),r>=s&&r<l}case"nextQuarter":{const s=Ti();s.setMonth(s.getMonth()+3);const l=new Date(s);return l.setMonth(l.getMonth()+3),r>=s&&r<l}case"previousQuarter":{const s=Ti();s.setMonth(s.getMonth()-3);const l=new Date(s);return l.setMonth(l.getMonth()+3),r>=s&&r<l}case"thisYear":{const s=Oi(),l=new Date(s);return l.setFullYear(l.getFullYear()+1),r>=s&&r<l}case"nextYear":{const s=Oi();s.setFullYear(s.getFullYear()+1);const l=new Date(s);return l.setFullYear(l.getFullYear()+1),r>=s&&r<l}case"previousYear":{const s=Oi();s.setFullYear(s.getFullYear()-1);const l=new Date(s);return l.setFullYear(l.getFullYear()),r>=s&&r<l}default:return!0}}function f$(t){switch(t){case"equals":case"before":case"after":case"onOrBefore":case"onOrAfter":case"notEqual":return"datepicker";case"between":return(e,r)=>{let{fromDate:n,toDate:o}=r.value;return e("div",{class:"flex flex-row gap-2"},[e("input",{type:"date",placeholder:"From",onInput:s=>{s.target instanceof HTMLInputElement&&(n=s.target.value,r.onInput({fromDate:s.target.value,toDate:o}))}}),e("input",{type:"date",placeholder:"To",onInput:s=>{s.target instanceof HTMLInputElement&&(o=s.target.value,r.onInput({fromDate:n,toDate:o}))}})])};default:return}}s$.reduce((t,e)=>{const r=function(n,o){return e==="between"?Xc(n,{operator:e,...o}):Xc(n,{operator:e,fromDate:o})};return r.extra=f$(e),t[e]={columnFilterType:i$,name:e,func:r},t},{});class d$ extends B_{constructor(e,r){var n;super(e,r),fe(this,"undoStack",[]),fe(this,"redoStack",[]),fe(this,"maxStackSize",200),fe(this,"disabled",!1),(n=e.additionalData)!=null&&n.history&&(this.undoStack=e.additionalData.history.undoStack,this.redoStack=e.additionalData.history.redoStack,this.maxStackSize=e.additionalData.history.maxStackSize,this.disabled=e.additionalData.history.disabled),this.addEventListener(k_,o=>{const{detail:s}=o;s.history?(this.undoStack=s.history.undoStack,this.redoStack=s.history.redoStack,this.maxStackSize=s.history.maxStackSize,this.disabled=s.history.disabled):this.disabled=!0}),this.addEventListener(F_,o=>{if(this.disabled)return;const{detail:s}=o;this.undoStack.push(s),this.undoStack.length>this.maxStackSize&&this.undoStack.shift(),this.redoStack=[]}),this.addEventListener(z_,({detail:{original:o,focus:s}})=>{if(this.disabled||!s)return;const{ctrlKey:l,metaKey:c,key:f}=o,i=(l||c)&&f.toLowerCase()==="z"&&!o.shiftKey,a=(l||c)&&(f.toLowerCase()==="y"||f.toLowerCase()==="z"&&o.shiftKey);i?(o.preventDefault(),this.undo()):a&&(o.preventDefault(),this.redo())})}clear(){this.undoStack=[],this.redoStack=[]}disable(e=!0){this.disabled=e}undo(){if(this.undoStack.length===0)return;const e=this.undoStack.pop();if(e){const r=this.emit(N_,{data:{...e.previousData},type:e.type,lastChange:e});if(r.defaultPrevented)return;const n=r.detail.data||e.previousData,o=r.detail.type||e.type;this.emit(cu,r.detail),this.providers.data.setRangeData(n,o),this.redoStack.push(e),this.redoStack.length>this.maxStackSize&&this.redoStack.shift()}}redo(){if(this.redoStack.length===0)return;const e=this.redoStack.pop();if(e){const r=this.emit(H_,{data:e.data,type:e.type,lastChange:e});if(r.defaultPrevented)return;const n=r.detail.data||e.data,o=r.detail.type||e.type;this.emit(cu,r.detail),this.providers.data.setRangeData(n,o),this.undoStack.push(e),this.undoStack.length>this.maxStackSize&&this.undoStack.shift()}}}var Ci,Kc;function h$(){if(Kc)return Ci;Kc=1;var t=Ae();function e(r,n,o){for(var s=-1,l=r.length;++s<l;){var c=r[s],f=n(c);if(f!=null&&(i===void 0?f===f&&!t(f):o(f,i)))var i=f,a=c}return a}return Ci=e,Ci}var Ii,Vc;function p$(){if(Vc)return Ii;Vc=1;function t(e,r){return e<r}return Ii=t,Ii}var Ai,Zc;function g$(){if(Zc)return Ai;Zc=1;var t=h$(),e=p$(),r=js();function n(o){return o&&o.length?t(o,r,e):void 0}return Ai=n,Ai}g$();var Di,Jc;function v$(){if(Jc)return Di;Jc=1;var t=Fs();function e(r,n){return t(r,n)}return Di=e,Di}v$();const m$=Qc({components:{RevoGrid:T_},props:{fetchData:{type:Function,required:!0},updateData:{type:Function,required:!0},columnHeaders:{type:Array,default:()=>[]},rowHeaderLabel:{type:String,default:"Row"},rowHeaderWidth:{type:Number,default:270}},setup(t){const e=Lt([]),r=Lt([]),n=32,o=ge(()=>r.value.length*n+55+"px"),s=Lt([d$]),l=Lt();return gh(()=>t.columnHeaders,async()=>{const{data:i,keys:a}=await t.fetchData();e.value=[{prop:"rowHeader",name:t.rowHeaderLabel,size:t.rowHeaderWidth,readonly:!0,resizable:!0},...t.columnHeaders.map((u,d)=>({prop:`col${d}`,name:u,size:130,resizable:!0}))],r.value=i.map((u,d)=>{const h={rowHeader:a[d]};return u.forEach((p,g)=>{h[`col${g}`]=p}),h})},{immediate:!0}),{gridColumns:e,gridSource:r,handleEdit:async i=>{const a=r.value.map(u=>t.columnHeaders.map((d,h)=>u[`col${h}`]));await t.updateData(a)},tableHeight:o,rowHeight:n,plugins:s,grid:l}}});function _$(t,e,r,n,o,s){const l=Ge("RevoGrid");return nt(),xt("div",null,[Yt(l,{ref:"grid",columns:t.gridColumns,source:t.gridSource,readonly:!1,onAfteredit:t.handleEdit,class:"hot-table",theme:"material",range:!0,rowHeaders:!1,rowSize:t.rowHeight,style:vh({height:t.tableHeight}),plugins:t.plugins,hideAttribution:!0},null,8,["columns","source","onAfteredit","rowSize","style","plugins"])])}const ch=tf(m$,[["render",_$]]),y$={__name:"ControlParameters",setup(t){const e=us(),r=ge(()=>e.currentExperiment||{});function n(){const s=r.value.parameters.cultures;if(!s)return{data:[],keys:[]};const l=Object.keys(s[1]||{}),c=["name","description","volume_vial","pump1_stock_drug_concentration","pump2_stock_drug_concentration","dose_initialization","dilution_factor","od_dilution_threshold","delay_dilution_max_hours","dilution_number_first_drug_addition","dose_first_drug_addition","dose_increase_factor","dose_increase_amount","delay_stress_increase_min_generations","threshold_od_min_increase_stress","threshold_growth_rate_increase_stress","threshold_growth_rate_decrease_stress"],i=(u=>{const d=new Set(c),h=c.filter(g=>u.includes(g)),p=u.filter(g=>!d.has(g)).sort();return[...h,...p]})(l);return{data:i.map(u=>Object.keys(s).map(d=>s[d][u])),keys:i}}async function o(s){var i,a;const{keys:l}=n(),c=Object.keys(r.value.parameters.cultures),f=l;for(let u=0;u<c.length;u++)for(let d=0;d<f.length;d++)r.value.parameters.cultures[c[u]][f[d]]=s[d][u];if(e.updateExperimentParameters)try{await e.updateExperimentParameters({experimentId:r.value.id,parameters:r.value.parameters}),Jt("Control parameters updated",{type:"success"})}catch(u){let d="Failed to update parameters";(a=(i=u==null?void 0:u.response)==null?void 0:i.data)!=null&&a.detail?d+=": "+u.response.data.detail:u!=null&&u.message&&(d+=": "+u.message),Jt(d,{type:"error"})}}return(s,l)=>(nt(),xt(nn,null,[et("h2",null,[l[1]||(l[1]=en(" Culture Control Parameters ")),et("span",{class:"info-icon",onClick:l[0]||(l[0]=c=>ls(Jt).info("Control parameters are used to define the flow of the experiment.",{position:"top-right",autoClose:8e3})),style:{cursor:"pointer","margin-left":"8px","font-size":"0.8em"}}," ⓘ ")]),(nt(),cs(ch,{key:r.value.id,fetchData:n,updateData:o,columnHeaders:["Vial 1","Vial 2","Vial 3","Vial 4","Vial 5","Vial 6","Vial 7"],rowHeaderLabel:"Parameter",rowHeaderWidth:270}))],64))}},b$={key:0},$$={__name:"GrowthParameters",setup(t){const e=us(),r=ge(()=>e.currentExperiment||{});function n(){const s=r.value.parameters.growth_parameters;if(!s)return{data:[],keys:[]};const l=Object.keys(s[1]||{}),c=["initial_population","doubling_time_mins","carrying_capacity","mu_min","ic50_initial","ic10_ic50_ratio","dose_effective_slope_width_mins","time_lag_drug_effect_mins","adaptation_rate_max","adaptation_rate_ic10_ic50_ratio","drug_concentration","effective_dose"],i=(u=>{const d=new Set(c),h=c.filter(g=>u.includes(g)),p=u.filter(g=>!d.has(g)).sort();return[...h,...p]})(l);return{data:i.map(u=>Object.keys(s).map(d=>s[d][u])),keys:i}}async function o(s){const{keys:l}=n(),c=Object.keys(r.value.parameters.growth_parameters),f={};for(let i=0;i<c.length;i++){f[c[i]]={};for(let a=0;a<l.length;a++)f[c[i]][l[a]]=s[a][i]}if(e.updateCurrentGrowthParameters)try{await e.updateCurrentGrowthParameters(f),Jt("Growth parameters updated",{type:"success"})}catch{Jt("Failed to update growth parameters",{type:"error"})}}return(s,l)=>{var c,f;return nt(),xt(nn,null,[et("h2",null,[l[1]||(l[1]=en(" Culture Growth Parameters ")),et("span",{class:"info-icon",onClick:l[0]||(l[0]=i=>ls(Jt).info("Growth parameters are used to predict the growth of the culture in the simulation. They do not affect the flow of the experiment but correct values are important for the accuracy of the prediction, helping adjust control parameters.",{position:"top-right",autoClose:8e3})),style:{cursor:"pointer","margin-left":"8px","font-size":"0.8em"}}," ⓘ ")]),Object.keys(((f=(c=r.value)==null?void 0:c.parameters)==null?void 0:f.growth_parameters)||{}).length>0?(nt(),xt("div",b$,[(nt(),cs(ch,{key:r.value.id,fetchData:n,updateData:o,columnHeaders:["Vial 1","Vial 2","Vial 3","Vial 4","Vial 5","Vial 6","Vial 7"],rowHeaderLabel:"Parameter",rowHeaderWidth:270}))])):ef("",!0)],64)}}};const S$={key:0},w$={class:"container-wrapper"},E$={class:"tables-container"},x$={class:"table-wrapper"},T$={class:"table-wrapper"},O$={id:"SimulationPlot"},C$={class:"controls-container"},I$={key:1,class:"no-experiment-selected"},A$={__name:"PredictionTab",setup(t){const e=us(),r=Array.from({length:7},(f,i)=>i+1),n=Lt(1),o=ge(()=>e.currentExperiment||{}),s=ge(()=>e.simulation_data||{}),l=Lt(!1);async function c(){if(!(!o.value||!n.value)){l.value=!0;try{e.fetchSimulationPlot&&await e.fetchSimulationPlot(n.value)}finally{l.value=!1}}}return(f,i)=>{const a=Ge("v-progress-circular"),u=Ge("v-btn"),d=Ge("v-select");return o.value.parameters?(nt(),xt("div",S$,[et("div",w$,[et("div",E$,[et("div",x$,[Yt(y$)]),et("div",T$,[Yt($$)])])]),et("div",O$,[et("div",C$,[Yt(u,{color:"info",class:"control-button",height:"60px",onClick:c,style:{"align-self":"flex-start"},disabled:l.value},{default:mh(()=>[l.value?(nt(),xt(nn,{key:0},[Yt(a,{indeterminate:"",color:"white",size:"24",class:"mr-2"}),i[1]||(i[1]=en(" Calculating... "))],64)):(nt(),xt(nn,{key:1},[en(" Plot Predicted Experiment ")],64))]),_:1},8,["disabled"]),Yt(d,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=h=>n.value=h),items:ls(r),class:"control-dropdown",label:"Vial",width:"70px",style:{"align-self":"flex-start"}},null,8,["modelValue","items"])]),n.value?(nt(),cs(_h,{key:0,vial:n.value,data:s.value[n.value]},null,8,["vial","data"])):ef("",!0)])])):(nt(),xt("div",I$,i[2]||(i[2]=[et("p",null,"No experiment selected",-1)])))}}},D$=tf(A$,[["__scopeId","data-v-c9516e99"]]),IS=Object.freeze(Object.defineProperty({__proto__:null,default:D$},Symbol.toStringTag,{value:"Module"}));export{Q$ as $,SS as A,It as B,CS as C,oS as D,xS as E,TS as F,OS as G,Yh as H,om as I,yS as J,ja as K,pS as L,Z$ as M,V$ as N,Wf as O,hS as P,Ki as Q,F$ as R,wS as S,_S as T,cS as U,vS as V,Y1 as W,B$ as X,l1 as Y,Ye as Z,K$ as _,Uf as a,J$ as a0,tS as a1,eS as a2,za as a3,H$ as a4,Ts as a5,Se as a6,fn as a7,dS as a8,M$ as a9,gS as aa,Y$ as ab,X$ as ac,A1 as ad,F1 as ae,at as af,N$ as ag,oe as ah,G$ as ai,W$ as aj,nS as ak,U$ as al,q$ as am,k$ as an,mS as ao,bS as ap,Hf as aq,X as ar,Gf as as,rS as at,jt as au,IS as av,R1 as b,z$ as c,xs as d,c_ as e,lS as f,L1 as g,U as h,ES as i,Qh as j,Mt as k,Kt as l,he as m,sS as n,D1 as o,h1 as p,fS as q,j$ as r,iS as s,c1 as t,Tf as u,s1 as v,uS as w,aS as x,j1 as y,$S as z};
