import{x as _e,C as ye,z as re,D as je,g as M,h as Z,E as Ge,B as oe,G as ue,H as Ke,I as Ce,_ as H,s as Y,c as j,o as l,a as u,b as a,F as V,d as B,t as E,n as R,J as te,K as ae,e as z,p as $,f as L,L as be,r as G,j as T,i as q,k as N,M as He,l as ce,N as ze,O as Je,m as ee,w as ge,P as de}from"./index-f729a81f.js";import{C as le,B as We,S as Ye,a as Ze,b as ke,L as we,p as De,c as xe,d as Se,u as J,e as Qe,P as Xe}from"./chart-9ad820b4.js";/* empty css              */const $e={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},et={ariaLabel:{type:String},ariaDescribedby:{type:String}},tt={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...$e,...et},at=je[0]==="2"?(c,n)=>Object.assign(c,{attrs:n}):(c,n)=>Object.assign(c,n);function Q(c){return Ce(c)?ue(c):c}function nt(c){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return Ce(n)?new Proxy(c,{}):c}function ot(c,n){const t=c.options;t&&n&&Object.assign(t,n)}function Oe(c,n){c.labels=n}function Ie(c,n,t){const C=[];c.datasets=n.map(h=>{const d=c.datasets.find(f=>f[t]===h[t]);return!d||!h.data||C.includes(d)?{...h}:(C.push(d),Object.assign(d,h),d)})}function lt(c,n){const t={labels:[],datasets:[]};return Oe(t,c.labels),Ie(t,c.datasets,n),t}const st=_e({props:tt,setup(c,n){let{expose:t,slots:C}=n;const h=M(null),d=ye(null);t({chart:d});const f=()=>{if(!h.value)return;const{type:_,data:y,options:p,plugins:w,datasetIdKey:s}=c,i=lt(y,s),x=nt(i,y);d.value=new le(h.value,{type:_,data:x,options:{...p},plugins:w})},k=()=>{const _=ue(d.value);_&&(c.destroyDelay>0?setTimeout(()=>{_.destroy(),d.value=null},c.destroyDelay):(_.destroy(),d.value=null))},O=_=>{_.update(c.updateMode)};return Z(f),Ge(k),oe([()=>c.options,()=>c.data],(_,y)=>{let[p,w]=_,[s,i]=y;const x=ue(d.value);if(!x)return;let b=!1;if(p){const v=Q(p),D=Q(s);v&&v!==D&&(ot(x,v),b=!0)}if(w){const v=Q(w.labels),D=Q(i.labels),I=Q(w.datasets),F=Q(i.datasets);v!==D&&(Oe(x.config.data,v),b=!0),I&&I!==F&&(Ie(x.config.data,I,c.datasetIdKey),b=!0)}b&&Ke(()=>{O(x)})},{deep:!0}),()=>re("canvas",{role:"img",ariaLabel:c.ariaLabel,ariaDescribedby:c.ariaDescribedby,ref:h},[re("p",{},[C.default?C.default():""])])}});function Pe(c,n){return le.register(n),_e({props:$e,setup(t,C){let{expose:h}=C;const d=ye(null),f=k=>{d.value=k==null?void 0:k.chart};return h({chart:d}),()=>re(st,at({ref:f},{type:c,...t}))}})}const it=Pe("bar",We),rt=Pe("scatter",Ye);const ut={class:"pump-data"},ct={class:"iteration-rotation-wrapper"},dt={class:"iteration"},vt={class:"rotation"},ft=["onClick"],pt={key:0},bt={key:1},gt=["onUpdate:modelValue","onChange"],mt={class:"chart-container"},ht={key:0,class:"calibration-section"},_t={__name:"PumpCalibration",props:{pumpId:{type:Number,required:!0}},setup(c){le.register(Ze,ke,we,De,xe,Se);const n=c,t=J(),{calibrationModeEnabled:C,pumps:h,valves:d}=Y(t),f=M({datasets:[{data:[]}]}),k=M({responsive:!0,devicePixelRatio:4,maintainAspectRatio:!1,plugins:{legend:{display:!1}},backgroundColor:"rgba(0, 140, 186, 0.3)",layout:{padding:{top:20}},scales:{x:{title:{display:!0,text:"rotations"}},y:{title:{display:!0,text:"mL / rotation"},beginAtZero:!1,suggestedMin:.1,suggestedMax:.22}}}),O=M({}),_=M([{rotations:1,iterations:50,total_ml:NaN},{rotations:5,iterations:10,total_ml:NaN},{rotations:10,iterations:5,total_ml:NaN},{rotations:50,iterations:1,total_ml:NaN}]),y=j(()=>{var v,D;return((D=(v=h.value)==null?void 0:v.calibration)==null?void 0:D[n.pumpId])||{}});function p(){return{labels:Object.keys(y.value),datasets:[{label:null,data:Object.values(y.value),fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]}}function w(){f.value=p()}function s(v){if(!Object.values(d.value.states).some(I=>I==="open")){alert("At least one valve must be open to start the pump");return}O.value[v]=!O.value[v],O.value[v]?b(_.value[v]):t.setPartStateAction({devicePart:"pumps",partIndex:n.pumpId,newState:"stopped"})}function i(v){O.value[v]=!1}function x(v){v.total_ml&&(t.setPartCalibrationAction({devicePart:"pumps",partIndex:n.pumpId,newCalibration:{...y.value,[v.rotations]:v.total_ml/v.rotations/v.iterations}}),O.value[v]=!1)}function b(v){alert(`Pumping ${v.rotations} rotations ${v.iterations} times. Please blank the scale`),t.startPumpCalibrationSequence({pumpId:n.pumpId,rotations:v.rotations,iterations:v.iterations}).then(()=>{i(v);const D=parseFloat(prompt("Enter total mL pumped"));isNaN(D)||(v.total_ml=D,x(v))})}return Z(()=>{y.value&&w(),_.value.forEach(v=>{v.total_ml=(y.value[v.rotations]||0)*v.rotations*v.iterations,v.total_ml=v.total_ml?v.total_ml.toFixed(2):""})}),oe(y,()=>{w()},{deep:!0}),(v,D)=>(l(),u("div",ut,[a("table",null,[D[1]||(D[1]=a("thead",null,[a("tr",null,[a("th",null,"Calibration Sequence"),a("th"),a("th",null,"Volume (mL)")])],-1)),a("tbody",null,[(l(!0),u(V,null,B(_.value,(I,F)=>(l(),u("tr",{key:F},[a("td",null,[a("div",ct,[a("div",dt,E(I.iterations),1),D[0]||(D[0]=a("div",{class:"multiplier"},"x",-1)),a("div",vt,E(I.rotations)+" rots",1)])]),a("td",null,[a("button",{onClick:g=>s(F),class:R([O.value[F]?"stop-button":"",O.value[F]===!1&&_.value[F].total_ml?"restart-button":""])},[O.value[F]?(l(),u("span",pt,"Stop")):(l(),u("span",bt,"Start"))],10,ft)]),a("td",null,[te(a("input",{"onUpdate:modelValue":g=>I.total_ml=g,onChange:g=>x(I),type:"float"},null,40,gt),[[ae,I.total_ml]])])]))),128))])]),a("div",mt,[f.value.datasets[0].data.length>0?(l(),z($(it),{key:0,id:"pump-calibration-chart",options:k.value,class:"pump-calibration-chart",data:f.value},null,8,["options","data"])):L("",!0)]),$(C)?(l(),u("div",ht)):L("",!0)]))}},yt=H(_t,[["__scopeId","data-v-6558f4be"]]);const Ct={key:0,class:"pump-controls"},kt={key:1},wt={class:"pump-input"},Dt={key:1},xt={__name:"PumpControl",setup(c){const n=J(),{pumps:t,valves:C,calibrationModeEnabled:h}=Y(n),d={1:"MAIN",2:"DRUG",3:"MISSING!!!",4:"WASTE"},f=be({1:null,2:null,3:null,4:null}),k=be({1:null,2:null,3:null,4:null});Z(()=>{t.value||n.fetchDeviceData()});async function O(s){if(t.value.states[s]==="running"){await n.setPartStateAction({devicePart:"pumps",partIndex:s,newState:"stopped"});return}if(!Object.values(C.value.states).some(b=>b==="open")){alert("At least one valve must be open to start the pump");return}const x=parseFloat(k[s]);if(!x){alert("Please set the volume before starting the pump");return}try{await n.setPartStateAction({devicePart:"pumps",partIndex:s,newState:"running",input:{volume:x}})}catch(b){console.error(b)}finally{await n.setPartStateAction({devicePart:"pumps",partIndex:s,newState:"stopped"})}}function _(s,i){k[i]=s;const x=parseFloat(k[i]);isNaN(x)?f[i]="":f[i]=p(x,i).toFixed(2)}function y(s,i){f[i]=s;const x=parseFloat(f[i]);isNaN(x)?k[i]="":k[i]=w(x,i)}function p(s,i){const x=t.value.calibration[i],b=Object.entries(x).map(([U,X])=>[parseInt(U),X]).sort((U,X)=>U[0]-X[0]);if(s>=b[b.length-1][0]*b[b.length-1][1])return s/b[b.length-1][1];let v=b[0],D=b[b.length-1];for(let U=0;U<b.length-1;U++)if(s>=b[U][0]*b[U][1]&&s<=b[U+1][0]*b[U+1][1]){v=b[U],D=b[U+1];break}const I=v[0]*v[1],F=D[0]*D[1],g=(s-I)/(F-I),A=v[1]+(D[1]-v[1])*g;return s/A}function w(s,i){const x=t.value.calibration[i],b=Object.entries(x).map(([g,A])=>[parseInt(g),A]).sort((g,A)=>g[0]-A[0]);if(s>=b[b.length-1][0])return(s*b[b.length-1][1]).toFixed(2);let v=b[0],D=b[b.length-1];for(let g=0;g<b.length-1;g++)if(s>=b[g][0]&&s<=b[g+1][0]){v=b[g],D=b[g+1];break}const I=(s-v[0])/(D[0]-v[0]),F=v[1]+(D[1]-v[1])*I;return(s*F).toFixed(2)}return(s,i)=>{const x=G("v-progress-circular"),b=G("v-btn"),v=G("v-text-field");return $(t)&&$(t).states?(l(),u("div",Ct,[(l(),u(V,null,B([1,2,4],D=>a("div",{class:"pump",key:D},[T(b,{class:R(["pump-button",{"stop-button":$(t).states[D]==="running"}]),onClick:I=>O(D)},{default:q(()=>[$(t).states[D]==="running"?(l(),z(x,{key:0,indeterminate:"",color:"white",class:"spinner-custom"})):(l(),u("span",kt,[N(E(d[D]),1),i[0]||(i[0]=a("br",null,null,-1)),i[1]||(i[1]=N("pump"))]))]),_:2},1032,["class","onClick"]),a("div",wt,[T(v,{label:"Volume (mL)",type:"number",dense:"",modelValue:k[D],"onUpdate:modelValue":[I=>k[D]=I,I=>_(I,D)]},null,8,["modelValue","onUpdate:modelValue"]),$(h)?(l(),z(v,{key:0,label:"Rotations",type:"number",dense:"",modelValue:f[D],"onUpdate:modelValue":[I=>f[D]=I,I=>y(I,D)]},null,8,["modelValue","onUpdate:modelValue"])):L("",!0),$(h)?(l(),z(yt,{key:1,pumpId:D},null,8,["pumpId"])):L("",!0)])])),64))])):(l(),u("div",Dt," Loading pump data... "))}}},St=H(xt,[["__scopeId","data-v-dc27ed63"]]);const $t={class:"valve-controls"},Ot=["onClick","disabled"],It={key:0,class:"spinner-border spinner-custom",role:"status"},Pt={key:1},At={__name:"ValveControl",setup(c){const n=J(),{valves:t}=Y(n),C=M({}),h=new(window.AudioContext||window.webkitAudioContext);function d(k){const O=k==="open"?500:300,_=k==="open"?300:500,y=h.createOscillator();y.type="sine";const p=h.createGain();return p.gain.setValueAtTime(.1,h.currentTime),y.connect(p),p.connect(h.destination),y.frequency.setValueAtTime(O,h.currentTime),y.frequency.linearRampToValueAtTime(_,h.currentTime+.3),y.start(),y.stop(h.currentTime+.3),y}async function f(k){const O=t.value.states[k];if(C.value[k])return;C.value={...C.value,[k]:!0};const _=d(O);try{await n.setPartStateAction({devicePart:"valves",partIndex:k,newState:O==="open"?"closed":"open"}),_.stop()}catch(y){console.error(y)}finally{C.value={...C.value,[k]:!1}}}return(k,O)=>(l(),u("div",$t,[(l(),u(V,null,B(7,_=>a("button",{class:R(["btn",{"btn-danger":$(t).states[_]==="closed"&&!C.value[_],"btn-success":$(t).states[_]==="open"&&!C.value[_],"btn-warning":C.value[_]}]),key:_,onClick:y=>f(_),disabled:C.value[_]},[C.value[_]?(l(),u("div",It)):(l(),u("span",Pt,"Valve "+E(_),1))],10,Ot)),64))]))}},Ft=H(At,[["__scopeId","data-v-9591560c"]]);const Mt={class:"elements-container"},Lt={class:"stirrer-name"},Tt={key:0},Vt={style:{position:"relative",display:"inline-block"}},Nt={style:{position:"relative",display:"inline-block"}},Et={class:"buttons-container"},me=0,he=1,Bt={__name:"StirrerCalibration",props:{stirrerId:{type:Number,required:!0}},setup(c){const n=c,t=M(null),C=M(null),h=M(null),d=new(window.AudioContext||window.webkitAudioContext);let f=null,k=null,O=null;const _=J(),{calibrationModeEnabled:y,stirrers:p}=Y(_),w=j(()=>p.value&&p.value.states?p.value.states[n.stirrerId]:void 0);function s(F){_.setPartStateAction({devicePart:"stirrers",partIndex:n.stirrerId,newState:F})}function i(F){if(p.value&&p.value.states)for(let g=1;g<=7;g++)p.value.states[g]=F;_.setAllStirrersStateAction&&_.setAllStirrersStateAction(F)}function x(F,g){v(g.target.value)}function b(F,g){!p.value||!p.value.calibration||!p.value.calibration[n.stirrerId]||_.setPartCalibrationAction({devicePart:"stirrers",partIndex:n.stirrerId,newCalibration:{low:p.value.calibration[n.stirrerId].low,high:p.value.calibration[n.stirrerId].high}}).catch(A=>{console.error("Error updating stirrer calibration:",A)})}function v(F){f||(f=d.createOscillator(),k=d.createGain(),f.type="sine",k.gain.setValueAtTime(.1,d.currentTime),f.connect(k),k.connect(d.destination),f.start());const g=300+F*500;f.frequency.setValueAtTime(g,d.currentTime),O&&clearTimeout(O),O=setTimeout(D,200)}function D(){f&&(k.gain.exponentialRampToValueAtTime(.001,d.currentTime+.01),k.gain.setValueAtTime(.1,d.currentTime+.02),f.stop(d.currentTime+.02),f=null,k=null)}function I(F,g){(F==="high"&&w.value!=="high"||F==="low"&&w.value!=="low")&&(g.preventDefault(),ce("Enable stirrer to adjust speed",{type:"info"}))}return Z(()=>{window.addEventListener("resize",()=>{})}),He(()=>{window.removeEventListener("resize",()=>{})}),(F,g)=>(l(),u("div",{class:"stirrer-calibrator",ref_key:"container",ref:t},[a("div",Mt,[a("div",Lt,[a("header",null,"Stirrer "+E(c.stirrerId),1)]),$(y)&&$(p)&&$(p).calibration&&$(p).calibration[c.stirrerId]?(l(),u("div",Tt,[a("div",Vt,[te(a("input",{type:"range",class:R(["slider slider-high",[{active:w.value==="high"},{"slider-disabled":w.value!=="high"}]]),min:me,max:he,step:.01,"onUpdate:modelValue":g[0]||(g[0]=A=>$(p).calibration[c.stirrerId].high=A),onInput:g[1]||(g[1]=A=>x("high",A)),onChange:g[2]||(g[2]=A=>b())},null,34),[[ae,$(p).calibration[c.stirrerId].high,void 0,{number:!0}]]),w.value!=="high"?(l(),u("div",{key:0,class:"slider-overlay",onClick:g[3]||(g[3]=A=>I("high",A))})):L("",!0)]),a("div",Nt,[te(a("input",{type:"range",class:R(["slider slider-low",[{active:w.value==="low"},{"slider-disabled":w.value!=="low"}]]),min:me,max:he,step:.01,"onUpdate:modelValue":g[4]||(g[4]=A=>$(p).calibration[c.stirrerId].low=A),onInput:g[5]||(g[5]=A=>x("low",A)),onChange:g[6]||(g[6]=A=>b())},null,34),[[ae,$(p).calibration[c.stirrerId].low,void 0,{number:!0}]]),w.value!=="low"?(l(),u("div",{key:0,class:"slider-overlay",onClick:g[7]||(g[7]=A=>I("low",A))})):L("",!0)])])):L("",!0),a("div",Et,[a("button",{class:R(["button button-high",{active:w.value==="high"}]),ref_key:"buttonHigh",ref:C,onClick:g[8]||(g[8]=A=>s("high")),onDblclick:g[9]||(g[9]=A=>i("high"))},"High",34),a("button",{class:R(["button button-low",{active:w.value==="low"}]),ref_key:"buttonLow",ref:h,onClick:g[10]||(g[10]=A=>s("low")),onDblclick:g[11]||(g[11]=A=>i("low"))},"Low",34),a("button",{class:R(["button button-off",{active:w.value==="stopped"}]),ref:"buttonOff",onClick:g[12]||(g[12]=A=>s("stopped")),onDblclick:g[13]||(g[13]=A=>i("stopped"))},"OFF",34)])])],512))}},Rt=H(Bt,[["__scopeId","data-v-d01f6391"]]);const qt={name:"StirrerControl",components:{StirrerCalibration:Rt}},Ut={class:"stirrer-controls"};function jt(c,n,t,C,h,d){const f=G("StirrerCalibration");return l(),u("div",Ut,[(l(),u(V,null,B(7,k=>T(f,{key:k,stirrerId:k},null,8,["stirrerId"])),64))])}const Gt=H(qt,[["render",jt],["__scopeId","data-v-6cada7fd"]]),Kt={className:"single-chart-container"},Ht={__name:"ODChart",props:{partId:{type:Number,required:!0}},setup(c){le.register(De,xe,Se,Qe,ke,we,Xe);const n=c,t=J(),{ods:C}=Y(t),h=j(()=>{var y,p;return(p=(y=C.value)==null?void 0:y.calibration)==null?void 0:p[n.partId]}),d=j(()=>{var y,p;return(p=(y=C.value)==null?void 0:y.calibration_coefs)==null?void 0:p[n.partId]}),f=j(()=>{var y,p,w,s;return{od:(p=(y=C.value)==null?void 0:y.states)==null?void 0:p[n.partId],signal:(s=(w=C.value)==null?void 0:w.odsignals)==null?void 0:s[n.partId]}});function k(y,p,w){return-Math.log10(y/p)*w}const O=j(()=>{if(h.value&&typeof h.value=="object"&&d.value){const y=Object.entries(h.value).map(([i,x])=>({x:Number(x),y:Number(i)})).sort((i,x)=>i.x-x.x);let p=Math.min(...y.map(i=>i.x)),w=Math.max(...y.map(i=>i.x));const s=[];p===w&&(p=0,w=50);for(let i=p;i<=w;i+=.1){const x=k(i,...d.value);s.push({x:i,y:x})}return{datasets:[{label:`Vial ${n.partId} Calibration OD`,data:y,borderColor:"#607ecb",backgroundColor:"rgba(83,158,255,0.64)"},{label:`Vial ${n.partId} Current OD`,data:[{x:f.value.signal,y:f.value.od}],pointRadius:5,backgroundColor:"rgba(255,1,60,0.64)"},{label:`Vial ${n.partId} Fit`,data:s,pointRadius:0,borderColor:"rgba(0,70,220,0.38)",borderWidth:2,showLine:!0,fill:!1,borderDash:[2,2]}]}}return{}}),_=j(()=>{var y,p;return{devicePixelRatio:4,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:`Vial ${n.partId}`+(d.value?`
blank: ${(y=d.value[0])==null?void 0:y.toFixed(2)}, scaling: ${(p=d.value[1])==null?void 0:p.toFixed(2)}`:"")}},scales:{x:{title:{display:!0,text:"Signal (mV)"},suggestedMin:0},y:{title:{display:!0,text:"OD"},suggestedMax:1.5,suggestedMin:0}}}});return(y,p)=>(l(),u("div",Kt,[T($(rt),{data:O.value,options:_.value},null,8,["data","options"])]))}};M({show:!1,title:"",content:"",resolve:null});const zt={class:"guide-popup"},Jt={class:"guide-header"},Wt={__name:"ODGuide",setup(c){return(n,t)=>{const C=G("v-icon");return l(),u("div",{class:"guide-overlay",onClick:t[1]||(t[1]=Je(h=>n.$emit("close"),["self"]))},[a("div",zt,[a("div",Jt,[t[3]||(t[3]=a("span",{class:"guide-title"},"OD Calibration Guide",-1)),a("button",{class:"guide-close",onClick:t[0]||(t[0]=h=>n.$emit("close"))},[T(C,null,{default:q(()=>t[2]||(t[2]=[N("mdi-close")])),_:1})])]),t[4]||(t[4]=ze('<div class="guide-content" data-v-172fa8bf><div class="guide-section" data-v-172fa8bf><b class="section-title" data-v-172fa8bf>What is Optical Density (OD)?</b><br data-v-172fa8bf><span class="guide-text" data-v-172fa8bf> Optical Density (OD) measures how much light is absorbed by a sample. The higher the OD, the more cells or particles are in the solution. </span></div><div class="guide-section" data-v-172fa8bf><b class="section-title" data-v-172fa8bf>Beer-Lambert Law</b><br data-v-172fa8bf><span class="guide-text" data-v-172fa8bf> The Beer-Lambert Law relates OD to the transmitted light signal: </span><br data-v-172fa8bf><span class="formula" data-v-172fa8bf> OD = -log₁₀(signal / blank_signal) </span><br data-v-172fa8bf><span class="guide-text" data-v-172fa8bf> That means if 90% of light is blocked - the OD is 1, and if 99% of light is blocked the OD is 2. But, this is assuming light passes through a square cuvette with path length of 1cm. For non-standard containers, the formula can be corrected with a scaling factor. </span><br data-v-172fa8bf><span class="formula" data-v-172fa8bf> OD = -log₁₀(signal / blank_signal) * scaling </span><br data-v-172fa8bf><span class="guide-text" data-v-172fa8bf> The sensors in Replifactory devices typically have a scaling factor between 1.5 and 1.7. You can measure it more precisely, or use 1.6 as a default. It is accurate enough for the purpose of measuring changes in growth rate over long evolution experiments. </span><br data-v-172fa8bf></div><div class="guide-section" data-v-172fa8bf><b class="section-title" data-v-172fa8bf>Calibration Methods</b><div class="method-panel" data-v-172fa8bf><div class="method-heading" data-v-172fa8bf>Method A: Serial Dilution</div><i data-v-172fa8bf>(most accurate, but time-consuming)</i><ol class="guide-ol" data-v-172fa8bf><li data-v-172fa8bf>Prepare 7 vials with a serial dilution, measure their OD in a spectrophotometer, and enter these values as the row names in the calibration table.<br data-v-172fa8bf><i data-v-172fa8bf>Tip: Start with OD &gt;2 but measure only OD &lt;0.8, and extrapolate for higher values.</i></li><li data-v-172fa8bf>Insert each vial into its matching device slot and measure a diagonal in the table (vial 1 in slot 1, vial 2 in slot 2, etc.).</li><li data-v-172fa8bf>Shift all vials by one slot, measure the next diagonal, and repeat until the table is filled with correct signals. The calibration curve is automatically generated.</li></ol></div><div class="method-panel" data-v-172fa8bf><div class="method-heading" data-v-172fa8bf>Method B: Semitransparent Sheets</div><ol class="guide-ol" data-v-172fa8bf> Use sheets with known equivalent ODs to cover all sensors at once, filling one row per measurement. </ol><i data-v-172fa8bf>This method is faster, but sheets may interact with each sensor differently than liquid-filled vials.</i></div><div class="method-panel" data-v-172fa8bf><div class="method-heading" data-v-172fa8bf>Method C: Autofill (fastest)</div><ol class="guide-ol" data-v-172fa8bf><li data-v-172fa8bf>Measure <b data-v-172fa8bf>OD₀</b> (blank signal).</li><li data-v-172fa8bf>Set the scaling factor to 1.6 in each vial.</li><li data-v-172fa8bf>Click <b data-v-172fa8bf>Autofill</b> to automatically calculate the expected signal for each OD value using the Beer-Lambert law.</li></ol><div class="autofill-note" data-v-172fa8bf><i data-v-172fa8bf>This method is accurate enough to measure changes in growth rate for adaptive evolution experiments.</i></div><div class="autofill-info-note" data-v-172fa8bf><i data-v-172fa8bf>Autofilling uses the Beer-Lambert equation, while the calibration curves are fit with a different five-parameter equation. For optimal consistency between these methods, do not use OD values above 3 when autofilling.</i></div></div></div><div class="autofill-explanation" data-v-172fa8bf><b data-v-172fa8bf>Tips</b><br data-v-172fa8bf><div class="od-warning-box" data-v-172fa8bf><b data-v-172fa8bf>Always remeasure OD₀ (the blank) immediately before starting the experiment!</b><div class="od-warning-details" data-v-172fa8bf> The walls of the vials are not perfectly round, so rotating them changes the light deflection and affects the signal. After you install the sterilized vials and fill them with growth medium - it is the perfect time to measure OD₀. </div></div><span class="guide-text" data-v-172fa8bf><ul class="guide-list" data-v-172fa8bf><li data-v-172fa8bf>After starting the experiment, in the first 10-15 minutes, check the plots. If the OD is not between -0.01 and 0.01, consider remeasuring or adjusting the blank signal (and autofilling the rest of the table if using method C).</li></ul><br data-v-172fa8bf></span></div><div class="scaling-info-note" data-v-172fa8bf><i data-v-172fa8bf>The scaling factor is calculated by fitting the Beer-Lambert equation to the calibration data, which includes the OD₀ (blank) signal. If you remeasure OD₀, the scaling factor will change slightly reflecting a fit to new data.</i></div></div>',1))])])}}},Yt=H(Wt,[["__scopeId","data-v-172fa8bf"]]);const Zt={class:"od-control-container"},Qt=["onClick"],Xt={key:0,class:"od-output-value"},ea={key:1,class:"signal-output-value"},ta={key:0,class:"calibration-section"},aa={class:"probe-table-outer-container",style:{"margin-bottom":"18px"}},na={class:"state-table-container"},oa={class:"state-table"},la={class:"state-row-label",style:{position:"relative"}},sa=["disabled"],ia={key:0},ra={key:1},ua={class:"signal-value-text"},ca={class:"table-controls"},da={class:"segmented-toggle"},va={class:"autofill-group"},fa=["disabled"],pa={key:0},ba={key:1},ga={class:"calibration-table-wrapper"},ma={class:"calibration-table"},ha={class:"scaling-factor-row"},_a=["onUpdate:modelValue"],ya={key:0,style:{width:"36px"}},Ca={key:0,style:{width:"36px"}},ka=["value","onInput","onBlur","onKeyup"],wa=["value","onChange"],Da=["value","onInput","onBlur","onKeyup"],xa={key:0,class:"signal-value"},Sa={key:1},$a={key:0,style:{"text-align":"center",width:"36px",padding:"4px"}},Oa=["onClick","disabled"],Ia={key:0},Pa={key:0,class:"chart-container"},Aa={__name:"ODControl",setup(c){const n=J(),{ods:t,calibrationModeEnabled:C}=Y(n),{openDialog:h}=de(),d=[1,2,3,4,5,6,7],f=M(!1),k=M(!0),O=M("row"),_=M(0),y=M(!1),p=M(!1),w=M({}),s=M({}),i=j(()=>{let o=new Set;if(t.value.calibration)for(let m in t.value.calibration)for(let r in t.value.calibration[m])o.add(r);return Array.from(o).sort((m,r)=>parseFloat(m)-parseFloat(r))}),x=M(!1),b=j(()=>{if(!t.value.calibration)return[];const o=new Set;for(const e in t.value.calibration)for(const m in t.value.calibration[e])o.add(parseFloat(m));return Array.from(o).sort((e,m)=>e-m)}),v=M(new Set),D=j(()=>{const o=t.value.calibration_coefs||{};return d.map(e=>{var m;return((m=o[e])==null?void 0:m[1])??"—"})}),I=M([]);oe(D,o=>{I.value=[...o]},{immediate:!0}),oe([_,O,()=>t.value.calibration_coefs],()=>{var e,m;const o=O.value==="diagonal"?d[_.value%d.length]:d[_.value];(m=(e=t.value.calibration_coefs)==null?void 0:e[o])==null||m[1]},{immediate:!0}),Z(()=>{n.fetchDeviceData()});async function F(o){await n.measureDevicePart({devicePart:"ods",partIndex:o}),await n.fetchDeviceData()}function g(o,e,m){s.value[e]||(s.value[e]={}),s.value[e][m]=parseFloat(o.target.value)}function A(o,e){if(s.value[o]&&s.value[o][e]!==void 0){t.value.calibration[o]||(t.value.calibration[o]={});const m=s.value[o][e];isNaN(s.value[o][e])&&delete t.value.calibration[o][e],n.updateODCalibrationValueAction({od:e,vial:o,newValue:m}).catch(r=>{console.error(`Error updating calibration for vial ${o}:`,r)}),delete s.value[o][e]}}async function U(){y.value=!0;try{const o={};d.forEach((e,m)=>{o[e]=W(e)}),console.log(o),await n.measureAllODSignalsAction({vial_ods:o}),await n.fetchDeviceData()}catch{}finally{y.value=!1}}function X(o,e){return s.value[o]&&s.value[o][e]!==void 0?s.value[o][e]:t.value.calibration&&t.value.calibration[o]&&t.value.calibration[o][e]!==void 0?t.value.calibration[o][e]:""}function W(o){if(O.value==="diagonal"){const e=(o-1-_.value+i.value.length)%i.value.length;return i.value[e]||"-"}else return i.value[_.value]||"-"}function Ae(o){let e="";for(o=Math.floor(o);o>=0;)e=String.fromCharCode(65+o%26)+e,o=Math.floor(o/26)-1;return e}function Fe(o){let e;return O.value==="diagonal"?e=(o-1-_.value+i.value.length)%i.value.length:e=_.value,Ae(e)}function fe(o,e){if(!t.value.calibration||!t.value.calibration[o]||t.value.calibration[o][e]===void 0)return{background:""};const m=parseFloat(t.value.calibration[o][e]),r=5,S=40;let P;if(m<=0)P=r;else{const K=Math.log(10),ie=Math.log(1e3),Ue=(Math.log(Math.max(10,Math.min(1e3,m)))-K)/(ie-K);P=r+Ue*(S-r)}return{background:`rgba(255, 100, 100, ${P/100})`}}function se(o){if(o==null)return"";const e=parseFloat(o);if(isNaN(e))return"";const m=.02,r=.25,S=Math.max(0,Math.min(4,e)),P=Math.log(S+1)/Math.log(5),K=m+P*(r-m);return`background: linear-gradient(to right, rgba(255, 235, 156, ${K}), rgba(255, 235, 156, ${K*.6}))`}function Me(o){const e=W(o);return e==="-"?"-":t.value.calibration&&t.value.calibration[o]&&t.value.calibration[o][e]!==void 0?parseFloat(t.value.calibration[o][e]).toFixed(2)+" mV":"-"}function ne(o,e){const m=i.value.indexOf(o);return m===-1?!1:O.value==="diagonal"?(e-1-_.value+i.value.length)%i.value.length===m:m===_.value}function Le(){i.value.length!==0&&(_.value=(_.value+1)%i.value.length)}async function Te(){if(!await h({title:"Autofill Calibration Table?",message:"Use blank and scaling factor to autofill the rest of the table."}))return;p.value=!0;const e={};d.forEach((m,r)=>{let S=null;t.value.calibration&&t.value.calibration[m]&&(t.value.calibration[m][0]!==void 0?S=parseFloat(t.value.calibration[m][0]):t.value.calibration[m]["0.0"]!==void 0?S=parseFloat(t.value.calibration[m]["0.0"]):t.value.calibration[m][0]!==void 0&&(S=parseFloat(t.value.calibration[m][0]))),S===null&&(S=500),e[m]={},e[m][0]=S,b.value.forEach(P=>{if(parseFloat(P)===0)return;const K=parseFloat(I.value[r])||1.6,ie=S*Math.pow(10,-parseFloat(P/K));e[m][P.toString()]=ie}),n.setPartCalibrationAction({devicePart:"ods",partIndex:m,newCalibration:e[m]})}),p.value=!1,await n.fetchDeviceData(),p.value=!1}function pe(o,e){if(w.value[e]!==void 0){b.value[e]=w.value[e],delete w.value[e];for(let m in t.value.calibration){console.log("changing od value for vial",m,"from",o,"to",b.value[e]),console.log("old_calibration",t.value.calibration[m]);const r=t.value.calibration[m],S=JSON.parse(JSON.stringify(r));delete S[o],S[b.value[e]]=r[o],console.log("new_calibration",S),n.setPartCalibrationAction({devicePart:"ods",partIndex:m,newCalibration:S})}}}function Ve(o,e){console.log("handleProbeValueInput",o.target.value),w.value[e]=parseFloat(o.target.value)}function Ne(){x.value=!0}function Ee(){x.value=!1}function Be(){if(!b.value.length)return .1;const o=Math.max(...b.value);return parseFloat((o+.1).toFixed(2))}async function Re(){const o=Be();for(const e of d)t.value.calibration[e]||(t.value.calibration[e]={}),t.value.calibration[e][o]=0,await n.setPartCalibrationAction({devicePart:"ods",partIndex:e,newCalibration:t.value.calibration[e]});await n.fetchDeviceData()}async function qe(o){const e=i.value[o];v.value.add(e);for(const m of d)t.value.calibration[m]&&(delete t.value.calibration[m][e],await n.setPartCalibrationAction({devicePart:"ods",partIndex:m,newCalibration:t.value.calibration[m]}));await n.fetchDeviceData(),v.value.delete(e)}return(o,e)=>{const m=G("v-icon");return l(),u(V,null,[a("div",Zt,[(l(!0),u(V,null,B($(t).states,(r,S)=>(l(),u("div",{class:"elements-container",key:S},[a("button",{class:"od-button",onClick:P=>F(S)},[a("span",null,"OD "+E(S),1)],8,Qt),$(t).states&&$(t).states[S]!==void 0?(l(),u("span",Xt,E(parseFloat($(t).states[S].toFixed(2))),1)):L("",!0),e[5]||(e[5]=a("div",{style:{height:"0.5px"}},null,-1)),$(t).odsignals&&$(t).odsignals[S]!==void 0?(l(),u("span",ea,"("+E(parseFloat($(t).odsignals[S].toFixed(2)))+"mV)",1)):L("",!0)]))),128))]),$(C)?(l(),u("div",ta,[a("div",aa,[e[15]||(e[15]=a("div",{style:{display:"flex","align-items":"center","margin-bottom":"8px"}},null,-1)),a("div",na,[a("table",oa,[a("thead",null,[a("tr",null,[e[6]||(e[6]=a("th",{class:"state-header-empty"},null,-1)),(l(),u(V,null,B(d,(r,S)=>a("th",{key:"vial-header-"+r,class:"state-vial-header"}," Vial "+E(r),1)),64))])]),a("tbody",null,[a("tr",null,[e[7]||(e[7]=a("th",{class:"state-row-label"},"Probe",-1)),(l(),u(V,null,B(d,(r,S)=>a("td",{key:"probe-"+r,class:"state-probe-cell",style:ee(se(W(r)))},E(Fe(r)),5)),64))]),a("tr",null,[e[8]||(e[8]=a("th",{class:"state-row-label state-od-label"},"OD Value",-1)),(l(),u(V,null,B(d,(r,S)=>a("td",{key:"od-"+r,class:"state-od-cell",style:ee(se(W(r)))},[a("span",null,E(W(r)),1)],4)),64))]),a("tr",null,[a("th",la,[a("button",{class:R(["control-button measure-inline",{"disabled-measure":!f.value}]),onClick:U,disabled:!f.value||y.value},[y.value?(l(),u("span",ia,e[9]||(e[9]=[a("span",{class:"loading-spinner"},null,-1),N(" Measuring... ")]))):(l(),u("span",ra,[T(m,null,{default:q(()=>e[10]||(e[10]=[N("mdi-camera-metering-center")])),_:1}),N(" "+E(O.value==="diagonal"?"Measure Diagonal "+(_.value+1):"Measure OD "+i.value[_.value]+" signals"),1)]))],10,sa),f.value?L("",!0):(l(),u("div",{key:0,class:"measure-overlay",onClick:e[0]||(e[0]=r=>$(ce).error("Enable edit mode to measure calibration signals"))}))]),(l(),u(V,null,B(d,(r,S)=>a("td",{key:"signal-"+r,class:R(["state-signal-cell",{highlighted:ne(W(r),r)}]),style:ee({background:ne(W(r),r)?"rgba(100, 149, 237, 0.15)":fe(r,W(r)).background})},[a("span",ua,E(Me(r)),1)],6)),64))])])])]),a("div",ca,[a("button",{class:"control-button next-button",onClick:Le}," Select Next "),a("div",da,[a("button",{class:R(["toggle-segment",{active:O.value==="diagonal"}]),onClick:e[1]||(e[1]=r=>O.value="diagonal"),type:"button"}," Diagonal ",2),a("button",{class:R(["toggle-segment",{active:O.value==="row"}]),onClick:e[2]||(e[2]=r=>O.value="row"),type:"button"}," Row ",2)]),a("div",va,[a("button",{class:"control-button auto-round",onClick:e[3]||(e[3]=r=>Te()),disabled:p.value.value},[p.value.value?(l(),u("span",pa,e[11]||(e[11]=[a("span",{class:"loading-spinner"},null,-1)]))):(l(),u("span",ba," Auto "))],8,fa)]),e[14]||(e[14]=a("div",{style:{flex:"1"}},null,-1)),a("button",{class:R(["control-button mode-toggle",{"edit-on":f.value}]),onClick:e[4]||(e[4]=r=>f.value=!f.value)},[T(m,null,{default:q(()=>[N(E(f.value?"mdi-pencil":"mdi-pencil-outline"),1)]),_:1}),e[12]||(e[12]=N(" Edit "))],2),a("button",{class:"control-button help-button",onClick:Ne},[T(m,null,{default:q(()=>e[13]||(e[13]=[N("mdi-help-circle-outline")])),_:1})])])]),e[22]||(e[22]=a("div",{class:"calibration-controls"},null,-1)),a("div",ga,[a("table",ma,[a("thead",null,[a("tr",ha,[e[16]||(e[16]=a("th",{class:"scaling-factor-label"},"Scaling Factor",-1)),(l(!0),u(V,null,B(I.value,(r,S)=>(l(),u("th",{key:"sf-head-"+S,class:"scaling-factor-cell"},[f.value?te((l(),u("input",{key:0,type:"number",step:"0.01",min:"0.1","onUpdate:modelValue":P=>I.value[S]=P,style:{width:"60px","text-align":"center",background:"#23272e",color:"#90caf9",border:"1px solid #444","border-radius":"4px"}},null,8,_a)),[[ae,I.value[S],void 0,{number:!0}]]):(l(),u(V,{key:1},[N(E(typeof r=="number"?r.toFixed(2):r),1)],64))]))),128)),f.value?(l(),u("th",ya)):L("",!0)]),a("tr",null,[e[17]||(e[17]=a("th",{style:{width:"110px"}},"OD Value",-1)),(l(),u(V,null,B(d,r=>a("th",{key:r,style:{width:"90px"}},"Vial "+E(r),1)),64)),f.value?(l(),u("th",Ca)):L("",!0)])]),a("tbody",null,[(l(!0),u(V,null,B(i.value,(r,S)=>(l(),u("tr",{key:r,class:R({"od-zero-row":parseFloat(r)===0})},[a("td",{style:ee([{width:"110px"},se(r)])},[S<b.value.length?(l(),u("input",{key:0,value:w.value[S]!==void 0?w.value[S]:b.value[S],onInput:P=>Ve(P,S),onBlur:P=>pe(r,S),onKeyup:ge(P=>pe(r,S),["enter"]),type:"number",step:"0.1",class:"property-value",style:{"text-align":"center"}},null,40,ka)):(l(),u("input",{key:1,value:r,onChange:P=>o.updateODCalibrationKeyAction({oldOD:r,newOD:P.target.value}),type:"number",step:"0.1",class:"property-value",style:{"text-align":"center"}},null,40,wa))],4),(l(),u(V,null,B(d,P=>a("td",{key:P,class:R({"has-data":$(t).calibration&&$(t).calibration[P]&&$(t).calibration[P][r]!==void 0,"diagonal-cell":ne(r,P)}),style:ee({background:ne(r,P)?"rgba(100, 149, 237, 0.15)":fe(P,r).background})},[f.value?(l(),u("input",{key:0,value:X(P,r),onInput:K=>g(K,P,r),onBlur:K=>A(P,r),onKeyup:ge(K=>A(P,r),["enter"]),type:"number",class:"calibration-signal"},null,40,Da)):(l(),u(V,{key:1},[$(t).calibration&&$(t).calibration[P]&&$(t).calibration[P][r]!==void 0?(l(),u("span",xa,E(parseFloat($(t).calibration[P][r]).toFixed(2))+"mV ",1)):(l(),u("span",Sa))],64))],6)),64)),f.value?(l(),u("td",$a,[a("button",{class:"delete-od-row",onClick:P=>qe(S),disabled:v.value.has(i.value[S])},[T(m,null,{default:q(()=>e[18]||(e[18]=[N("mdi-delete")])),_:1})],8,Oa)])):L("",!0)],2))),128)),f.value?(l(),u("tr",Ia,[a("td",null,[a("button",{class:"add-od-probe-table",onClick:Re},[T(m,null,{default:q(()=>e[19]||(e[19]=[N("mdi-plus")])),_:1}),e[20]||(e[20]=N(" Add "))])]),(l(),u(V,null,B(d,r=>a("td",{key:"add-row-"+r})),64)),e[21]||(e[21]=a("td",null,null,-1))])):L("",!0)])])]),k.value?(l(),u("div",Pa,[(l(),u(V,null,B(d,r=>T(Ht,{partId:r,key:r},null,8,["partId"])),64))])):L("",!0)])):L("",!0),x.value?(l(),z(Yt,{key:1,onClose:Ee})):L("",!0)],64)}}},Fa=H(Aa,[["__scopeId","data-v-b6bf65fd"]]);const ve=J(),{leds:Ma}=Y(ve);Z(()=>{Ma.value||ve.fetchDeviceData()});const La={name:"SetLEDColor",data(){return{vials:[1,2,3,4,5,6,7],ledColors:{1:{red:0,green:0,blue:0,color:"#000000"},2:{red:0,green:0,blue:0,color:"#000000"},3:{red:0,green:0,blue:0,color:"#000000"},4:{red:0,green:0,blue:0,color:"#000000"},5:{red:0,green:0,blue:0,color:"#000000"},6:{red:0,green:0,blue:0,color:"#000000"},7:{red:0,green:0,blue:0,color:"#000000"}}}},methods:{async setLEDColor(c,n){if(n.shiftKey){const{red:t,green:C,blue:h}=this.ledColors[c];for(const d of this.vials)this.ledColors[d].red=t,this.ledColors[d].green=C,this.ledColors[d].blue=h,this.ledColors[d].color=this.ledColors[c].color,await this.setIndividualLEDColor(d)}else await this.setIndividualLEDColor(c)},async setIndividualLEDColor(c){const{red:n,green:t,blue:C}=this.ledColors[c];try{console.log("Setting color for vial",c,"to",n,t,C),await ve.setLedColor(c,n,t,C)}catch(h){console.error(`Failed to set color for vial ${c}:`,h),alert(`Error setting color for vial ${c}`)}},updateColor(c){const n=this.ledColors[c].color,{r:t,g:C,b:h}=this.hexToRgb(n);this.ledColors[c].red=t/255,this.ledColors[c].green=C/255,this.ledColors[c].blue=h/255},hexToRgb(c){const n=parseInt(c.slice(1),16);return{r:n>>16&255,g:n>>8&255,b:n&255}}}},Ta={class:"rgb-control-container"},Va={class:"color-selector"},Na=["onUpdate:modelValue","onInput"],Ea=["onClick"];function Ba(c,n,t,C,h,d){return l(),u("div",Ta,[(l(!0),u(V,null,B(h.vials,f=>(l(),u("div",{class:"vial-container",key:f},[a("div",Va,[a("label",null,E("Vial "+f),1),te(a("input",{type:"color","onUpdate:modelValue":k=>h.ledColors[f].color=k,onInput:k=>d.updateColor(f)},null,40,Na),[[ae,h.ledColors[f].color]])]),a("button",{class:"set-color-button",onClick:k=>d.setLEDColor(f,k)},"Set",8,Ea)]))),128))])}const Ra=H(La,[["render",Ba],["__scopeId","data-v-0f12a494"]]);const qa={class:"device-configs"},Ua={class:"config-actions"},ja={key:0,class:"error-message"},Ga={key:1,class:"config-list mt-4"},Ka={key:0},Ha={key:1,class:"text-muted"},za={__name:"DeviceConfigs",setup(c){const n=J(),{openDialog:t}=de(),C=M([]),h=M(""),d=M(!1),f=M(null),k=M(null);async function O(){h.value="",d.value=!0;try{const w=await n.listDeviceConfigs();C.value=(w||[]).sort((s,i)=>i.localeCompare(s))}catch{h.value="Failed to list device configs."}finally{d.value=!1}}async function _(w){h.value="",f.value=w;try{await n.loadDeviceConfig(w)}catch{h.value="Failed to load device config."}finally{f.value=null}}const y=async()=>{h.value="";try{await n.saveCalibrationToBackend(),ce.success("Calibration checkpoint saved!")}catch{h.value="Failed to save device configs."}};function p(w){k.value=w,t({title:"Load checkpoint?",message:"Replace default config with checkpoint?"}).then(async s=>{s&&(await _(k.value),k.value=null)})}return(w,s)=>{const i=G("v-icon"),x=G("v-btn"),b=G("v-list-item"),v=G("v-list");return l(),u("div",qa,[a("div",Ua,[T(x,{color:"success",onClick:y},{default:q(()=>[T(i,{left:""},{default:q(()=>s[0]||(s[0]=[N("mdi-content-save")])),_:1}),s[1]||(s[1]=N(" Save Calibration "))]),_:1}),T(x,{color:"primary",onClick:O,loading:d.value,class:"mr-2"},{default:q(()=>[T(i,{left:""},{default:q(()=>s[2]||(s[2]=[N("mdi-folder-open")])),_:1}),s[3]||(s[3]=N(" Load Calibration Checkpoints "))]),_:1},8,["loading"])]),h.value?(l(),u("div",ja,E(h.value),1)):L("",!0),C.value.length>0||d.value?(l(),u("div",Ga,[s[6]||(s[6]=a("h3",{class:"text-h6 mb-2"},"Available Device Calibration Checkpoints",-1)),C.value.length>0?(l(),u("div",Ka,[T(v,null,{default:q(()=>[(l(!0),u(V,null,B(C.value,D=>(l(),z(b,{key:D,onClick:I=>p(D),class:R({"config-item":!0,loading:f.value===D})},{default:q(()=>[T(i,{left:""},{default:q(()=>s[4]||(s[4]=[N("mdi-file-document")])),_:1}),N(" "+E(D)+" ",1),f.value===D?(l(),z(i,{key:0,right:""},{default:q(()=>s[5]||(s[5]=[N("mdi-loading")])),_:1})):L("",!0)]),_:2},1032,["onClick","class"]))),128))]),_:1})])):d.value?L("",!0):(l(),u("div",Ha,' Click "Refresh Configs" to load. '))])):L("",!0)])}}},Ja=H(za,[["__scopeId","data-v-ecd4ed1d"]]);const Wa={key:0,class:"experiment-running-overlay"},Ya={class:"calibration-switch-row"},Za={key:2},Qa={__name:"DeviceControl",setup(c){const n=J(),{deviceConnected:t,deviceControlEnabled:C,calibrationModeEnabled:h,stirrers:d,pumps:f,valves:k,ods:O}=Y(n),_=j(()=>C.value),y=j({get:()=>h.value,set:s=>n.setCalibrationModeEnabled(s)}),{openDialog:p}=de();async function w(){console.log("onReconnectClick"),await p({title:"Reconnect Device?",message:"Are you sure you want to reconnect the device?",showCancel:!0})==="yes"&&n.connectDevice()}return Z(()=>{n.fetchDeviceData()}),(s,i)=>{const x=G("v-btn"),b=G("v-switch");return l(),u("div",{class:R(["DeviceControl",{"device-disconnected":$(t)===!1}])},[$(C)===!1?(l(),u("div",Wa)):L("",!0),a("div",Ya,[$(h)?(l(),z(x,{key:0,class:"reconnect-btn",onClick:w},{default:q(()=>i[1]||(i[1]=[N("Reconnect Device")])),_:1})):L("",!0),T(b,{modelValue:y.value,"onUpdate:modelValue":i[0]||(i[0]=v=>y.value=v),label:"Calibration Mode"},null,8,["modelValue"])]),$(C)||_.value?(l(),u(V,{key:1},[T(St),T(Ft),T(Gt),T(Fa),T(Ra),$(h)?(l(),z(Ja,{key:0})):L("",!0)],64)):(l(),u("p",Za,"Device Control Disabled"))],2)}}},nn=H(Qa,[["__scopeId","data-v-65277608"]]);export{nn as default};
