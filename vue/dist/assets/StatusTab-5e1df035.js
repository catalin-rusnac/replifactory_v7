import{_ as k,g as m,r as c,o as _,a as p,j as o,i as n,k as d,b as f,f as T,F as V,d as h,t as E,Q as b}from"./index-c6d3e0f0.js";const L={key:0,class:"mt-3"},$=["src"],S=["innerHTML"],U={__name:"StatusTab",setup(B){const g=m(""),i=m(null),u=m("html");async function y(){try{const a=await b.get("/download_db",{responseType:"blob"}),e=new Blob([a.data],{type:"application/octet-stream"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=document.title+"_replifactory.db",document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(a){console.error("Error downloading database:",a)}}async function w(a,e){try{const t=await b.get(`/export/${a}/${e}`,{responseType:"blob"}),l=new Blob([t.data],{type:"application/octet-stream"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download=`vial_${a}_data.${e}`,document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(t){console.error(`Error exporting data for vial ${a}:`,t)}}async function C(){try{const a=await b.get("/camera/capture",{responseType:"arraybuffer"}),e=btoa(new Uint8Array(a.data).reduce((t,l)=>t+String.fromCharCode(l),""));i.value=`data:image/jpeg;base64,${e}`}catch(a){console.error("Error capturing image:",a)}}return(a,e)=>{const t=c("v-icon"),l=c("v-btn"),s=c("v-col"),v=c("v-row"),x=c("v-select");return _(),p("div",null,[o(v,{class:"mt-3"},{default:n(()=>[o(s,{cols:"4"},{default:n(()=>[o(l,{color:"info",onClick:C},{default:n(()=>[o(t,{size:"large"},{default:n(()=>e[1]||(e[1]=[d("mdi-camera")])),_:1}),e[2]||(e[2]=d(" Photo "))]),_:1})]),_:1}),o(s,{cols:"4"},{default:n(()=>[o(l,{color:"success",onClick:y},{default:n(()=>[o(t,{size:"large"},{default:n(()=>e[3]||(e[3]=[d("mdi-cloud-download")])),_:1}),e[4]||(e[4]=d(" Download Database "))]),_:1})]),_:1})]),_:1}),i.value?(_(),p("div",L,[f("img",{src:i.value,class:"img-fluid"},null,8,$)])):T("",!0),o(v,{class:"mt-3",align:"center"},{default:n(()=>[o(s,{cols:"3",class:"text-right"},{default:n(()=>e[5]||(e[5]=[f("strong",null,"Export Data",-1)])),_:1}),o(s,{cols:"3"},{default:n(()=>[o(x,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=r=>u.value=r),items:["csv","html"],label:"Select Format",dense:""},null,8,["modelValue"])]),_:1}),o(s,{cols:"6"},{default:n(()=>[(_(),p(V,null,h(7,r=>o(l,{key:"vial"+r,color:"info",class:"mr-1 mb-1",onClick:j=>w(r,u.value)},{default:n(()=>[d(" Vial "+E(r),1)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1}),f("div",{class:"mt-3",innerHTML:g.value},null,8,S)])}}},F=k(U,[["__scopeId","data-v-d7fb67f8"]]);export{F as default};
